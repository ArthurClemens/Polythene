{"version":3,"file":"polythene-core-search.js","sources":["../../polythene-css-classes/search.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-search\",\n\n  // elements\n  content:         \"pe-search__content\",\n\n  // states\n  searchFullWidth: \"pe-search--full-width\",\n  searchInset:     \"pe-search--inset\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/search\";\n\nconst getNameOfState = searchState =>\n  searchState.focus && searchState.dirty\n    ? \"focus_dirty\"\n    : searchState.focus\n      ? \"focus\"\n      : searchState.dirty\n        ? \"dirty\"\n        : \"none\";\n\nexport const _Search = ({ h, a, useState, TextField, ...props }) => {\n  const [searchState, setSearchState] = useState({});\n  \n  const componentProps = Object.assign({},\n    filterSupportedAttributes(props),\n    props.testId && { \"data-test-id\": props.testId },\n    {\n      className: [\n        classes.component,\n        props.fullWidth ? classes.searchFullWidth : classes.searchInset,\n        props.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        props.tone === \"light\" ? \"pe-light-tone\" : null,\n        props.className || props[a.class],\n      ].join(\" \")\n    },\n    props.events\n  );\n\n  const searchStateName = getNameOfState(searchState);\n  const buttons = (props.buttons || {})[searchStateName] || {};\n  const textfieldAttrs = props.textfield || {};\n\n  const contents = h(\"div\",\n    { className: classes.content },\n    [\n      buttons.before,\n      h(TextField, Object.assign(\n        {},\n        textfieldAttrs,\n        {\n          key: \"input\",\n          onChange: newState => {\n            setSearchState(newState);\n            if (textfieldAttrs.onChange) {\n              textfieldAttrs.onChange(newState);\n            }\n          },\n        }\n      )),\n      buttons.after\n    ]\n  );\n  const content = [\n    props.before,\n    contents,\n    props.after\n  ];\n  \n  return h(props.element || \"div\", componentProps, content);\n};\n"],"names":["component","content","searchFullWidth","searchInset","h","a","useState","TextField","props","searchState","setSearchState","componentProps","_extends","filterSupportedAttributes","testId","className","classes","fullWidth","tone","join","events","searchStateName","focus","dirty","getNameOfState","buttons","textfieldAttrs","textfield","contents","before","key","onChange","newState","after","element"],"mappings":"kuCACe,CACbA,UAAiB,YAGjBC,QAAiB,qBAGjBC,gBAAiB,wBACjBC,YAAiB,8BCGI,gBAAGC,IAAAA,EAAGC,IAAAA,EAAGC,IAAAA,SAAUC,IAAAA,UAAcC,4CAChBF,EAAS,OAAxCG,OAAaC,OAEdC,EAAiBC,EAAc,GACnCC,4BAA0BL,GAC1BA,EAAMM,QAAU,gBAAkBN,EAAMM,QACxC,CACEC,UAAW,CACTC,EAAQhB,UACRQ,EAAMS,UAAYD,EAAQd,gBAAkBc,EAAQb,YACrC,SAAfK,EAAMU,KAAkB,eAAiB,KAC1B,UAAfV,EAAMU,KAAmB,gBAAkB,KAC3CV,EAAMO,WAAaP,EAAMH,UACzBc,KAAK,MAETX,EAAMY,QAGFC,EA3Be,SAAAZ,UACrBA,EAAYa,OAASb,EAAYc,MAC7B,cACAd,EAAYa,MACV,QACAb,EAAYc,MACV,QACA,OAoBgBC,CAAef,GACjCgB,GAAWjB,EAAMiB,SAAW,IAAIJ,IAAoB,GACpDK,EAAiBlB,EAAMmB,WAAa,GAEpCC,EAAWxB,EAAE,MACjB,CAAEW,UAAWC,EAAQf,SACrB,CACEwB,EAAQI,OACRzB,EAAEG,EAAWK,EACX,GACAc,EACA,CACEI,IAAK,QACLC,SAAU,SAAAC,GACRtB,EAAesB,GACXN,EAAeK,UACjBL,EAAeK,SAASC,OAKhCP,EAAQQ,QAGNhC,EAAU,CACdO,EAAMqB,OACND,EACApB,EAAMyB,cAGD7B,EAAEI,EAAM0B,SAAW,MAAOvB,EAAgBV"}