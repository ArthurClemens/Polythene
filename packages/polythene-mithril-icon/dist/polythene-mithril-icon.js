!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mithril")):"function"==typeof define&&define.amd?define(["exports","mithril"],t):t(e.polythene={},e.m)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;const n={autocomplete:"autocomplete",autofocus:"autofocus",class:"class",className:"class",enctype:"enctype",formaction:"formaction",frameborder:"frameborder",maxlength:"maxlength",minlength:"minlength",onblur:"onblur",onchange:"onchange",onclick:"onclick",onfocus:"onfocus",oninput:"oninput",onkeydown:"onkeydown",onkeyup:"onkeyup",onmousedown:"onmousedown",onmouseout:"onmouseout",onmouseover:"onmouseover",onmouseup:"onmouseup",onscroll:"onscroll",onsubmit:"onsubmit",ontouchend:"ontouchend",ontouchmove:"ontouchmove",ontouchstart:"ontouchstart",readonly:"readonly",tabindex:"tabindex"},r=t;r.displayName="mithril";var o;(function(e){!function(){var t=0,n={};function r(){function e(){return arguments.length>0&&arguments[0]!==n&&o(e,arguments[0]),e._state.value}return function(e){e.constructor=r,e._state={id:t++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0,unregister:void 0},e.map=e["fantasy-land/map"]=s,e["fantasy-land/ap"]=c,e["fantasy-land/of"]=r,e.valueOf=f,e.toJSON=d,e.toString=f,Object.defineProperties(e,{end:{get:function(){if(!e._state.endStream){var t=r();t.map(function(n){return!0===n&&(u(e),t._state.unregister=function(){u(t)}),n}),e._state.endStream=t}return e._state.endStream}}})}(e),arguments.length>0&&arguments[0]!==n&&o(e,arguments[0]),e}function o(e,t){for(var n in i(e,t),e._state.deps)a(e._state.deps[n],!1);null!=e._state.unregister&&e._state.unregister(),function(e){for(var t in e._state.changed=!1,e._state.deps)e._state.deps[t]._state.changed=!1}(e)}function i(e,t){e._state.value=t,e._state.changed=!0,2!==e._state.state&&(e._state.state=1)}function a(e,t){var r=e._state.parents;if(r.length>0&&r.every(m)&&(t||r.some(v))){var o=e._state.derive();if(o===n)return!1;i(e,o)}}function l(e,t){if(!t.every(p))throw new Error("Ensure that each item passed to stream.combine/stream.merge is a stream");return function(e,t,n){var r=e._state;return r.derive=n,r.parents=t.filter(h),function e(t,n){for(var r=0;r<n.length;r++)n[r]._state.deps[t._state.id]=t,e(t,n[r]._state.parents)}(e,r.parents),a(e,!0),e}(r(),t,function(){return e.apply(this,t.concat([t.filter(v)]))})}function u(e){for(var t=0;t<e._state.parents.length;t++){delete e._state.parents[t]._state.deps[e._state.id]}for(var n in e._state.deps){var r=e._state.deps[n],o=r._state.parents.indexOf(e);o>-1&&r._state.parents.splice(o,1)}e._state.state=2,e._state.deps={}}function s(e){return l(function(t){return e(t())},[this])}function c(e){return l(function(e,t){return e()(t())},[e,this])}function f(){return this._state.value}function d(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function p(e){return e._state}function m(e){return 1===e._state.state}function v(e){return e._state.changed}function h(e){return 2!==e._state.state}r["fantasy-land/of"]=r,r.merge=function(e){return l(function(){return e.map(function(e){return e()})},e)},r.combine=l,r.scan=function(e,t,n){var r=l(function(n){return t=e(t,n._state.value)},[n]);return 0===r._state.state&&r(t),r},r.scanMerge=function(e,t){var n=e.map(function(e){var t=e[0];return 0===t._state.state&&t(void 0),t});return l(function(){var r=arguments[arguments.length-1];return n.forEach(function(n,o){r.indexOf(n)>-1&&(t=e[o][1](t,n._state.value))}),t},n)},r.HALT=n,e.exports=r}()})(o={exports:{}},o.exports);const i="undefined"!=typeof document,a=(e,t)=>(e[t]=1,e),l=["key","style","href","id","tabIndex","tabindex","oninit","oncreate","onupdate","onbeforeremove","onremove","onbeforeupdate"],u=(e,t="regular")=>(e=>({small:e.small,regular:e.regular,medium:e.medium,large:e.large,fab:e.fab}))(e)[t],s=!!i&&"ontouchstart"in document.documentElement,c=s?["click","mouseup"]:["mouseup"];i&&document.querySelector("html").classList.add(s?"pe-touch":"pe-no-touch");const f={},d=(e,t)=>{f[e]&&f[e].forEach(e=>e(t))};i&&(window.addEventListener("resize",e=>d("resize",e)),window.addEventListener("scroll",e=>d("scroll",e)),window.addEventListener("keydown",e=>d("keydown",e)),window.addEventListener(c,e=>d(c,e)));var p={component:"pe-icon",avatar:"pe-icon--avatar",large:"pe-icon--large",medium:"pe-icon--medium",regular:"pe-icon--regular",small:"pe-icon--small"};var m=Object.freeze({getElement:e=>e.attrs.element||"div",createProps:(e,{keys:t})=>{const n=e.attrs;return Object.assign({},((e,{add:t=[],remove:n=[]}={})=>{const r=n.reduce(a,{}),o=l.concat(t).filter(e=>!r[e]).reduce(a,{});return Object.keys(e).reduce((t,n)=>(o[n]&&(t[n]=e[n]),t),{})})(n),{className:[p.component,u(p,n.size),n.avatar?p.avatar:null,"dark"===n.tone?"pe-dark-tone":null,"light"===n.tone?"pe-light-tone":null,n.className||n[t.class]].join(" ")},n.events)},createContent:(e,{renderer:t,SVG:n})=>{const r=e.attrs;return r.content?r.content:r.svg?t(n,r.svg):r.src?t("img",{src:r.src}):r.children||e.children}});function v(e,t,n,r,o,i){return{tag:e,key:t,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,events:void 0,instance:void 0}}v.normalize=function(e){return Array.isArray(e)?v("[",void 0,void 0,v.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?v("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},v.normalizeChildren=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=v.normalize(e[n]);return t};var h=function(){var e,t=arguments[this],n=this+1;if(null==t?t={}:("object"!=typeof t||null!=t.tag||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)e=arguments[n],Array.isArray(e)||(e=[e]);else for(e=[];n<arguments.length;)e.push(arguments[n++]);return v("",t.key,t,e)},y=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,g={},w={}.hasOwnProperty;function b(e){for(var t in e)if(w.call(e,t))return!1;return!0}function x(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=h.apply(1,arguments);return"string"==typeof e?function(e,t){var n=t.attrs,r=v.normalizeChildren(t.children),o=w.call(n,"class"),i=o?n.class:n.className;if(t.tag=e.tag,t.attrs=null,t.children=void 0,!b(e.attrs)&&!b(n)){var a={};for(var l in n)w.call(n,l)&&(a[l]=n[l]);n=a}for(var l in e.attrs)w.call(e.attrs,l)&&"className"!==l&&!w.call(n,l)&&(n[l]=e.attrs[l]);for(var l in null==i&&null==e.attrs.className||(n.className=null!=i?null!=e.attrs.className?String(e.attrs.className)+" "+String(i):i:null!=e.attrs.className?e.attrs.className:null),o&&(n.class=null),n)if(w.call(n,l)&&"key"!==l){t.attrs=n;break}return Array.isArray(r)&&1===r.length&&null!=r[0]&&"#"===r[0].tag?t.text=r[0].children:t.children=r,t}(g[e]||function(e){for(var t,n="div",r=[],o={};t=y.exec(e);){var i=t[1],a=t[2];if(""===i&&""!==a)n=a;else if("#"===i)o.id=a;else if("."===i)r.push(a);else if("["===t[3][0]){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(l):o[t[4]]=""===l?l:l||!0}}return r.length>0&&(o.className=r.join(" ")),g[e]={tag:n,attrs:o}}(e),t):(t.tag=e,t)}x.trust=function(e){return null==e&&(e=""),v("<",void 0,void 0,e,void 0,void 0)},x.fragment=function(){var e=h.apply(0,arguments);return e.tag="[",e.children=v.normalizeChildren(e.children),e};var k=function(){return x.apply(this,arguments)};if(k.m=x,k.trust=x.trust,k.fragment=x.fragment,(S=function(e){if(!(this instanceof S))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var t=this,n=[],r=[],o=u(n,!0),i=u(r,!1),a=t._instance={resolvers:n,rejectors:r},l="function"==typeof setImmediate?setImmediate:setTimeout;function u(e,o){return function u(c){var f;try{if(!o||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(f=c.then))l(function(){o||0!==e.length||console.error("Possible unhandled promise rejection:",c);for(var t=0;t<e.length;t++)e[t](c);n.length=0,r.length=0,a.state=o,a.retry=function(){u(c)}});else{if(c===t)throw new TypeError("Promise can't be resolved w/ itself");s(f.bind(c))}}catch(e){i(e)}}}function s(e){var t=0;function n(e){return function(n){t++>0||e(n)}}var r=n(i);try{e(n(o),r)}catch(e){r(e)}}s(e)}).prototype.then=function(e,t){var n,r,o=this._instance;function i(e,t,i,a){t.push(function(t){if("function"!=typeof e)i(t);else try{n(e(t))}catch(e){r&&r(e)}}),"function"==typeof o.retry&&a===o.state&&o.retry()}var a=new S(function(e,t){n=e,r=t});return i(e,o.resolvers,n,!0),i(t,o.rejectors,r,!1),a},S.prototype.catch=function(e){return this.then(null,e)},S.prototype.finally=function(e){return this.then(function(t){return S.resolve(e()).then(function(){return t})},function(t){return S.resolve(e()).then(function(){return S.reject(t)})})},S.resolve=function(e){return e instanceof S?e:new S(function(t){t(e)})},S.reject=function(e){return new S(function(t,n){n(e)})},S.all=function(e){return new S(function(t,n){var r=e.length,o=0,i=[];if(0===e.length)t([]);else for(var a=0;a<e.length;a++)!function(a){function l(e){o++,i[a]=e,o===r&&t(i)}null==e[a]||"object"!=typeof e[a]&&"function"!=typeof e[a]||"function"!=typeof e[a].then?l(e[a]):e[a].then(l,n)}(a)})},S.race=function(e){return new S(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},"undefined"!=typeof window){void 0===window.Promise?window.Promise=S:window.Promise.prototype.finally||(window.Promise.prototype.finally=S.prototype.finally);var S=window.Promise}else if("undefined"!=typeof global){void 0===global.Promise?global.Promise=S:global.Promise.prototype.finally||(global.Promise.prototype.finally=S.prototype.finally);S=global.Promise}var E=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(e+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(e+"["+o+"]",n[o]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},_=function(e,t){var n,r=0;function o(e){return function(r,o){"string"!=typeof r?(o=r,r=r.url):null==o&&(o={});var i=new t(function(t,n){e(r,o,function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=new o.type(e[n]);else e=new o.type(e);t(e)},n)});if(!0===o.background)return i;var a=0;function l(){0==--a&&"function"==typeof n&&n()}return function e(t){var n=t.then;return t.then=function(){a++;var r=n.apply(t,arguments);return r.then(l,function(e){if(l(),0===a)throw e}),e(r)},t}(i)}}function i(e,t){for(var n in e.headers)if({}.hasOwnProperty.call(e.headers,n)&&t.test(n))return!0;return!1}function a(e,t,n){if(null==t)return e;if(e=e.replace(/:([^\/]+)/gi,function(e,n){return null!=t[n]?t[n]:e}),n&&null!=t){var r=E(t);r&&(e+=(e.indexOf("?")<0?"?":"&")+r)}return e}return{request:o(function(t,n,r,o){var l=null!=n.method?n.method.toUpperCase():"GET",u="GET"!==l&&"TRACE"!==l&&("boolean"!=typeof n.useBody||n.useBody),s=n.data,c=!(null!=n.serialize&&n.serialize!==JSON.serialize||s instanceof e.FormData);u&&("function"==typeof n.serialize?s=n.serialize(s):s instanceof e.FormData||(s=JSON.stringify(s)));var f=new e.XMLHttpRequest,d=!1,p=f.abort;for(var m in f.abort=function(){d=!0,p.call(f)},f.open(l,a(t,n.data,!u),"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),c&&u&&!i(n,/^content-type0$/i)&&f.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||i(n,/^accept$/i)||f.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(f.withCredentials=n.withCredentials),n.timeout&&(f.timeout=n.timeout),n.responseType&&(f.responseType=n.responseType),n.headers)({}).hasOwnProperty.call(n.headers,m)&&f.setRequestHeader(m,n.headers[m]);"function"==typeof n.config&&(f=n.config(f,n)||f),f.onreadystatechange=function(){if(!d&&4===f.readyState)try{var e=f.status>=200&&f.status<300||304===f.status||/^file:\/\//i.test(t),i=f.responseText;if("function"==typeof n.extract)i=n.extract(f,n),e=!0;else if("function"==typeof n.deserialize)i=n.deserialize(i);else try{i=i?JSON.parse(i):null}catch(e){throw new Error("Invalid JSON: "+i)}if(e)r(i);else{var a=new Error(f.responseText);a.code=f.status,a.response=i,o(a)}}catch(e){o(e)}},u&&null!=s?f.send(s):f.send()}),jsonp:o(function(t,n,o,i){var l=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,u=e.document.createElement("script");e[l]=function(t){u.parentNode.removeChild(u),o(t),delete e[l]},u.onerror=function(){u.parentNode.removeChild(u),i(new Error("JSONP request failed")),delete e[l]},t=a(t,n.data,!0),u.src=t+(t.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(l),e.document.documentElement.appendChild(u)}),setCompletionCallback:function(e){n=e}}}(window,S),O=function(e){var t,n=e.document,r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(e){return e.attrs&&e.attrs.xmlns||r[e.tag]}function i(e,t){if(e.state!==t)throw new Error("`vnode.state` must not be modified")}function a(e){var t=e.state;try{return this.apply(t,arguments)}finally{i(e,t)}}function l(){try{return n.activeElement}catch(e){return null}}function u(e,t,n,r,o,i,a){for(var l=n;l<r;l++){var u=t[l];null!=u&&s(e,u,o,a,i)}}function s(e,t,r,i,l){var c=t.tag;if("string"==typeof c)switch(t.state={},null!=t.attrs&&A(t.attrs,t,r),c){case"#":!function(e,t,r){t.dom=n.createTextNode(t.children),g(e,t.dom,r)}(e,t,l);break;case"<":f(e,t,i,l);break;case"[":!function(e,t,r,o,i){var a=n.createDocumentFragment();if(null!=t.children){var l=t.children;u(a,l,0,l.length,r,null,o)}t.dom=a.firstChild,t.domSize=a.childNodes.length,g(e,a,i)}(e,t,r,i,l);break;default:!function(e,t,r,i,a){var l=t.tag,s=t.attrs,c=s&&s.is,f=(i=o(t)||i)?c?n.createElementNS(i,l,{is:c}):n.createElementNS(i,l):c?n.createElement(l,{is:c}):n.createElement(l);t.dom=f,null!=s&&function(e,t,n){for(var r in t)k(e,r,null,t[r],n)}(t,s,i);if(g(e,f,a),null!=s&&null!=s.contenteditable)w(t);else if(null!=t.text&&(""!==t.text?f.textContent=t.text:t.children=[v("#",void 0,void 0,t.text,void 0,void 0)]),null!=t.children){var d=t.children;u(f,d,0,d.length,r,null,i),"select"===t.tag&&null!=s&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&k(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,s)}}(e,t,r,i,l)}else!function(e,t,n,r,o){(function(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(A(e.state,e,t),null!=e.attrs&&A(e.attrs,e,t),e.instance=v.normalize(a.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(t,n),null!=t.instance?(s(e,t.instance,n,r,o),t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0):t.domSize=0}(e,t,r,i,l)}var c={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function f(e,t,r,o){var i=t.children.match(/^\s*?<(\w+)/im)||[],a=n.createElement(c[i[1]]||"div");"http://www.w3.org/2000/svg"===r?(a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",a=a.firstChild):a.innerHTML=t.children,t.dom=a.firstChild,t.domSize=a.childNodes.length;for(var l,u=n.createDocumentFragment();l=a.firstChild;)u.appendChild(l);g(e,u,o)}function d(e,t,n,r,o,i){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)u(e,n,0,n.length,r,o,i);else if(null==n||0===n.length)b(t,0,t.length);else{for(var a=0,l=0,c=null,f=null;l<t.length;l++)if(null!=t[l]){c=null!=t[l].key;break}for(;a<n.length;a++)if(null!=n[a]){f=null!=n[a].key;break}if(null===f&&null==c)return;if(c!==f)b(t,l,t.length),u(e,n,a,n.length,r,o,i);else if(f){for(var d,v,w,k,S,E=t.length-1,_=n.length-1;E>=l&&_>=a;)if(w=t[E],k=n[_],null==w)E--;else if(null==k)_--;else{if(w.key!==k.key)break;w!==k&&p(e,w,k,r,o,i),null!=k.dom&&(o=k.dom),E--,_--}for(;E>=l&&_>=a;)if(d=t[l],v=n[a],null==d)l++;else if(null==v)a++;else{if(d.key!==v.key)break;l++,a++,d!==v&&p(e,d,v,r,y(t,l,o),i)}for(;E>=l&&_>=a;){if(null==d)l++;else if(null==v)a++;else if(null==w)E--;else if(null==k)_--;else{if(a===_)break;if(d.key!==k.key||w.key!==v.key)break;S=y(t,l,o),g(e,h(w),S),w!==v&&p(e,w,v,r,S,i),++a<=--_&&g(e,h(d),o),d!==k&&p(e,d,k,r,o,i),null!=k.dom&&(o=k.dom),l++,E--}w=t[E],k=n[_],d=t[l],v=n[a]}for(;E>=l&&_>=a;){if(null==w)E--;else if(null==k)_--;else{if(w.key!==k.key)break;w!==k&&p(e,w,k,r,o,i),null!=k.dom&&(o=k.dom),E--,_--}w=t[E],k=n[_]}if(a>_)b(t,l,E+1);else if(l>E)u(e,n,a,_+1,r,o,i);else{var O,j,C=o,N=_-a+1,P=new Array(N),z=0,A=0,I=2147483647,L=0;for(A=0;A<N;A++)P[A]=-1;for(A=_;A>=a;A--)if(null==O&&(O=m(t,l,E+1)),null!=(k=n[A])){var T=O[k.key];null!=T&&(I=T<I?T:-1,P[A-a]=T,w=t[T],t[T]=null,w!==k&&p(e,w,k,r,o,i),null!=k.dom&&(o=k.dom),L++)}if(o=C,L!==E-l+1&&b(t,l,E+1),0===L)u(e,n,a,_+1,r,o,i);else if(-1===I)for(z=(j=function(e){var t,n,r=e.slice(),o=[];o.push(0);for(var i=0,a=e.length;i<a;++i)if(-1!==e[i]){var l=o[o.length-1];if(e[l]<e[i])r[i]=l,o.push(i);else{for(t=0,n=o.length-1;t<n;){var u=(t+n)/2|0;e[o[u]]<e[i]?t=u+1:n=u}e[i]<e[o[t]]&&(t>0&&(r[i]=o[t-1]),o[t]=i)}}t=o.length,n=o[t-1];for(;t-- >0;)o[t]=n,n=r[n];return o}(P)).length-1,A=_;A>=a;A--)v=n[A],-1===P[A-a]?s(e,v,r,i,o):j[z]===A-a?z--:g(e,h(v),o),null!=v.dom&&(o=n[A].dom);else for(A=_;A>=a;A--)v=n[A],-1===P[A-a]&&s(e,v,r,i,o),null!=v.dom&&(o=n[A].dom)}}else{var $=t.length<n.length?t.length:n.length;for(a=a<l?a:l;a<$;a++)(d=t[a])===(v=n[a])||null==d&&null==v||(null==d?s(e,v,r,i,y(t,a+1,o)):null==v?x(d):p(e,d,v,r,y(t,a+1,o),i));t.length>$&&b(t,a,t.length),n.length>$&&u(e,n,a,n.length,r,o,i)}}}function p(e,t,n,r,i,l){var u=t.tag;if(u===n.tag){if(n.state=t.state,n.events=t.events,function(e,t){do{if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate){var n=a.call(e.attrs.onbeforeupdate,e,t);if(void 0!==n&&!n)break}if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate){var n=a.call(e.state.onbeforeupdate,e,t);if(void 0!==n&&!n)break}return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0}(n,t))return;if("string"==typeof u)switch(null!=n.attrs&&I(n.attrs,n,r),u){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(t,n);break;case"<":!function(e,t,n,r,o){t.children!==n.children?(h(t),f(e,n,r,o)):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,l,i);break;case"[":!function(e,t,n,r,o,i){d(e,t.children,n.children,r,o,i);var a=0,l=n.children;if(n.dom=null,null!=l){for(var u=0;u<l.length;u++){var s=l[u];null!=s&&null!=s.dom&&(null==n.dom&&(n.dom=s.dom),a+=s.domSize||1)}1!==a&&(n.domSize=a)}}(e,t,n,r,i,l);break;default:!function(e,t,n,r){var i=t.dom=e.dom;r=o(t)||r,"textarea"===t.tag&&(null==t.attrs&&(t.attrs={}),null!=t.text&&(t.attrs.value=t.text,t.text=void 0));(function(e,t,n,r){if(null!=n)for(var o in n)k(e,o,t&&t[o],n[o],r);var i;if(null!=t)for(var o in t)null==(i=t[o])||null!=n&&null!=n[o]||S(e,o,i,r)})(t,e.attrs,t.attrs,r),null!=t.attrs&&null!=t.attrs.contenteditable?w(t):null!=e.text&&null!=t.text&&""!==t.text?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(null!=e.text&&(e.children=[v("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=t.text&&(t.children=[v("#",void 0,void 0,t.text,void 0,void 0)]),d(i,e.children,t.children,n,null,r))}(t,n,r,l)}else!function(e,t,n,r,o,i){if(n.instance=v.normalize(a.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");I(n.state,n,r),null!=n.attrs&&I(n.attrs,n,r);null!=n.instance?(null==t.instance?s(e,n.instance,r,i,o):p(e,t.instance,n.instance,r,o,i),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(x(t.instance),n.dom=void 0,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,r,i,l)}else x(t),s(e,n,r,l,i)}function m(e,t,n){for(var r=Object.create(null);t<n;t++){var o=e[t];if(null!=o){var i=o.key;null!=i&&(r[i]=t)}}return r}function h(e){var t=e.domSize;if(null!=t||null==e.dom){var r=n.createDocumentFragment();if(t>0){for(var o=e.dom;--t;)r.appendChild(o.nextSibling);r.insertBefore(o,r.firstChild)}return r}return e.dom}function y(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function g(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function w(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function b(e,t,n){for(var r=t;r<n;r++){var o=e[r];null!=o&&x(o)}}function x(e){var t,n=1,r=0,o=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(t=a.call(e.state.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(l,l)));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(t=a.call(e.attrs.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(l,l)));function l(){if(++r===n&&(i(e,o),function e(t){"string"!=typeof t.tag&&"function"==typeof t.state.onremove&&a.call(t.state.onremove,t);t.attrs&&"function"==typeof t.attrs.onremove&&a.call(t.attrs.onremove,t);if("string"!=typeof t.tag)null!=t.instance&&e(t.instance);else{var n=t.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];null!=o&&e(o)}}}(e),e.dom)){for(var t=e.dom.parentNode,l=e.domSize||1;--l;)t.removeChild(e.dom.nextSibling);t.removeChild(e.dom)}}l()}function k(e,t,r,o,i){if("key"!==t&&"is"!==t&&null!=o&&!E(t)&&(r!==o||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===l()||"option"===e.tag&&e.dom.parentNode===n.activeElement}(e,t)||"object"==typeof o)){if("o"===t[0]&&"n"===t[1])return z(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)N(e.dom,r,o);else if(_(e,t,i)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&e.dom===l())return;if("select"===e.tag&&null!==r&&e.dom.value===""+o)return;if("option"===e.tag&&null!==r&&e.dom.value===""+o)return}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,o):e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function S(e,t,n,r){if("key"!==t&&"is"!==t&&null!=n&&!E(t))if("o"!==t[0]||"n"!==t[1]||E(t))if("style"===t)N(e.dom,n,null);else if(!_(e,t,r)||"className"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===l())||"input"===e.tag&&"type"===t){var o=t.indexOf(":");-1!==o&&(t=t.slice(o+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null;else z(e,t,void 0)}function E(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function _(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var O=/[A-Z]/g;function j(e){return"-"+e.toLowerCase()}function C(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(O,j)}function N(e,t,n){if(t===n);else if(null==n)e.style.cssText="";else if("object"!=typeof n)e.style.cssText=n;else if(null==t||"object"!=typeof t)for(var r in e.style.cssText="",n){null!=(o=n[r])&&e.style.setProperty(C(r),String(o))}else{for(var r in n){var o;null!=(o=n[r])&&(o=String(o))!==String(t[r])&&e.style.setProperty(C(r),o)}for(var r in t)null!=t[r]&&null==n[r]&&e.style.removeProperty(C(r))}}function P(){}function z(e,t,n){if(null!=e.events){if(e.events[t]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(e.events=new P,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}function A(e,t,n){"function"==typeof e.oninit&&a.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(a.bind(e.oncreate,t))}function I(e,t,n){"function"==typeof e.onupdate&&n.push(a.bind(e.onupdate,t))}return P.prototype=Object.create(null),P.prototype.handleEvent=function(e){var n,r=this["on"+e.type];"function"==typeof r?n=r.call(e.currentTarget,e):"function"==typeof r.handleEvent&&r.handleEvent(e),!1===e.redraw?e.redraw=void 0:"function"==typeof t&&t(),!1===n&&(e.preventDefault(),e.stopPropagation())},{render:function(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],r=l(),o=e.namespaceURI;null==e.vnodes&&(e.textContent=""),t=v.normalizeChildren(Array.isArray(t)?t:[t]),d(e,e.vnodes,t,n,null,"http://www.w3.org/1999/xhtml"===o?void 0:o),e.vnodes=t,null!=r&&l()!==r&&"function"==typeof r.focus&&r.focus();for(var i=0;i<n.length;i++)n[i]()},setRedraw:function(e){return t=e}}};var j=function(e,t){var n=O(e),r=[],o=!1;function i(e){var t=r.indexOf(e);t>-1&&r.splice(t,2)}function a(){if(o)throw new Error("Nested m.redraw.sync() call");o=!0;for(var e=1;e<r.length;e+=2)try{r[e]()}catch(e){"undefined"!=typeof console&&console.error(e)}o=!1}var l=(t||function(e){var t=null;return function(){null===t&&(t=requestAnimationFrame(function(){t=null,e()}))}})(a);return l.sync=a,n.setRedraw(l),{subscribe:function(e,t){i(e),r.push(e,t)},unsubscribe:i,redraw:l,render:n.render}}(window);_.setCompletionCallback(j.redraw);var C;k.mount=(C=j,function(e,t){if(null===t)return C.render(e,[]),void C.unsubscribe(e);if(null==t.view&&"function"!=typeof t)throw new Error("m.mount(element, component) expects a component, not a vnode");var n=function(){C.render(e,v(t))};C.subscribe(e,n),n()});var N=S,P=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},o=0;o<t.length;o++){var i=t[o].split("="),a=decodeURIComponent(i[0]),l=2===i.length?decodeURIComponent(i[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var u=a.split(/\]\[?|\[/),s=n;a.indexOf("[")>-1&&u.pop();for(var c=0;c<u.length;c++){var f=u[c],d=u[c+1],p=""==d||!isNaN(parseInt(d,10)),m=c===u.length-1;if(""===f)null==r[a=u.slice(0,c).join()]&&(r[a]=0),f=r[a]++;null==s[f]&&(s[f]=m?l:p?[]:{}),s=s[f]}}return n},z=function(e){var t,n="function"==typeof e.history.pushState,r="function"==typeof setImmediate?setImmediate:setTimeout;function o(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function i(e,t,n){var r=e.indexOf("?"),o=e.indexOf("#"),i=r>-1?r:o>-1?o:e.length;if(r>-1){var a=o>-1?o:e.length,l=P(e.slice(r+1,a));for(var u in l)t[u]=l[u]}if(o>-1){var s=P(e.slice(o+1));for(var u in s)n[u]=s[u]}return e.slice(0,i)}var a={prefix:"#!",getPath:function(){switch(a.prefix.charAt(0)){case"#":return o("hash").slice(a.prefix.length);case"?":return o("search").slice(a.prefix.length)+o("hash");default:return o("pathname").slice(a.prefix.length)+o("search")+o("hash")}},setPath:function(t,r,o){var l={},u={};if(t=i(t,l,u),null!=r){for(var s in r)l[s]=r[s];t=t.replace(/:([^\/]+)/g,function(e,t){return delete l[t],r[t]})}var c=E(l);c&&(t+="?"+c);var f=E(u);if(f&&(t+="#"+f),n){var d=o?o.state:null,p=o?o.title:null;e.onpopstate(),o&&o.replace?e.history.replaceState(d,p,a.prefix+t):e.history.pushState(d,p,a.prefix+t)}else e.location.href=a.prefix+t}};return a.defineRoutes=function(o,l,u){function s(){var t=a.getPath(),n={},r=i(t,n,n),s=e.history.state;if(null!=s)for(var c in s)n[c]=s[c];for(var f in o){var d=new RegExp("^"+f.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(r))return void r.replace(d,function(){for(var e=f.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),i=0;i<e.length;i++)n[e[i].replace(/:|\./g,"")]=decodeURIComponent(r[i]);l(o[f],n,t,f)})}u(t,n)}var c;n?e.onpopstate=(c=s,function(){null==t&&(t=r(function(){t=null,c()}))}):"#"===a.prefix.charAt(0)&&(e.onhashchange=s),s()},a};k.route=function(e,t){var n,r,o,i,a,l=z(e),u=function(e,u,s){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");function c(){null!=n&&t.render(e,n(v(r,o.key,o)))}var f=function(){c(),f=t.redraw};t.subscribe(e,c);var d=function(e){if(e===u)throw new Error("Could not resolve default route "+u);l.setPath(u,null,{replace:!0})};l.defineRoutes(s,function(e,t,l){var u=a=function(e,s){u===a&&(r=null==s||"function"!=typeof s.view&&"function"!=typeof s?"div":s,o=t,i=l,a=null,n=(e.render||function(e){return e}).bind(e),f())};e.view||"function"==typeof e?u({},e):e.onmatch?N.resolve(e.onmatch(t,l)).then(function(t){u(e,t)},d):u(e,"div")},d)};u.set=function(e,t,n){null!=a&&((n=n||{}).replace=!0),a=null,l.setPath(e,t,n)},u.get=function(){return i},u.prefix=function(e){l.prefix=e};var s=function(e,t){t.dom.setAttribute("href",l.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var n=this.getAttribute("href");0===n.indexOf(l.prefix)&&(n=n.slice(l.prefix.length)),u.set(n,void 0,e)}}};return u.link=function(e){return null==e.tag?s.bind(s,e):s({},e)},u.param=function(e){return void 0!==o&&void 0!==e?o[e]:o},u}(window,j);var A=O(window);k.render=A.render,k.redraw=j.redraw,k.request=_.request,k.jsonp=_.jsonp,k.parseQueryString=P,k.buildQueryString=E,k.version="2.0.0-rc.3",k.vnode=v,k.PromisePolyfill=S;const I={autocomplete:"autocomplete",autofocus:"autofocus",class:"class",className:"class",enctype:"enctype",formaction:"formaction",frameborder:"frameborder",maxlength:"maxlength",minlength:"minlength",onblur:"onblur",onchange:"onchange",onclick:"onclick",onfocus:"onfocus",oninput:"oninput",onkeydown:"onkeydown",onkeyup:"onkeyup",onmousedown:"onmousedown",onmouseout:"onmouseout",onmouseover:"onmouseover",onmouseup:"onmouseup",onscroll:"onscroll",onsubmit:"onsubmit",ontouchend:"ontouchend",ontouchmove:"ontouchmove",ontouchstart:"ontouchstart",readonly:"readonly",tabindex:"tabindex"},L=k;L.displayName="mithril",$.SKIP={},$.lift=function(){var e=arguments[0];return R(Array.prototype.slice.call(arguments,1)).map(function(t){return e.apply(void 0,t)})},$.scan=function(e,t,n){var r=n.map(function(n){return t=e(t,n)});return r(t),r},$.merge=R,$.combine=M,$.scanMerge=function(e,t){var n=e.map(function(e){return e[0]}),r=M(function(){var r=arguments[arguments.length-1];return n.forEach(function(n,o){r.indexOf(n)>-1&&(t=e[o][1](t,n()))}),t},n);return r(t),r},$["fantasy-land/of"]=$;let T=!1;function $(e){var t=[],n=[];function r(o){return arguments.length&&o!==$.SKIP&&q(r)&&(e=o,r.changing(),r.state="active",t.forEach(function(t,r){t(n[r](e))})),e}let o;return r.constructor=$,r.state=arguments.length&&e!==$.SKIP?"active":"pending",r.changing=function(){q(r)&&(r.state="changing"),t.forEach(function(e){e.dependent&&e.dependent.changing(),e.changing()})},r.map=function(o,i){var a="active"===r.state&&i!==$.SKIP?$(o(e)):$();return t.push(a),n.push(o),a},r.toJSON=function(){return null!=e&&"function"==typeof e.toJSON?e.toJSON():e},r["fantasy-land/map"]=r.map,r["fantasy-land/ap"]=function(e){return M(function(e,t){return e()(t())},[e,r])},Object.defineProperty(r,"end",{get:function(){return o||((o=$()).map(function(e){return!0===e&&(r.state="ended",t.length=n.length=0),e}),o)}}),r}function M(e,t){var n=t.every(function(e){if(e.constructor!==$)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return"active"===e.state}),r=n?$(e.apply(null,t.concat([t]))):$();let o=[];return t.forEach(function(i){i.map(function(a){return o.push(i),(n||t.every(function(e){return"pending"!==e.state}))&&(n=!0,r(e.apply(null,t.concat([o]))),o=[]),a},$.SKIP).parent=r}),r}function R(e){return M(function(){return e.map(function(e){return e()})},e)}function q(e){return"pending"===e.state||"active"===e.state||"changing"===e.state}Object.defineProperty($,"HALT",{get:function(){return T&&console.log("HALT is deprecated and has been renamed to SKIP"),T=!0,$.SKIP}});var K;(K=Object.freeze({default:$}))&&K.default;const U="undefined"!=typeof document,H=(e,t)=>(e[t]=1,e),J=["key","style","href","id","tabIndex","tabindex","oninit","oncreate","onupdate","onbeforeremove","onremove","onbeforeupdate"],D=!!U&&"ontouchstart"in document.documentElement,F=D?["click","mouseup"]:["mouseup"];U&&document.querySelector("html").classList.add(D?"pe-touch":"pe-no-touch");const G={},V=(e,t)=>{G[e]&&G[e].forEach(e=>e(t))};U&&(window.addEventListener("resize",e=>V("resize",e)),window.addEventListener("scroll",e=>V("scroll",e)),window.addEventListener("keydown",e=>V("keydown",e)),window.addEventListener(F,e=>V(F,e)));var B={component:"pe-svg"};var Q=Object.freeze({getElement:e=>e.attrs.element||"div",onMount:e=>{if(!e.dom)return;const t=e.dom.querySelector("svg");t&&t.setAttribute("focusable","false")},createProps:(e,{keys:t})=>{const n=e.attrs;return Object.assign({},((e,{add:t=[],remove:n=[]}={})=>{const r=n.reduce(H,{}),o=J.concat(t).filter(e=>!r[e]).reduce(H,{});return Object.keys(e).reduce((t,n)=>(o[n]&&(t[n]=e[n]),t),{})})(n),{className:[B.component,"dark"===n.tone?"pe-dark-tone":null,"light"===n.tone?"pe-light-tone":null,n.className||n[t.class]].join(" ")})},createContent:e=>{const t=e.attrs;return t.content?t.content:t.children||e.children||t}});const X=(({createContent:e=(()=>{}),createProps:t=(()=>{}),getElement:n=(()=>"div"),component:r=null,view:o=null,onMount:i=(()=>{}),onUnMount:a=(()=>{})})=>{const l=o=>L(r||n(o),t(o,{renderer:L,requiresKeys:!1,keys:I}),[o.attrs.before,e(o,{renderer:L,requiresKeys:!1,keys:I}),o.attrs.after]);return{view:o?e=>o(e,{render:l,renderer:L}):e=>l(e),oncreate:e=>i(e,{keys:I}),onremove:a}})(Object.assign({},Q));X.displayName="SVG";const Z=(({createContent:e=(()=>{}),createProps:t=(()=>{}),getElement:o=(()=>"div"),component:i=null,view:a=null,onMount:l=(()=>{}),onUnMount:u=(()=>{})})=>{const s=a=>r(i||o(a),t(a,{renderer:r,requiresKeys:!1,keys:n}),[a.attrs.before,e(a,{renderer:r,requiresKeys:!1,keys:n}),a.attrs.after]);return{view:a?e=>a(e,{render:s,renderer:r}):e=>s(e),oncreate:e=>l(e,{keys:n}),onremove:u}})(Object.assign({},m,{createProps:(e,t)=>m.createProps(e,Object.assign(t,{SVG:X})),createContent:(e,t)=>m.createContent(e,Object.assign(t,{SVG:X}))}));Z.displayName="Icon",e.Icon=Z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-mithril-icon.js.map
