{"version":3,"file":"polythene-css-icon.js","sources":["../src/vars.js","../../polythene-css-classes/icon.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["import { vars } from \"polythene-theme\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n\nexport default {\n  general_styles:                true,\n\n  size_small:                    vars.unit_icon_size_small,\n  size_regular:                  vars.unit_icon_size,\n  size_medium:                   vars.unit_icon_size_medium,\n  size_large:                    vars.unit_icon_size_large,\n\n  // avatar background is visible when image is not yet loaded\n  color_light_avatar_background: rgba(vars.color_light_foreground, vars.blend_light_background_disabled),\n  color_dark_avatar_background:  rgba(vars.color_dark_foreground, vars.blend_dark_background_disabled),\n\n  color_light:                   \"currentcolor\",\n  color_dark:                    \"currentcolor\"\n};\n","\nexport default {\n  component: \"pe-icon\",\n\n  // states\n  avatar:    \"pe-icon--avatar\",\n  large:     \"pe-icon--large\",\n  medium:    \"pe-icon--medium\",\n  regular:   \"pe-icon--regular\",\n  small:     \"pe-icon--small\",\n};\n","\nconst sel = (selector, o) => ({\n  [selector]: o\n});\n\nconst sizeDirective = size => (selector, vars) =>\n  sel(selector, {\n    [`.pe-icon--${size}`]: {\n      width:  vars[`size_${size}`] + \"px\",\n      height: vars[`size_${size}`] + \"px\",\n    }\n  });\n\nconst varFns = Object.assign({},\n  {\n    general_styles: selector => [\n      sel(selector, {\n        display: \"inline-block\",\n        verticalAlign: \"middle\",\n        backgroundRepeat: \"no-repeat\",\n        position: \"relative\",\n        fontSize: 0,\n        lineHeight: 0,\n\n        \".pe-icon--avatar\": {\n          borderRadius: \"50%\",\n        },\n        \n        \".pe-icon--avatar img\": {\n          border: \"none\",\n          borderRadius: \"50%\",\n          width: \"inherit\",\n          height: \"inherit\"\n        },\n\n        \" img\": {\n          height: \"inherit\"\n        },\n\n        \" .pe-svg, .pe-svg > div\": { /* React creates an additional div when wrapping an SVG */\n          width: \"inherit\",\n          height: \"inherit\"\n        },\n      })\n    ],\n  },\n  [\"small\", \"regular\", \"medium\", \"large\"].reduce((acc, size) => (\n    acc[`size_${size}`] = sizeDirective(size),\n    acc\n  ), {})\n);\n\nexport default (selector, componentVars, customVars) => {\n  const allVars = {...componentVars, ...customVars};\n  const currentVars = customVars\n    ? customVars\n    : allVars;\n  return Object.keys(currentVars).map(v => (\n    varFns[v] !== undefined \n      ? varFns[v](selector, allVars)\n      : null\n  )).filter(s => s);\n};\n","\nconst sel = (selector, o) => ({\n  [selector]: o\n});\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      color: \"currentColor\",\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint]: (selector, vars) => [\n    sel(selector, {\n      color: vars[\"color_\" + tint]\n    })\n  ],\n  [\"color_\" + tint + \"_avatar_background\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-icon--avatar\": {\n        backgroundColor: vars[\"color_\" + tint + \"_avatar_background\"],\n      } \n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nconst createStyle = (selector, componentVars, customVars, tint) => {\n  const allVars = {...componentVars, ...customVars};\n  const currentVars = customVars\n    ? customVars\n    : allVars;\n  return Object.keys(currentVars).map(v => {\n    const varFns = tint === \"light\"\n      ? lightTintFns\n      : darkTintFns;\n    return varFns[v] !== undefined \n      ? varFns[v](selector, allVars)\n      : null;\n  }).filter(s => s);\n};\n\nconst style = (scopes, selector, componentVars, customVars, tint) => {\n  const selectors = scopes.map(s => s + selector).join(\",\");\n  return createStyle(selectors, componentVars, customVars, tint);\n};\n\nexport default (selector, componentVars, customVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, customVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, customVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport vars from \"./vars\";\nimport classes from \"polythene-css-classes/icon\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = (customSelector, customVars) => \n  styler.generateCustomStyles([customSelector, selector], vars, customVars, fns);\n\nconst getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createCustomStyleSheets([customSelector, selector], vars, customVars, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n\nexport { addStyle, getStyle, vars };\n"],"names":["rgba","colorStr","opacity","general_styles","size_small","vars","unit_icon_size_small","size_regular","unit_icon_size","size_medium","unit_icon_size_medium","size_large","unit_icon_size_large","color_light_avatar_background","color_light_foreground","blend_light_background_disabled","color_dark_avatar_background","color_dark_foreground","blend_dark_background_disabled","color_light","color_dark","component","avatar","large","medium","regular","small","sel","selector","o","sizeDirective","size","width","height","varFns","display","verticalAlign","backgroundRepeat","position","fontSize","lineHeight","borderRadius","border","reduce","acc","componentVars","customVars","allVars","currentVars","Object","keys","map","v","undefined","filter","s","generalFns","color","tintFns","tint","backgroundColor","lightTintFns","_extends","darkTintFns","createStyle","style","scopes","selectors","join","fns","layout","classes","addStyle","customSelector","styler","generateCustomStyles","getStyle","createCustomStyleSheets","createStyleSheets","generateStyles"],"mappings":"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"}