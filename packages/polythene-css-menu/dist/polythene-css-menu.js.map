{"version":3,"file":"polythene-css-menu.js","sources":["../../polythene-css-classes/list-tile.js","../../polythene-css-classes/menu.js","../src/color.js","../src/layout.js","../src/vars.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-list-tile\",\n\n  // elements\n  content:         \"pe-list-tile__content\",\n  highSubtitle:    \"pe-list-tile__high-subtitle\",\n  primary:         \"pe-list-tile__primary\",\n  secondary:       \"pe-list-tile__secondary\",\n  subtitle:        \"pe-list-tile__subtitle\",\n  title:           \"pe-list-tile__title\",\n  contentFront:    \"pe-list-tile__content-front\",\n\n  // states\n  compact:         \"pe-list-tile--compact\",\n  compactFront:    \"pe-list-tile--compact-front\",\n  disabled:        \"pe-list-tile--disabled\",\n  hasFront:        \"pe-list-tile--front\",\n  hasHighSubtitle: \"pe-list-tile--high-subtitle\",\n  hasSubtitle:     \"pe-list-tile--subtitle\",\n  header:          \"pe-list-tile--header\",\n  hoverable:       \"pe-list-tile--hoverable\",\n  selectable:      \"pe-list-tile--selectable\",\n  selected:        \"pe-list-tile--selected\",\n  highlight:       \"pe-list-tile--highlight\",\n  sticky:          \"pe-list-tile--sticky\",\n  navigation:      \"pe-list-tile--navigation\",\n};\n","import listTileClasses from \"./list-tile\";\n\nexport default {\n  component:   \"pe-menu\",\n\n  // elements\n  content:     \"pe-menu__content\",\n  placeholder: \"pe-menu__placeholder\",\n  target:      \"pe-menu__target\",\n\n  // states\n  permanent:   \"pe-menu--permanent\",\n  floating:    \"pe-menu--floating\",\n  visible:     \"pe-menu--visible\",\n  width_auto:  \"pe-menu--width-auto\",\n  width_n:     \"pe-menu--width-\",\n  origin:      \"pe-menu--origin\",\n\n  // lookup\n  listTile:         listTileClasses.component,\n  selectedListTile: listTileClasses.selected,\n};","import { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [], // eslint-disable-line no-unused-vars\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_background\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-menu__content\": {\n        \"background-color\": vars[\"color_\" + tint + \"_background\"]\n      }\n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","import { vars as themeVars } from \"polythene-theme\";\nimport { sel, selectorRTL, createLayout } from \"polythene-core-css\";\n\nconst alignSide = isRTL => () => ({\n  textAlign: isRTL ? \"right\" : \"left\"\n});\n\nconst alignLeft = alignSide(false);\nconst alignRight = alignSide(true);\n\nconst unifySize = (vars, size) =>\n  size < vars.min_size ? vars.min_size : size;\n\nconst widthClass = size => {\n  const sizeStr = size.toString().replace(\".\", \"-\");\n  return \"pe-menu--width-\" + sizeStr;\n};\n\nconst widthStyle = (vars, size) => {\n  const s = unifySize(vars, size);\n  return {\n    [\".\" + widthClass(s)]: {\n      width: vars.size_factor * s + \"px\",\n      // We can't set maxWidth because we don't know the size of the container\n    }\n  };\n};\n\nconst sizes_min_size_size_factor = (selector, vars) =>\n  sel(selector, [\n    vars.sizes.map(size => widthStyle(vars, size)),\n    {\n      minWidth: themeVars.grid_unit_menu * vars.min_size + \"px\",\n    }\n  ]);\n\nconst varFns = {\n  general_styles: (selector, vars) => [\n    sel(selector, [\n      alignLeft(vars),\n      {\n        transitionProperty: \"all\",\n        zIndex: themeVars.z_menu,\n        opacity: 0,\n        position: \"absolute\",\n        \n        \".pe-menu--width-auto\": {\n          width: \"auto\"\n        },\n\n        \".pe-menu--permanent\": {\n          position: \"relative\",\n          opacity: 1,\n          zIndex: 0\n        },\n\n        \" .pe-menu__content\": {\n          width: \"100%\",\n          height: \"100%\",\n          overflow: \"auto\",\n        },\n\n        \".pe-menu--full-height\": {\n          height: \"100%\",\n\n          \" .pe-menu__content\": {\n            height: \"100%\"\n          }\n        },\n      }\n    ]),\n    {\n      [selectorRTL(selector)]: alignRight(vars)\n    }\n  ],\n  animation_delay: (selector, vars) => [\n    sel(selector, {\n      transitionDelay: vars.animation_delay,\n    })\n  ],\n  animation_duration: (selector, vars) => [\n    sel(selector, {\n      transitionDuration: vars.animation_duration,\n    })\n  ],\n  animation_timing_function: (selector, vars) => [\n    sel(selector, {\n      transitionTimingFunction: vars.animation_timing_function,\n    })\n  ],\n  animation_show_css: (selector, vars) => [\n    sel(selector, {\n      \".pe-menu--visible\": vars.animation_show_css\n    })\n  ],\n  animation_hide_css: (selector, vars) => [\n    sel(selector, [\n      vars.animation_hide_css,\n    ])\n  ],\n  animation_show_origin_effect_css: (selector, vars) => [\n    sel(selector, {\n      \".pe-menu--origin.pe-menu--visible\": vars.animation_show_origin_effect_css\n    })\n  ],\n  animation_hide_origin_effect_css: (selector, vars) => [\n    sel(selector, {\n      \".pe-menu--origin:not(.pe-menu--visible)\": vars.animation_hide_origin_effect_css\n    })\n  ],\n  // exposed_vertical_offset: (selector, vars) => [\n  //   sel(selector, {\n  //     \".pe-menu--exposed\": {\n  //       marginTop: vars.exposed_vertical_offset + \"px\",\n  //       height: `calc(100% - ${vars.exposed_vertical_offset}px)`,\n  //     }\n  //   })\n  // ],\n  sizes: (selector, vars) => [\n    sizes_min_size_size_factor(selector, vars)\n  ],\n  min_size: (selector, vars) => [\n    sizes_min_size_size_factor(selector, vars)\n  ],\n  size_factor: (selector, vars) => [\n    sizes_min_size_size_factor(selector, vars)\n  ],\n  border_radius: (selector, vars) => [\n    sel(selector, {\n      \".pe-menu--floating\": {\n        \" .pe-menu__content\": {\n          borderRadius: vars.border_radius + \"px\"\n        }\n      },\n    })\n  ],\n};\n\nexport default createLayout({ varFns });\n","import { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nexport default {\n  general_styles:                   true,\n       \n  animation_delay:                  \"0s\",\n  animation_duration:               \".180s\",\n  animation_hide_css:               \"opacity: 0;\",\n  animation_hide_origin_effect_css: \"transform: scale(0.75);\",\n  animation_show_css:               \"opacity: 1;\",\n  animation_show_origin_effect_css: \"transform: scale(1);\",\n  animation_timing_function:        \"ease-in-out\",\n  border_radius:                    vars.unit_block_border_radius,\n  min_size:                         1.5,\n  size_factor:                      vars.grid_unit_menu,\n  sizes:                            [1, 1.5, 2, 3, 4, 5, 6, 7],\n       \n  color_light_background:           rgba(vars.color_light_background),\n  color_dark_background:            rgba(vars.color_dark_background)\n  // text colors are set by content, usually list tiles\n};","import classes from \"polythene-css-classes/menu\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = (customSelector, customVars) => \n  styler.generateCustomStyles([customSelector, selector], vars, customVars, fns);\n\nconst getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createCustomStyleSheets([customSelector, selector], vars, customVars, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n\nexport {\n  addStyle,\n  color,\n  getStyle,\n  layout,\n  vars,\n};\n"],"names":["component","content","highSubtitle","primary","secondary","subtitle","title","contentFront","compact","compactFront","disabled","hasFront","hasHighSubtitle","hasSubtitle","header","hoverable","selectable","selected","highlight","sticky","navigation","placeholder","target","permanent","floating","visible","width_auto","width_n","origin","listTile","listTileClasses","selectedListTile","generalFns","general_styles","tintFns","tint","selector","vars","sel","lightTintFns","darkTintFns","createColor","varFns","alignSide","textAlign","isRTL","alignLeft","alignRight","unifySize","size","min_size","widthClass","sizeStr","toString","replace","widthStyle","s","width","size_factor","sizes_min_size_size_factor","sizes","map","minWidth","themeVars","grid_unit_menu","transitionProperty","zIndex","z_menu","opacity","position","height","overflow","selectorRTL","animation_delay","transitionDelay","animation_duration","transitionDuration","animation_timing_function","transitionTimingFunction","animation_show_css","animation_hide_css","animation_show_origin_effect_css","animation_hide_origin_effect_css","border_radius","borderRadius","createLayout","unit_block_border_radius","color_light_background","rgba","color_dark_background","fns","layout","color","classes","addStyle","customSelector","customVars","styler","generateCustomStyles","getStyle","createCustomStyleSheets","createStyleSheets","generateStyles"],"mappings":"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"}