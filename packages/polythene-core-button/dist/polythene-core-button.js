!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core")):"function"==typeof define&&define.amd?define(["exports","polythene-core"],t):t((e=e||self).polythene={},e["polythene-core"])}(this,function(e,t){"use strict";var n={component:"pe-text-button",super:"pe-button",row:"pe-button-row",content:"pe-button__content",label:"pe-button__label",textLabel:"pe-button__text-label",wash:"pe-button__wash",dropdown:"pe-button__dropdown",border:"pe-button--border",contained:"pe-button--contained",disabled:"pe-button--disabled",dropdownClosed:"pe-button--dropdown-closed",dropdownOpen:"pe-button--dropdown-open",extraWide:"pe-button--extra-wide",hasDropdown:"pe-button--dropdown",highLabel:"pe-button--high-label",inactive:"pe-button--inactive",raised:"pe-button--raised",selected:"pe-button--selected",separatorAtStart:"pe-button--separator-start"};var o=Object.freeze({getElement:e=>e.attrs.element||"a",getInitialState:(e,t)=>{const n=t(null),o=t(!1),a=t(!1);return{dom:n,focus:o,inactive:a,mouseover:t(!1),redrawOnUpdate:t.merge([n,o,a])}},onMount:e=>{if(!e.dom)return;const n=e.state,o=e.attrs;if(void 0!==o.borders&&t.deprecation("Button",{option:"borders",newOption:"border"}),n.dom(e.dom),t.isClient){const t=()=>n.focus(!n.mouseover()),a=()=>n.focus(!1),r=()=>n.mouseover(!0),s=()=>n.mouseover(!1),d=()=>(n.inactive(!0),setTimeout(()=>n.inactive(!1),1e3*o.inactivate));e.dom.addEventListener("focus",t,!1),e.dom.addEventListener("blur",a,!1),e.dom.addEventListener("mouseover",r,!1),e.dom.addEventListener("mouseout",s,!1),e.dom.addEventListener("click",d,!1),n.removeEventListeners=(()=>(e.dom.removeEventListener("focus",t,!1),e.dom.removeEventListener("blur",a,!1),e.dom.removeEventListener("mouseover",a,!1),e.dom.removeEventListener("mouseout",s,!1),e.dom.removeEventListener("click",d,!1)))}},onUnMount:e=>e.state.removeEventListeners&&e.state.removeEventListeners(),createProps:(e,{keys:o})=>{const a=e.state,r=e.attrs,s=r.disabled,d=r.inactive||a.inactive(),i=r.events&&r.events[o.onclick],l=r.events&&r.events[o.onkeyup]||i;return Object.assign({},t.filterSupportedAttributes(r,{add:[o.formaction,"type"],remove:["style"]}),{className:[n.super,r.parentClassName||n.component,r.contained?n.contained:null,r.raised?n.contained:null,r.raised?n.raised:null,r.selected?n.selected:null,r.highLabel?n.highLabel:null,r.extraWide?n.extraWide:null,s?n.disabled:null,d?n.inactive:null,r.separatorAtStart?n.separatorAtStart:null,r.border||r.borders?n.border:null,r.dropdown?n.hasDropdown:null,r.dropdown?r.dropdown.open?n.dropdownOpen:n.dropdownClosed:null,"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[o.class]].join(" ")},r.events,d?null:{[o.tabindex]:s||d?-1:r[o.tabindex]||0,[o.onclick]:i,[o.onkeyup]:e=>{13===e.keyCode&&a.focus()&&(a.focus(!1),l&&l(e))}},r.url,s?{disabled:!0}:null)},createContent:(e,{renderer:o,keys:a,Ripple:r,Icon:s,Shadow:d})=>{const i=e.state,l=e.attrs,p=void 0!==l.ink&&!1===l.ink,c=l.disabled,u=l.children||e.children,v=l.content?l.content:void 0!==l.label?"object"==typeof l.label?l.label:o("div",{className:n.label},o("div",{className:n.textLabel,style:l.textStyle},l.label)):u||null,h=c||void 0!==l.wash&&!l.wash;return o("div",{[a.class]:n.content,style:l.style},[o(d,{key:"shadow",shadowDepth:void 0!==l.shadowDepth?l.shadowDepth:0,animated:!0}),c||p||!r||"react"===o.displayName&&!i.dom()?null:o(r,Object.assign({},{key:"ripple",target:i.dom()},l.ripple)),h?null:o("div",{key:"wash",className:n.wash}),v,l.dropdown?o(s,{className:n.dropdown,key:"dropdown",svg:{content:o.trust(t.iconDropdownDown)}}):null])}});let a,r=()=>{},s=[];const d=(e,t)=>{"down"===e&&s.push(Object.assign({},t)),!1!==t.attrs.animateOnTap&&((e,t)=>{const n=t.state.shadowDepthBase,o=t.attrs.increase||1,a=t.state.shadowDepth(),r="down"===e&&n<5?Math.min(n+o,5):"up"===e?Math.max(a-o,n):a;r!==a&&t.state.shadowDepth(r)})(e,t)};var i=Object.freeze({getInitialState:(e,t)=>{const n=e.attrs,o=void 0!==n.shadowDepth?n.shadowDepth:void 0!==n.z?n.z:1,a=t(o);return{shadowDepthBase:o,shadowDepth:a,tapEventsInited:t(!1),redrawOnUpdate:t.merge([a])}},onMount:e=>{if(!e.dom)return;const n=e.state;void 0!==e.attrs.z&&t.deprecation("RaisedButton",{option:"z",newOption:"shadowDepth"}),n.tapEventsInited()||((e=>{t.isServer||(a=(()=>d("down",e)),r=(()=>{s.map(e=>d("up",e)),s=[]}),t.pointerStartMoveEvent.forEach(t=>e.dom.addEventListener(t,a)),t.pointerEndMoveEvent.forEach(e=>document.addEventListener(e,r)))})(e),n.tapEventsInited(!0))},onUnMount:e=>{e.state.tapEventsInited()&&(e=>{t.pointerStartMoveEvent.forEach(t=>e.dom.removeEventListener(t,a)),t.pointerEndMoveEvent.forEach(e=>document.removeEventListener(e,r))})(e)},createProps:e=>{const t=e.attrs,n=e.state,o=t.children||e.children||[];return Object.assign({},{raised:!0,animateOnTap:!1,wash:void 0!==t.wash&&t.wash,children:o},t,{shadowDepth:t.disabled?0:n.shadowDepth()})},createContent:e=>e.children});e.coreButton=o,e.coreRaisedButton=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-button.js.map
