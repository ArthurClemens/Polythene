!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.polythene={})}(this,function(e){"use strict";const t="undefined"!=typeof document,n=!t,o=(e,t)=>(e[t]=1,e),d=["key","style","href","id","tabIndex","tabindex","oninit","oncreate","onupdate","onbeforeremove","onremove","onbeforeupdate"],s=!n&&"ontouchstart"in document.documentElement,a=s?["click","mouseup"]:["mouseup"],r=s?["touchstart","mousedown"]:["mousedown"],i=s?["touchend","mouseup"]:["mouseup"];t&&document.querySelector("html").classList.add(s?"pe-touch":"pe-no-touch");const l={},c=(e,t)=>{l[e]&&l[e].forEach(e=>e(t))};t&&(window.addEventListener("resize",e=>c("resize",e)),window.addEventListener("scroll",e=>c("scroll",e)),window.addEventListener("keydown",e=>c("keydown",e)),window.addEventListener(a,e=>c(a,e)));const p=(e,{option:t,newOption:n,newComponent:o})=>(t&&console.warn(`${e}: option '${t}' is deprecated and will be removed in later versions. Use '${n}' instead.`),o&&!n&&console.warn(`${e}: this component is deprecated and will be removed in later versions. Use '${o}' instead.`),o&&n&&console.warn(`${e}: this component is deprecated and will be removed in later versions. Use '${o}' with option '${n}' instead.`));var u={component:"pe-text-button",super:"pe-button",row:"pe-button-row",content:"pe-button__content",label:"pe-button__label",textLabel:"pe-button__text-label",wash:"pe-button__wash",dropdown:"pe-button__dropdown",border:"pe-button--border",contained:"pe-button--contained",disabled:"pe-button--disabled",dropdownClosed:"pe-button--dropdown-closed",dropdownOpen:"pe-button--dropdown-open",extraWide:"pe-button--extra-wide",hasDropdown:"pe-button--dropdown",highLabel:"pe-button--high-label",inactive:"pe-button--inactive",raised:"pe-button--raised",selected:"pe-button--selected",separatorAtStart:"pe-button--separator-start"};var v=Object.freeze({getElement:e=>e.attrs.element||"a",getInitialState:(e,t)=>{const n=t(null),o=t(!1),d=t(!1);return{dom:n,focus:o,inactive:d,mouseover:t(!1),redrawOnUpdate:t.merge([n,o,d])}},onMount:e=>{if(!e.dom)return;const n=e.state,o=e.attrs;if(void 0!==o.borders&&p("Button",{option:"borders",newOption:"border"}),n.dom(e.dom),t){const t=()=>n.focus(!n.mouseover()),d=()=>n.focus(!1),s=()=>n.mouseover(!0),a=()=>n.mouseover(!1),r=()=>(n.inactive(!0),setTimeout(()=>n.inactive(!1),1e3*o.inactivate));e.dom.addEventListener("focus",t,!1),e.dom.addEventListener("blur",d,!1),e.dom.addEventListener("mouseover",s,!1),e.dom.addEventListener("mouseout",a,!1),e.dom.addEventListener("click",r,!1),n.removeEventListeners=(()=>(e.dom.removeEventListener("focus",t,!1),e.dom.removeEventListener("blur",d,!1),e.dom.removeEventListener("mouseover",d,!1),e.dom.removeEventListener("mouseout",a,!1),e.dom.removeEventListener("click",r,!1)))}},onUnMount:e=>e.state.removeEventListeners&&e.state.removeEventListeners(),createProps:(e,{keys:t})=>{const n=e.state,s=e.attrs,a=s.disabled,r=s.inactive||n.inactive(),i=s.events&&s.events[t.onclick],l=s.events&&s.events[t.onkeyup]||i;return Object.assign({},((e,{add:t=[],remove:n=[]}={})=>{const s=n.reduce(o,{}),a=d.concat(t).filter(e=>!s[e]).reduce(o,{});return Object.keys(e).reduce((t,n)=>(a[n]&&(t[n]=e[n]),t),{})})(s,{add:[t.formaction,"type"],remove:["style"]}),{className:[u.super,s.parentClassName||u.component,s.contained?u.contained:null,s.raised?u.contained:null,s.raised?u.raised:null,s.selected?u.selected:null,s.highLabel?u.highLabel:null,s.extraWide?u.extraWide:null,a?u.disabled:null,r?u.inactive:null,s.separatorAtStart?u.separatorAtStart:null,s.border||s.borders?u.border:null,s.dropdown?u.hasDropdown:null,s.dropdown?s.dropdown.open?u.dropdownOpen:u.dropdownClosed:null,"dark"===s.tone?"pe-dark-tone":null,"light"===s.tone?"pe-light-tone":null,s.className||s[t.class]].join(" ")},s.events,r?null:{[t.tabindex]:a||r?-1:s[t.tabindex]||0,[t.onclick]:i,[t.onkeyup]:e=>{13===e.keyCode&&n.focus()&&(n.focus(!1),l&&l(e))}},s.url,a?{disabled:!0}:null)},createContent:(e,{renderer:t,keys:n,Ripple:o,Icon:d,Shadow:s})=>{const a=e.state,r=e.attrs,i=void 0!==r.ink&&!1===r.ink,l=r.disabled,c=r.children||e.children,p=r.content?r.content:void 0!==r.label?"object"==typeof r.label?r.label:t("div",{className:u.label},t("div",{className:u.textLabel,style:r.textStyle},r.label)):c||null,v=l||void 0!==r.wash&&!r.wash;return t("div",{[n.class]:u.content,style:r.style},[t(s,{key:"shadow",shadowDepth:void 0!==r.shadowDepth?r.shadowDepth:0,animated:!0}),l||i||!o||"react"===t.displayName&&!a.dom()?null:t(o,Object.assign({},{key:"ripple",target:a.dom()},r.ripple)),v?null:t("div",{key:"wash",className:u.wash}),p,r.dropdown?t(d,{className:u.dropdown,key:"dropdown",svg:{content:t.trust('<svg xmlns="http://www.w3.org/2000/svg" id="dd-down-svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>')}}):null])}});let m,h=()=>{},w=[];const b=(e,t)=>{"down"===e&&w.push(Object.assign({},t)),!1!==t.attrs.animateOnTap&&((e,t)=>{const n=t.state.shadowDepthBase,o=t.attrs.increase||1,d=t.state.shadowDepth(),s="down"===e&&n<5?Math.min(n+o,5):"up"===e?Math.max(d-o,n):d;s!==d&&t.state.shadowDepth(s)})(e,t)};var f=Object.freeze({getInitialState:(e,t)=>{const n=e.attrs,o=void 0!==n.shadowDepth?n.shadowDepth:void 0!==n.z?n.z:1,d=t(o);return{shadowDepthBase:o,shadowDepth:d,tapEventsInited:t(!1),redrawOnUpdate:t.merge([d])}},onMount:e=>{if(!e.dom)return;const t=e.state;void 0!==e.attrs.z&&p("RaisedButton",{option:"z",newOption:"shadowDepth"}),t.tapEventsInited()||((e=>{n||(m=(()=>b("down",e)),h=(()=>{w.map(e=>b("up",e)),w=[]}),r.forEach(t=>e.dom.addEventListener(t,m)),i.forEach(e=>document.addEventListener(e,h)))})(e),t.tapEventsInited(!0))},onUnMount:e=>{e.state.tapEventsInited()&&(e=>{r.forEach(t=>e.dom.removeEventListener(t,m)),i.forEach(e=>document.removeEventListener(e,h))})(e)},createProps:e=>{const t=e.attrs,n=e.state,o=t.children||e.children||[];return Object.assign({},{raised:!0,animateOnTap:!1,wash:void 0!==t.wash&&t.wash,children:o},t,{shadowDepth:t.disabled?0:n.shadowDepth()})},createContent:e=>e.children});e.coreButton=v,e.coreRaisedButton=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-button.js.map
