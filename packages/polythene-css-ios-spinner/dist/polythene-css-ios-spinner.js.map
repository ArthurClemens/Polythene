{"version":3,"file":"polythene-css-ios-spinner.js","sources":["../../polythene-css-classes/ios-spinner.js","../src/color.js","../src/layout.js","../src/vars.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component: \"pe-ios-spinner\",\n\n  // elements\n  blades:    \"pe-ios-spinner__blades\",\n  blade:     \"pe-ios-spinner__blade\",\n};\n","import { color as superColor } from \"polythene-css-base-spinner\";\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-ios-spinner__blade\": {\n        background: \"currentcolor\"\n      }\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint]: (selector, vars) => [\n    sel(selector, {\n      color: vars[\"color_\" + tint],\n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns },\n  superColor\n});\n","import { layout as superLayout } from \"polythene-css-base-spinner\";\nimport { sel, createLayout } from \"polythene-core-css\";\nimport { styleDurationToMs } from \"polythene-core\";\n\nconst bladeWidth  = 9; // percent\nconst bladeHeight = 28; // percent\n\nconst kfFade = () => ({\n  \" 0%\": {\n    opacity: .640\n  },\n  \" 100%\": {\n    opacity: .035\n  }\n});\n\nconst positionBlades = vars => \n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(i => {\n    // reverse to improve performance on iOS\n    const delay = -1 / 12 * i * styleDurationToMs(vars.rotation_animation_duration);\n    const rotation = 360 - (360 / 12 * i);\n    return {\n      [\" .pe-ios-spinner__blade:nth-of-type(\" + (i + 1) + \")\"]: {\n        transform: \"rotate(\" + rotation + \"deg) translate3d(0,-140%,0)\",\n        animation: \"iosSpinnerFade \" + vars.rotation_animation_duration + \" \" + delay + \"ms linear infinite\"\n      }\n    };\n  });\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-ios-spinner__blades\": {\n        transform: \"translate3d(0,0,0)\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n\n      \" .pe-ios-spinner__blade\": {\n        position: \"absolute\",\n        width: bladeWidth + \"%\",\n        height: bladeHeight + \"%\",\n        left: ((100 - bladeWidth) / 2) + \"%\",\n        top: ((100 - bladeHeight) / 2) + \"%\",\n        opacity: 0,\n        borderRadius: \"50px\"\n      },\n\n      \"@keyframes iosSpinnerFade\": kfFade()\n    })\n  ],\n  rotation_animation_duration: (selector, vars) => [\n    sel(selector, {\n      \" .pe-ios-spinner__blades\": [\n        positionBlades(vars),\n      ],\n    })\n  ],\n};\n\nexport default createLayout({ varFns, superLayout });\n","import { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nexport default {\n  general_styles:              true,\n\n  rotation_animation_duration: \"1s\",\n\n  color_light:                 rgba(vars.color_light_foreground),\n  color_dark:                  rgba(vars.color_dark_foreground)\n};\n","import classes from \"polythene-css-classes/ios-spinner\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n    \nstyler.addStyle({\n  selectors: [selector],\n  fns,\n  vars\n});\n\nexport {\n  addStyle,\n  color,\n  getStyle,\n  layout,\n  vars,\n};\n"],"names":["component","blades","blade","generalFns","general_styles","selector","sel","background","tintFns","tint","vars","color","lightTintFns","Object","assign","darkTintFns","createColor","varFns","superColor","bladeWidth","bladeHeight","kfFade","opacity","positionBlades","map","i","delay","styleDurationToMs","rotation_animation_duration","rotation","transform","animation","position","width","height","left","top","borderRadius","createLayout","superLayout","color_light","rgba","color_light_foreground","color_dark","color_dark_foreground","fns","layout","classes","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"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"}