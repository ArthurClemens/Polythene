{"version":3,"file":"polythene-css-ios-spinner.js","sources":["../src/vars.js","../../polythene-css-classes/ios-spinner.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["import { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\nexport default {\n  general_styles:              true,\n\n  rotation_animation_duration: \"1s\",\n\n  color_light:                 rgba(vars.color_light_foreground),\n  color_dark:                  rgba(vars.color_dark_foreground)\n};\n","\nexport default {\n  component: \"pe-ios-spinner\",\n\n  // elements\n  blades:    \"pe-ios-spinner__blades\",\n  blade:     \"pe-ios-spinner__blade\",\n};\n","import { layout as superLayout } from \"polythene-css-base-spinner\";\nimport { sel, createLayout } from \"polythene-core-css\";\nimport { styleDurationToMs } from \"polythene-core\";\n\nconst bladeWidth  = 9; // percent\nconst bladeHeight = 28; // percent\n\nconst kfFade = () => ({\n  \" 0%\": {\n    opacity: .640\n  },\n  \" 100%\": {\n    opacity: .035\n  }\n});\n\nconst positionBlades = vars => \n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(i => {\n    // reverse to improve performance on iOS\n    const delay = -1 / 12 * i * styleDurationToMs(vars.rotation_animation_duration);\n    const rotation = 360 - (360 / 12 * i);\n    return {\n      [\" .pe-ios-spinner__blade:nth-of-type(\" + (i + 1) + \")\"]: {\n        transform: \"rotate(\" + rotation + \"deg) translate3d(0,-140%,0)\",\n        animation: \"iosSpinnerFade \" + vars.rotation_animation_duration + \" \" + delay + \"ms linear infinite\"\n      }\n    };\n  });\n\nconst varFns = {\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-ios-spinner__blades\": {\n        transform: \"translate3d(0,0,0)\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n\n      \" .pe-ios-spinner__blade\": {\n        position: \"absolute\",\n        width: bladeWidth + \"%\",\n        height: bladeHeight + \"%\",\n        left: ((100 - bladeWidth) / 2) + \"%\",\n        top: ((100 - bladeHeight) / 2) + \"%\",\n        opacity: 0,\n        borderRadius: \"50px\"\n      },\n\n      \"@keyframes iosSpinnerFade\": kfFade()\n    })\n  ],\n  rotation_animation_duration: (selector, vars) => [\n    sel(selector, {\n      \" .pe-ios-spinner__blades\": [\n        positionBlades(vars),\n      ],\n    })\n  ],\n};\n\nexport default createLayout({ varFns, superLayout });\n","import { color as superColor } from \"polythene-css-base-spinner\";\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-ios-spinner__blade\": {\n        background: \"currentcolor\"\n      }\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint]: (selector, vars) => [\n    sel(selector, {\n      color: vars[\"color_\" + tint],\n    })\n  ]\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns }\n});\n","import { styler } from \"polythene-core-css\";\nimport vars from \"./vars\";\nimport classes from \"polythene-css-classes/ios-spinner\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = (customSelector, customVars) => \n  styler.generateCustomStyles([customSelector, selector], vars, customVars, fns);\n\nconst getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createCustomStyleSheets([customSelector, selector], vars, customVars, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n    \nstyler.generateStyles([selector], vars, fns);\n\nexport { addStyle, getStyle, vars };\n"],"names":["general_styles","rotation_animation_duration","color_light","rgba","vars","color_light_foreground","color_dark","color_dark_foreground","component","blades","blade","bladeWidth","bladeHeight","kfFade","opacity","positionBlades","map","delay","i","styleDurationToMs","rotation","transform","animation","varFns","sel","selector","position","width","height","left","top","borderRadius","createLayout","superLayout","generalFns","background","tintFns","tint","color","lightTintFns","darkTintFns","createColor","fns","layout","classes","addStyle","customSelector","customVars","styler","generateCustomStyles","getStyle","createCustomStyleSheets","createStyleSheets","generateStyles"],"mappings":"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"}