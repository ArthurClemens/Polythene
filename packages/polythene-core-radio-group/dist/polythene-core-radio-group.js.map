{"version":3,"file":"polythene-core-radio-group.js","sources":["../../polythene-css-classes/radio-group.js","../src/radio-group.js"],"sourcesContent":["\nexport default {\n  component: \"pe-radio-group\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/radio-group\";\n\nexport const getElement = vnode =>\n  vnode.attrs.element || \"div\";\n\nexport const getInitialState = (vnode, createStream) => {\n  const checkedIndex = createStream(null);\n  return {\n    checkedIndex,\n    redrawOnUpdate: createStream.merge([checkedIndex])\n  };\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \"),\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, RadioButton }) => {\n  const attrs = vnode.attrs;\n  const state = vnode.state;\n  const checkedIndex = state.checkedIndex();\n\n  const buttons = attrs.content\n    ? attrs.content\n    : attrs.buttons\n      ? attrs.buttons\n      : attrs.children || vnode.children || [];\n\n  return buttons.length\n    ? buttons.map((buttonOpts, index) => {\n      if (!buttonOpts) {\n        return null;\n      }\n      if (buttonOpts.value === undefined) {\n        console.error(\"Option 'value' not set for radio button\"); // eslint-disable-line no-console\n      }\n      // Only set defaultChecked the first time when no value has been stored yet\n      const isDefaultChecked =\n        (\n          buttonOpts.defaultChecked ||\n          buttonOpts.checked ||\n          (attrs.defaultSelectedValue !== undefined && buttonOpts.value === attrs.defaultSelectedValue)\n        ) && checkedIndex === null;\n      const isChecked = isDefaultChecked || buttonOpts.checked || checkedIndex === index;\n      return h(RadioButton, Object.assign(\n        {},\n        {\n          /* group attributes that may be overwritten by individual buttons */\n          name: attrs.name,\n          key: buttonOpts.value\n        },\n        attrs.all,\n        /* individual button options */\n        buttonOpts,\n        {\n          /* this component's options */\n          onChange: ({ value }) => (\n            state.checkedIndex(index),\n            attrs.onChange && attrs.onChange({ value })\n          ),\n          checked: isChecked\n        }\n      ));\n    })\n    : null;\n};\n"],"names":["component","getElement","vnode","attrs","element","getInitialState","createStream","checkedIndex","redrawOnUpdate","merge","createProps","keys","k","Object","assign","filterSupportedAttributes","className","classes","tone","class","join","createContent","renderer","h","RadioButton","state","buttons","content","children","length","map","buttonOpts","index","value","undefined","console","error","isDefaultChecked","defaultChecked","checked","defaultSelectedValue","isChecked","name","key","all","onChange"],"mappings":"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"}