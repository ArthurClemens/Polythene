{"version":3,"file":"polythene-core-radio-group.js","sources":["../../polythene-css-classes/radio-group.js","../src/radio-group.js"],"sourcesContent":["\nexport default {\n  component: \"pe-radio-group\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/radio-group\";\n\nexport const getElement = vnode =>\n  vnode.attrs.element || \"div\";\n\nexport const getInitialState = (vnode, createStream) => {\n  const checkedIndex = createStream(null);\n  return {\n    checkedIndex,\n    redrawOnUpdate: createStream.merge([checkedIndex])\n  };\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \"),\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, RadioButton }) => {\n  const attrs = vnode.attrs;\n  const state = vnode.state;\n  const checkedIndex = state.checkedIndex();\n\n  const buttons = attrs.content\n    ? attrs.content\n    : attrs.buttons\n      ? attrs.buttons\n      : attrs.children || vnode.children || [];\n\n  return buttons.length\n    ? buttons.map((buttonOpts, index) => {\n      if (!buttonOpts) {\n        return null;\n      }\n      if (buttonOpts.value === undefined) {\n        console.error(\"Option 'value' not set for radio button\"); // eslint-disable-line no-console\n      }\n      // Only set defaultChecked the first time when no value has been stored yet\n      const buttonOptsDefaultChecked = checkedIndex === null\n        ? buttonOpts.defaultChecked !== undefined\n          ? buttonOpts.defaultChecked\n          : attrs.defaultSelectedValue !== undefined\n            ? buttonOpts.value === attrs.defaultSelectedValue\n            : undefined\n        : undefined;\n      const buttonOptsChecked = buttonOpts.checked !== undefined\n        ? buttonOpts.checked\n        : undefined;\n      const isChecked = buttonOptsChecked !== undefined\n        ? buttonOptsChecked\n        : buttonOptsDefaultChecked !== undefined\n          ? buttonOptsDefaultChecked\n          : checkedIndex === index;\n      return h(RadioButton, Object.assign(\n        {},\n        {\n          /* group attributes that may be overwritten by individual buttons */\n          name: attrs.name,\n          key: buttonOpts.value\n        },\n        attrs.all,\n        /* individual button options */\n        buttonOpts,\n        {\n          /* this component's options */\n          onChange: ({ value }) => (\n            state.checkedIndex(index),\n            attrs.onChange && attrs.onChange({ value })\n          ),\n          checked: isChecked\n        }\n      ));\n    })\n    : null;\n};\n"],"names":["component","vnode","attrs","element","createStream","checkedIndex","redrawOnUpdate","merge","k","keys","_extends","filterSupportedAttributes","className","classes","tone","class","join","h","renderer","RadioButton","state","buttons","content","children","length","map","buttonOpts","index","undefined","value","console","error","buttonOptsDefaultChecked","defaultChecked","defaultSelectedValue","buttonOptsChecked","checked","isChecked","name","key","all","onChange"],"mappings":"4dACe,CACbA,UAAW,8CCCa,SAAAC,UACxBA,EAAMC,MAAMC,SAAW,uBAEM,SAACF,EAAOG,OAC/BC,EAAeD,EAAa,YAC3B,CACLC,aAAAA,EACAC,eAAgBF,EAAaG,MAAM,CAACF,kBAIb,SAACJ,SAAeO,IAANC,KAC7BP,EAAQD,EAAMC,aACbQ,EACL,GACAC,4BAA0BT,GAC1B,CACEU,UAAW,CACTC,EAAQb,UACO,SAAfE,EAAMY,KAAkB,eAAiB,KAC1B,UAAfZ,EAAMY,KAAmB,gBAAkB,KAC3CZ,EAAMU,WAAaV,EAAMM,EAAEO,QAC3BC,KAAK,sBAKgB,SAACf,SAAmBgB,IAAVC,SAAaC,IAAAA,YAC5CjB,EAAQD,EAAMC,MACdkB,EAAQnB,EAAMmB,MACdf,EAAee,EAAMf,eAErBgB,EAAUnB,EAAMoB,QAClBpB,EAAMoB,QACNpB,EAAMmB,QACJnB,EAAMmB,QACNnB,EAAMqB,UAAYtB,EAAMsB,UAAY,UAEnCF,EAAQG,OACXH,EAAQI,IAAI,SAACC,EAAYC,OACpBD,SACI,UAEgBE,IAArBF,EAAWG,OACbC,QAAQC,MAAM,+CAGVC,EAA4C,OAAjB3B,OACCuB,IAA9BF,EAAWO,eACTP,EAAWO,oBACoBL,IAA/B1B,EAAMgC,qBACJR,EAAWG,QAAU3B,EAAMgC,0BAC3BN,OACJA,EACEO,OAA2CP,IAAvBF,EAAWU,QACjCV,EAAWU,aACXR,EACES,OAAkCT,IAAtBO,EACdA,OAC6BP,IAA7BI,EACEA,EACA3B,IAAiBsB,SAChBV,EAAEE,EAAaT,EACpB,GACA,CAEE4B,KAAMpC,EAAMoC,KACZC,IAAKb,EAAWG,OAElB3B,EAAMsC,IAENd,EACA,CAEEe,SAAU,gBAAGZ,IAAAA,aACXT,EAAMf,aAAasB,GACnBzB,EAAMuC,UAAYvC,EAAMuC,SAAS,CAAEZ,MAAAA,KAErCO,QAASC,OAIb"}