!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-utilities")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-utilities"],t):t(e.polythene={},e["polythene-core"],e["polythene-utilities"])}(this,function(e,t,n){"use strict";var r={component:"pe-md-progress-spinner",animation:"pe-md-progress-spinner__animation",circle:"pe-md-progress-spinner__circle",circleRight:"pe-md-progress-spinner__circle-right",circleLeft:"pe-md-progress-spinner__circle-left"};const i=(e,t,n,r)=>{const i=e.style;i.transform=i["-webkit-transform"]=i["-moz-transform"]=i["-ms-transform"]=i["-o-transform"]="rotate("+((e,t,n=0)=>e+(t-e)*n)(t,n,r)+"deg)"},o=(e,t,n)=>{const o=e.querySelector("."+r.animation).style;o.clip=n<.5?"rect(0px, "+t+"px, "+t+"px, "+t/2+"px)":"rect(auto, auto, auto, auto)";const a=e.querySelector("."+r.circleLeft),s=e.querySelector("."+r.circleRight);a.style.clip=s.style.clip="rect(0px, "+t/2+"px, "+t+"px, 0px)",i(s,0,180,Math.min(1,2*n)),i(a,0,360,n)},a=({state:e,attrs:i,size:a})=>{if(!e.dom)return;if(e.animating())return;if(void 0===i.percentage)return;const s=t.unpackAttrs(i.percentage),c=e.percentage(),p=i.animated?n.easing.easeInOutQuad:e=>e;if(i.animated&&c!==s){const n=e.dom,l=void 0!==i.updateDuration?1e3*i.updateDuration:t.styleDurationToMs(t.getStyle({element:n.querySelector(`.${r.animation}`),prop:"animation-duration"}));let m=null;const d=t=>{m||(m=t);const r=t-m;o(n,a,p(c+1/l*r*(s-c))),m&&r<l?window.requestAnimationFrame(d):(m=null,e.percentage(s),e.animating(!1))};e.animating(!0),window.requestAnimationFrame(d)}else o(e.dom,a,p(s)),e.percentage(s)},s=e=>Math.round(e?parseFloat(t.getStyle({element:e,prop:"height"}))-2*parseFloat(t.getStyle({element:e,prop:"padding"})):0);var c=Object.freeze({getInitialState:(e,t)=>{const n=t(0),r=t(!1);return{animating:r,dom:void 0,percentage:n,redrawOnUpdate:t.merge([r])}},onMount:e=>{if(!e.dom)return;const t=e.state,n=e.attrs;t.dom=e.dom;const r=s(t.dom);a({state:t,attrs:n,size:r})},createProps:(e,{renderer:t})=>{const n=e.state,i=e.attrs,o=s(n.dom);a({state:n,attrs:i,size:o});const c=t("div",{key:"content",className:r.animation,style:{width:o+"px",height:o+"px"}},[t("div",{key:"left",className:[r.circle,r.circleLeft].join(" ")}),t("div",{key:"right",className:[r.circle,r.circleRight].join(" ")})]);return Object.assign({},i,{className:[r.component,i.className].join(" "),content:c})}});e.coreMaterialDesignProgressSpinner=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-material-design-progress-spinner.js.map
