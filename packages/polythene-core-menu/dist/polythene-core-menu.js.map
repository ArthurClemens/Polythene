{"version":3,"file":"polythene-core-menu.js","sources":["../../polythene-css-classes/menu.js","../../polythene-css-classes/list-tile.js","../src/menu.js"],"sourcesContent":["import listTileClasses from \"./list-tile\";\n\nexport default {\n  component:   \"pe-menu\",\n\n  // elements\n  panel:       \"pe-menu__panel\",\n  content:     \"pe-menu__content\",\n  placeholder: \"pe-menu__placeholder\",\n  backdrop:    \"pe-menu__backdrop\",\n\n  // states\n  floating:     \"pe-menu--floating\",\n  origin:       \"pe-menu--origin\",\n  permanent:    \"pe-menu--permanent\",\n  showBackdrop: \"pe-menu--backdrop\",\n  visible:      \"pe-menu--visible\",\n  width_auto:   \"pe-menu--width-auto\",\n  width_n:      \"pe-menu--width-\",\n  isTopMenu:    \"pe-menu--top-menu\",\n\n  // lookup\n  listTile:         listTileClasses.component,\n  selectedListTile: listTileClasses.selected,\n};","\nexport default {\n  component:       \"pe-list-tile\",\n\n  // elements\n  content:           \"pe-list-tile__content\",\n  highSubtitle:      \"pe-list-tile__high-subtitle\",\n  primary:           \"pe-list-tile__primary\",\n  secondary:         \"pe-list-tile__secondary\",\n  subtitle:          \"pe-list-tile__subtitle\",\n  title:             \"pe-list-tile__title\",\n  contentFront:      \"pe-list-tile__content-front\",\n  \n  // states  \n  compact:           \"pe-list-tile--compact\",\n  compactFront:      \"pe-list-tile--compact-front\",\n  disabled:          \"pe-list-tile--disabled\",\n  hasFront:          \"pe-list-tile--front\",\n  hasHighSubtitle:   \"pe-list-tile--high-subtitle\",\n  hasSubtitle:       \"pe-list-tile--subtitle\",\n  header:            \"pe-list-tile--header\",\n  hoverable:         \"pe-list-tile--hoverable\",\n  insetH:            \"pe-list-tile--inset-h\",\n  insetV:            \"pe-list-tile--inset-v\",\n  selectable:        \"pe-list-tile--selectable\",\n  selected:          \"pe-list-tile--selected\",\n  rounded:           \"pe-list-tile--rounded\",\n  highlight:         \"pe-list-tile--highlight\",\n  sticky:            \"pe-list-tile--sticky\",\n  navigation:        \"pe-list-tile--navigation\",\n};\n","import { filterSupportedAttributes, subscribe, unsubscribe, transitionComponent, isServer, pointerEndMoveEvent, deprecation, stylePropCompare } from \"polythene-core\";\nimport classes from \"polythene-css-classes/menu\";\n\nexport const getElement = vnode =>\n  vnode.attrs.element || \"div\";\n\nconst DEFAULT_OFFSET_H           = 0;\nconst DEFAULT_OFFSET_V           = \"79%\";\nconst DEFAULT_TYPE               = \"floating\";\nconst MIN_WIDTH                   = 1.5;\nconst DEFAULT_SHADOW_DEPTH                   = 1;\n\nconst isTopMenu = ({ state, attrs }) =>\n  attrs.topMenu || stylePropCompare({\n    element: state.dom(),\n    pseudoSelector: \":before\",\n    prop: \"content\",\n    contains: `\"${\"top_menu\"}\"`\n  });\n\nconst positionMenu = (state, attrs) => {\n  if (isServer) {\n    return;\n  }\n  if (!attrs.target) {\n    return;\n  }\n  const targetEl = document.querySelector(attrs.target);\n  if (!targetEl) {\n    return;\n  }\n  const panelEl = state.panelEl;\n  if (!panelEl) {\n    return;\n  }\n\n  // Don't set the position or top offset if the menu position is fixed\n  const hasStylePositionFixed = stylePropCompare({\n    element: panelEl,\n    prop: \"position\",\n    equals: \"fixed\"\n  });\n\n  if (hasStylePositionFixed && !isTopMenu({ state, attrs })) {\n    Object.assign(panelEl.style, {});\n    panelEl.offsetHeight; // force reflow\n    return;\n  }\n\n  const contentEl = state.contentEl;\n  const parentRect = panelEl.parentNode.getBoundingClientRect();\n  const targetRect = targetEl.getBoundingClientRect();\n  const attrsOffsetH = attrs.offsetH !== undefined\n    ? attrs.offsetH\n    : attrs.offset !== undefined\n      ? attrs.offset // deprecated\n      : DEFAULT_OFFSET_H;\n  const attrsOffsetV = attrs.offsetV !== undefined\n    ? attrs.offsetV\n    : DEFAULT_OFFSET_V;\n  const offsetH = attrsOffsetH.toString().indexOf(\"%\") !== -1\n    ? Math.round(parseFloat(attrsOffsetH) * 0.01 * targetRect.width)\n    : Math.round(parseFloat(attrsOffsetH));\n  const offsetV = attrsOffsetV.toString().indexOf(\"%\") !== -1\n    ? Math.round(parseFloat(attrsOffsetV) * 0.01 * targetRect.height)\n    : Math.round(parseFloat(attrsOffsetV));\n  let positionOffsetV = offsetV;\n\n  const attrsOrigin = attrs.origin || \"top\";\n  const origin = attrsOrigin.split(/\\W+/).reduce((acc, curr) => (\n    acc[curr] = true,\n    acc\n  ), {});\n\n  const firstItem = contentEl.querySelectorAll(\".\" + classes.listTile)[0];\n\n  if (attrs.reposition) {\n    // get the first List Tile to calculate the top position  \n    const selectedItem = contentEl.querySelector(\".\" + classes.selectedListTile);\n    if (firstItem && selectedItem) {\n      // calculate v position: menu should shift upward relative to the first item\n      const firstItemRect = firstItem.getBoundingClientRect();\n      const selectedItemRect = selectedItem.getBoundingClientRect();\n      positionOffsetV = firstItemRect.top - selectedItemRect.top;\n    }\n    // align to middle of target\n    const alignEl = selectedItem || firstItem;\n    const alignRect = alignEl.getBoundingClientRect();\n    const targetRect = targetEl.getBoundingClientRect();\n    const heightDiff = targetRect.height - alignRect.height;\n    positionOffsetV += Math.abs(heightDiff) / 2;\n  } else if (attrs.origin && !hasStylePositionFixed) {\n    if (origin.top) {\n      positionOffsetV += targetRect.top - parentRect.top;\n    } else if (origin.bottom) {\n      positionOffsetV += targetRect.top - parentRect.bottom;\n    }\n  }\n\n  if (attrs.height) {\n    const firstItemHeight = firstItem\n      ? firstItem.clientHeight\n      : 48; // default List Tile height\n    if (attrs.height === \"max\") {\n      const topMargin = positionOffsetV;\n      const bottomMargin = firstItemHeight;\n      panelEl.style.height = `calc(100% - ${topMargin + bottomMargin}px)`;\n    } else {\n      const height = /^\\d+$/.test(attrs.height.toString())\n        ? `${attrs.height}px`\n        : attrs.height;\n      panelEl.style.height = height;\n    }\n  }\n\n  // prevent animated changes\n  const transitionDuration = panelEl.style.transitionDuration;\n  panelEl.style.transitionDuration = \"0ms\";\n\n  if (panelEl.parentNode && !hasStylePositionFixed) {\n    if (origin.right) {\n      panelEl.style.right = targetRect.right - parentRect.right + offsetH + \"px\";\n    } else {\n      panelEl.style.left = targetRect.left - parentRect.left + offsetH + \"px\";\n    }\n    if (origin.bottom) {\n      panelEl.style.bottom = positionOffsetV + \"px\";\n    } else {\n      panelEl.style.top = positionOffsetV + \"px\";\n    }\n    panelEl.style.transformOrigin = attrsOrigin.split(/\\W+/).join(\" \");\n  }\n\n  panelEl.offsetHeight; // force reflow\n  panelEl.style.transitionDuration = transitionDuration;\n};\n\nconst scrollContent = (state, attrs) => {\n  if (isServer) {\n    return;\n  }\n  if (!attrs.scrollTarget) {\n    return;\n  }\n  const scrollTargetEl = document.querySelector(attrs.scrollTarget);\n  if (!scrollTargetEl) {\n    return;\n  }\n  state.contentEl.scrollTop = scrollTargetEl.offsetTop;\n};\n\nconst transitionOptions = (state, attrs, isShow) => ({\n  isTransitioning: state.transitioning(),\n  setIsTransitioning: state.transitioning,\n  setIsVisible: state.visible,\n  instanceId: state.instanceId,\n  attrs,\n  isShow,\n  beforeTransition: isShow\n    ? () => state.update()\n    : null,\n  domElements: {\n    el: state.panelEl,\n    showClassElement: state.dom(),\n  },\n  showClass: classes.visible,\n});\n\nconst showMenu = (state, attrs) =>\n  transitionComponent(transitionOptions(state, attrs, true));\n\nconst hideMenu = (state, attrs) =>\n  transitionComponent(transitionOptions(state, attrs, false));\n\nconst unifyWidth = width =>\n  width < MIN_WIDTH ? MIN_WIDTH : width;\n\nconst widthClass = size =>\n  classes.width_n + size.toString().replace(\".\", \"-\");\n\nconst handleSubscriptions = (vnode, which) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n\n  if (which === \"mount\") {\n    subscribe(\"resize\", state.update);\n    subscribe(\"keydown\", state.handleEscape);\n    setTimeout(() => {\n      state.activateDismissTap();\n      showMenu(state, attrs);\n    }, 0);\n  } else {\n    unsubscribe(\"resize\", state.update);\n    unsubscribe(\"keydown\", state.handleEscape);\n    state.deActivateDismissTap();\n  }\n};\n\nexport const getInitialState = (vnode, createStream) => {\n  const dom = createStream(null);\n  const attrs = vnode.attrs;\n  if (attrs.offset !== undefined) {\n    deprecation(\"Menu\", { option: \"offset\", newOption: \"offsetH\" });\n  }\n  if (attrs.size !== undefined) {\n    deprecation(\"Menu\", { option: \"size\", newOption: \"width\" });\n  }\n  const visible = createStream(false);\n  const transitioning = createStream(false);\n  return {\n    dom,\n    visible,\n    transitioning,\n    activateDismissTap: undefined, // set in onMount\n    contentEl: undefined, // set in onMount\n    deActivateDismissTap: undefined, // set in onMount\n    handleDismissTap: undefined, // set in onMount\n    handleEscape: undefined, // set in onMount\n    panelEl: undefined, // set in onMount\n    update: undefined, // set in onMount\n    redrawOnUpdate: createStream.merge([transitioning])\n  };\n};\n\nexport const onMount = vnode => {\n  if (!vnode.dom) {\n    return;\n  }\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  state.dom(vnode.dom);\n  state.panelEl = vnode.dom.querySelector(`.${classes.panel}`);\n  Object.assign(state.panelEl.style, attrs.style);\n  state.contentEl = vnode.dom.querySelector(`.${classes.content}`);\n\n  if (!attrs.permanent) {\n    state.handleDismissTap = e => {\n      if (e.target === state.panelEl) {\n        return;\n      }\n      hideMenu(state, attrs);\n    };\n\n    state.update = () => {\n      positionMenu(state, attrs);\n      scrollContent(state, attrs);\n    };\n\n    state.activateDismissTap = () => {\n      pointerEndMoveEvent.forEach(evt =>\n        document.addEventListener(evt, state.handleDismissTap));\n    };\n\n    state.deActivateDismissTap = () => {\n      pointerEndMoveEvent.forEach(evt =>\n        document.removeEventListener(evt, state.handleDismissTap));\n    };\n\n    state.handleEscape = e => {\n      if (e.key === \"Escape\" || e.key === \"Esc\") {\n        hideMenu(state, Object.assign(\n          {},\n          attrs,\n          { hideDelay: 0 }\n        ));\n      }\n    };\n\n    handleSubscriptions(vnode, \"mount\");\n  }\n};\n\nexport const onUnMount = vnode => {\n  const attrs = vnode.attrs;\n  if (!attrs.permanent) {\n    handleSubscriptions(vnode, \"unmount\");\n  }\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  const type = attrs.type || DEFAULT_TYPE;\n  return Object.assign(\n    {}, \n    filterSupportedAttributes(attrs, { remove: [\"style\"] }),\n    attrs.testId && { \"data-test-id\": attrs.testId },\n    {\n      className: [\n        classes.component,\n        attrs.permanent ? classes.permanent : null,\n        attrs.origin ? classes.origin : null,\n        attrs.backdrop ? classes.showBackdrop : null,\n        attrs.topMenu ? classes.isTopMenu : null,\n        type === \"floating\" && !attrs.permanent ? classes.floating : null,\n        attrs.width || attrs.size ? widthClass(unifyWidth(attrs.width || attrs.size)) : null,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \")\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, Shadow }) => {\n  const attrs = vnode.attrs;\n  const shadowDepth = attrs.shadowDepth !== undefined\n    ? attrs.shadowDepth\n    : attrs.z !== undefined \n      ? attrs.z // deprecated\n      : DEFAULT_SHADOW_DEPTH; \n  return [\n    h(\"div\",\n      {\n        key: \"backdrop\",\n        className: classes.backdrop,\n      }\n    ),\n    h(\"div\",\n      {\n        className: classes.panel,\n        key: \"panel\",\n      },\n      [\n        h(Shadow, {\n          shadowDepth,\n          animated: true,\n          key: \"shadow\",\n        }),\n        h(\"div\", \n          {\n            className: classes.content,\n            key: \"content\",\n          },\n          attrs.content\n            ? attrs.content\n            : vnode.children\n        )\n      ]\n    )\n  ];\n};"],"names":["component","panel","content","placeholder","backdrop","floating","origin","permanent","showBackdrop","visible","width_auto","width_n","isTopMenu","listTile","selectedListTile","positionMenu","state","attrs","isServer","target","targetEl","document","querySelector","panelEl","hasStylePositionFixed","stylePropCompare","element","prop","equals","topMenu","dom","pseudoSelector","contains","style","offsetHeight","contentEl","parentRect","parentNode","getBoundingClientRect","targetRect","attrsOffsetH","undefined","offsetH","offset","attrsOffsetV","offsetV","toString","indexOf","Math","round","parseFloat","width","positionOffsetV","height","attrsOrigin","split","reduce","acc","curr","firstItem","querySelectorAll","classes","reposition","selectedItem","firstItemRect","selectedItemRect","top","alignRect","heightDiff","abs","bottom","firstItemHeight","clientHeight","topMargin","bottomMargin","test","transitionDuration","right","left","transformOrigin","join","transitionOptions","isShow","isTransitioning","transitioning","setIsTransitioning","setIsVisible","instanceId","beforeTransition","update","domElements","el","showClassElement","showClass","hideMenu","transitionComponent","handleSubscriptions","vnode","which","subscribe","handleEscape","setTimeout","activateDismissTap","showMenu","unsubscribe","deActivateDismissTap","createStream","deprecation","option","newOption","size","handleDismissTap","redrawOnUpdate","merge","e","scrollTarget","scrollTargetEl","scrollTop","offsetTop","scrollContent","pointerEndMoveEvent","forEach","evt","addEventListener","removeEventListener","key","_extends","hideDelay","k","keys","type","filterSupportedAttributes","remove","testId","className","replace","tone","class","h","renderer","Shadow","shadowDepth","z","animated","children"],"mappings":"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"}