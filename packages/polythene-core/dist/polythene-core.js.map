{"version":3,"file":"polythene-core.js","sources":["../src/iso.js","../src/animation-event.js","../src/Conditional.js","../src/attrs.js","../src/pointer.js","../src/events.js","../src/multi.js","../src/style.js","../src/transition.js","../src/developer.js","../src/icons.js"],"sourcesContent":["export const isClient = typeof document !== \"undefined\";\nexport const isServer = !isClient;\n","import { isClient } from \"./iso\";\n\nconst evts = {\n  \"animation\": \"animationend\",\n  \"OAnimation\": \"oAnimationEnd\",\n  \"MozAnimation\": \"animationend\",\n  \"WebkitAnimation\": \"webkitAnimationEnd\"\n};\n\nexport const getAnimationEndEvent = () => {\n  if (isClient) {\n    const el = document.createElement(\"fakeelement\");\n    for (let a in evts) {\n      if (el.style[a] !== undefined) {\n        return evts[a];\n      }\n    }\n  }\n};\n","\nconst modes = {\n  hidden:   \"hidden\",\n  visible:  \"visible\",\n  exposing: \"exposing\",\n  hiding:   \"hiding\",\n};\n\nexport const Conditional = {\n  getInitialState: (vnode, createStream) => {\n    const attrs = vnode.attrs;\n    if (!attrs.didHide) {\n      return {};\n    }\n    const visible = attrs.permanent || attrs.show;\n    const mode = createStream(attrs.permanent\n      ? modes.visible\n      : visible\n        ? modes.visible\n        : modes.hidden);\n    return {\n      mode,\n      redrawOnUpdate: createStream.merge([mode])\n    };\n  },\n  onUpdate: ({ state, attrs }) => {\n    if (!attrs.didHide) {\n      return;\n    }\n    const mode = state.mode();\n    if (attrs.permanent) {\n      if (mode === modes.visible && attrs.show) {\n        state.mode(modes.exposing);\n      } else if (mode === modes.exposing && !attrs.show) {\n        state.mode(modes.hiding);\n      }\n    } else {\n      // \"normal\" type\n      if (mode === modes.hidden && attrs.show) {\n        state.mode(modes.visible);\n      } else if (mode === modes.visible && !attrs.show) {\n        state.mode(modes.hiding);\n      }\n    }\n  },\n  view: ({ state, attrs }, { renderer: h }) => {\n    const placeholder = h(\"span\", { className: attrs.placeholderClassName });\n\n    // No didHide callback passed: use normal visibility evaluation\n    if (!attrs.didHide) {\n      return attrs.permanent || attrs.inactive || attrs.show\n        ? h(attrs.instance, attrs)\n        : placeholder;\n    }\n\n    // else: use didHide to reset the state after hiding\n    const mode = state.mode();\n    const visible = mode !== modes.hidden;\n    return visible\n      ? h(attrs.instance, Object.assign(\n        {},\n        attrs,\n        {\n          didHide: args => (\n            attrs.didHide(args),\n            state.mode(attrs.permanent\n              ? modes.visible\n              : modes.hidden\n            )\n          )\n        },\n        mode === modes.hiding && {\n          show: true,\n          hide: true\n        }\n      ))\n      : placeholder; \n  }\n};\n\nConditional.displayName = \"Conditional\";\n","\nconst r = (acc, p) => (acc[p] = 1, acc);\n\n/* \nSeparately handled props:\n- class\n- element\n*/\n\nconst defaultAttrs = [\n  // Universal\n  \"key\",\n  \"style\",\n  \"href\",\n  \"id\",\n  \n  // React\n  \"tabIndex\",\n\n  // Mithril\n  \"tabindex\",\n  \"oninit\",\n  \"oncreate\",\n  \"onupdate\",\n  \"onbeforeremove\",\n  \"onremove\",\n  \"onbeforeupdate\",\n];\n\nexport const filterSupportedAttributes = (attrs, { add: addAttrs = [], remove: removeAttrs = []} = {} ) => {\n  const removeLookup = removeAttrs.reduce(r, {});\n  const supported = defaultAttrs.concat(addAttrs).filter(item => !removeLookup[item]).reduce(r, {});\n  return Object.keys(attrs).reduce((acc, key) => (\n    supported[key]\n      ? acc[key] = attrs[key]\n      : null,\n    acc\n  ), {});\n};\n\nexport const unpackAttrs = attrs =>\n  typeof attrs === \"function\"\n    ? attrs()\n    : attrs;\n\nconst sizeClasses = classes => ({\n  small:   classes.small,\n  regular: classes.regular,\n  medium:  classes.medium,\n  large:   classes.large,\n  fab:     classes.fab,\n});\n\nexport const classForSize = (classes, size = \"regular\") =>\n  sizeClasses(classes)[size];\n\n","import { isClient, isServer } from \"./iso\";\n\nexport const isTouch = isServer\n  ? false\n  : \"ontouchstart\" in document.documentElement;\n\nexport const pointerStartEvent = isTouch\n  ? [\"touchstart\", \"click\"]\n  : [\"click\"];\n\nexport const pointerEndEvent = isTouch\n  ? [\"click\", \"mouseup\"]\n  : [\"mouseup\"];\n\nexport const pointerStartMoveEvent = isTouch\n  ? [\"touchstart\", \"mousedown\"]\n  : [\"mousedown\"];\n\nexport const pointerMoveEvent = isTouch\n  ? [\"touchmove\", \"mousemove\"]\n  : [\"mousemove\"];\n\nexport const pointerEndMoveEvent = isTouch\n  ? [\"touchend\", \"mouseup\"]\n  : [\"mouseup\"];\n\nif (isClient) {\n  document.querySelector(\"html\").classList.add(isTouch ? \"pe-touch\" : \"pe-no-touch\");\n}\n","import { pointerEndEvent } from \"./pointer\";\nimport { isClient } from \"./iso\";\n\nconst listeners = {};\n\n// https://gist.github.com/Eartz/fe651f2fadcc11444549\nexport const throttle = (func, s = 0.05, context = isClient ? window : {}) => {\n  let wait = false;\n  return (...args) => {\n    const later = () => func.apply(context, args);\n    if (!wait) {\n      later();\n      wait = true;\n      setTimeout(() => wait = false, s);\n    }\n  };\n};\n\nexport const subscribe = (eventName, listener, delay) => {\n  listeners[eventName] = listeners[eventName] || [];\n  listeners[eventName].push(delay ? throttle(listener, delay) : listener);\n};\n\nexport const unsubscribe = (eventName, listener) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n  const index = listeners[eventName].indexOf(listener);\n  if (index > -1) {\n    listeners[eventName].splice(index, 1);\n  }\n};\n\nexport const emit = (eventName, event) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n  listeners[eventName].forEach(listener => listener(event));\n};\n\nif (isClient) {\n  window.addEventListener(\"resize\",      e => emit(\"resize\", e));\n  window.addEventListener(\"scroll\",      e => emit(\"scroll\", e));\n  window.addEventListener(\"keydown\",     e => emit(\"keydown\", e));\n  window.addEventListener(pointerEndEvent, e => emit(pointerEndEvent, e));\n}\n","/*\nHelper module to manage multiple items of the same component type.\n*/\n\nimport { isClient } from \"./iso\";\nimport { unpackAttrs } from \"./attrs\";\nimport { emit } from \"./events\";\n\nexport const Multi = ({ options: mOptions, renderer }) => {\n\n  const items = []; // This is shared between all instances of a type (Dialog, Notification, ...)\n  let current;\n  \n  const getInitialState = (vnode, createStream) => {\n    current = createStream(null);\n    return {\n      current,\n      redrawOnUpdate: createStream.merge([current])\n    };\n  };\n\n  /*\n  @param e: { id, eventName }\n  */\n  const onChange = e => {\n    if (!current) {\n      console.error(\"Cannot set state. Did you set a root element like Dialog to show instances?\"); // eslint-disable-line no-console\n    }\n    current(e.id);\n    emit(mOptions.name, e);\n  };\n\n  const itemIndex = id => {\n    const item = findItem(id);\n    return items.indexOf(item);\n  };\n\n  const removeItem = id => {\n    const index = itemIndex(id);\n    if (index !== -1) {\n      items.splice(index, 1);\n      onChange({ id, name: \"removeItem\" });\n    }\n  };\n\n  const replaceItem = (id, newItem) => {\n    const index = itemIndex(id);\n    if (index !== -1) {\n      items[index] = newItem;\n    }\n  };\n\n  const findItem = id => {\n    // traditional for loop for IE10\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].instanceId === id) {\n        return items[i];\n      }\n    }\n  };\n\n  const next = () => {\n    if (items.length) {\n      items[0].show = true;\n    }\n    onChange({ id: items.length ? items[0].instanceId : null, name: \"next\" });\n  };\n\n  const remove = (instanceId = mOptions.defaultId) => {\n    if (mOptions.queue) {\n      items.shift();\n      next();\n    } else {\n      removeItem(instanceId);\n    }\n  };\n\n  const removeAll = () => {\n    items.length = 0;\n    onChange({ id: null, name: \"removeAll\" });\n  };\n\n  const setPauseState = (pause, instanceId) => {\n    const item = findItem(instanceId);\n    if (item) {\n      item.pause = pause;\n      item.unpause = !pause;\n      onChange({ id: instanceId, name: pause ? \"pause\" : \"unpause\" });\n    }\n  };\n\n  const createItem = (itemAttrs, instanceId, spawn) => {\n    let resolveShow;\n    let resolveHide;\n    const attrs = unpackAttrs(itemAttrs);\n\n    const didShow = () => {\n      if (attrs.didShow) {\n        attrs.didShow(instanceId);\n      }\n      onChange({ id: instanceId, name: \"didShow\" });\n      return resolveShow(instanceId);\n    };\n    const showPromise = new Promise(resolve => \n      resolveShow = resolve\n    );\n\n    const didHide = () => {\n      if (attrs.didHide) {\n        attrs.didHide(instanceId);\n      }\n      onChange({ id: instanceId, name: \"didHide\" });\n      remove(instanceId);\n      return resolveHide(instanceId);\n    };\n\n    const hidePromise = new Promise(resolve => resolveHide = resolve);\n\n    return Object.assign(\n      {},\n      mOptions,\n      {\n        instanceId,\n        spawn,\n        attrs: itemAttrs,\n        show: mOptions.queue ? false : true,\n        showPromise,\n        hidePromise,\n        didShow,\n        didHide\n      }\n    );\n  };\n\n  const count = () => items.length;\n  const pause = (instanceId = mOptions.defaultId) => setPauseState(true, instanceId);\n  const unpause = (instanceId = mOptions.defaultId) => setPauseState(false, instanceId);\n\n  const show = (attrs = {}, spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const spawn = spawnOpts.spawn || mOptions.defaultId;\n    const item = createItem(attrs, instanceId, spawn);\n    onChange({ id: instanceId, name: \"show\" });\n    if (mOptions.queue) {\n      items.push(item);\n      if (items.length === 1) {\n        next();\n      }\n    } else {\n      const storedItem = findItem(instanceId);\n      if (!storedItem) {\n        items.push(item);\n      } else {\n        replaceItem(instanceId, item);\n      }\n    }\n    return item.showPromise;\n  };\n\n  const hide = (spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const item = mOptions.queue && items.length\n      ? items[0]\n      : findItem(instanceId);\n    if (item) {\n      item.hide = true;\n    }\n    onChange({ id: instanceId, name: \"hide\" });\n    return item\n      ? item.hidePromise\n      : Promise.resolve(instanceId);\n  };\n\n  const clear = removeAll;\n\n  const view = ({ attrs }) => {\n    const spawn = attrs.spawn || mOptions.defaultId;\n    const candidates = items.filter(item => \n      item.show && item.spawn === spawn\n    );\n    if (mOptions.htmlShowClass && isClient && document.documentElement) {\n      document.documentElement.classList[candidates.length ? \"add\" : \"remove\"](mOptions.htmlShowClass);\n    }\n    return !candidates.length\n      ? renderer(mOptions.placeholder) // placeholder because we cannot return null\n      : renderer(mOptions.holderSelector,\n        {\n          className: attrs.position === \"container\"\n            ? \"pe-multiple--container\"\n            : \"pe-multiple--screen\"\n        },\n        candidates.map(itemData => {\n          return renderer(mOptions.instance, Object.assign(\n            {},\n            {\n              fromMultipleClassName: mOptions.className,\n              fromMultipleClear: clear,\n              fromMultipleDidHide: itemData.didHide,\n              fromMultipleDidShow: itemData.didShow,\n              hide: itemData.hide,\n              holderSelector: mOptions.holderSelector,\n              instanceId: itemData.instanceId,\n              key: itemData.key,\n              pause: itemData.pause,\n              show: itemData.show,\n              spawnId: spawn,\n              transitions: mOptions.transitions,\n              unpause: itemData.unpause,\n            },\n            unpackAttrs(itemData.attrs)\n          ));\n        })\n      );\n  };\n\n  return {\n    clear,\n    count,\n    getInitialState,  \n    hide,\n    pause,\n    remove,\n    show,\n    unpause,\n    view,\n  };\n};\n\nMulti.displayName = \"Multi\";\n","\nexport const getStyle = ({ element, selector, pseudoSelector, prop }) => {\n  const el = selector\n    ? element.querySelector(selector)\n    : element;\n  if (!el) {\n    return;\n  }\n  return el.currentStyle\n    ? el.currentStyle[prop]\n    : window.getComputedStyle\n      ? document.defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop)\n      : null;\n};\n\nexport const stylePropCompare = ({ element, selector, pseudoSelector, prop, equals, contains }) => {\n  const el = selector\n    ? element.querySelector(selector)\n    : element;\n  if (!el) {\n    return false;\n  }\n  if (equals !== undefined) {\n    return equals === document.defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop);\n  }\n  if (contains !== undefined) {\n    return document.defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop).indexOf(contains) !== -1;\n  }\n};\n\nexport const isRTL = ({ element = document, selector }) => \n  stylePropCompare({ element, selector, prop: \"direction\", equals: \"rtl\" });\n\nexport const styleDurationToMs = durationStr => {\n  const parsed = parseFloat(durationStr) * (durationStr.indexOf(\"ms\") === -1 ? 1000 : 1);\n  return isNaN(parsed)\n    ? 0\n    : parsed;\n};","/*\nGeneric show/hide transition module\n*/\n\nimport { isClient } from \"./iso\";\nimport { styleDurationToMs } from \"./style\";\n\n// defaults\nconst DEFAULT_DURATION = .240;\nconst DEFAULT_DELAY =    0;\n// const TRANSITION =    \"both\";\n\n// See: transition\nexport const show = opts =>\n  transition(opts, \"show\");\n\nexport const hide = opts =>\n  transition(opts, \"hide\");\n\n/*\nopts:\n- el\n- duration\n- delay\n- showClass\n- transitionClass\n- before\n- show\n- hide\n- after\n- timingFunction\n\n- state (show, hide)\n*/\nconst transition = (opts, state) => {\n  const el = opts.el;\n  if (!el) {\n    return Promise.resolve();\n  } else {\n    return new Promise(resolve => {\n      const style = el.style;\n      const computedStyle = isClient\n        ? window.getComputedStyle(el)\n        : {};\n      const duration = opts.hasDuration\n        ? opts.duration * 1000.0\n        : styleDurationToMs(computedStyle.transitionDuration);\n      const delay = opts.hasDelay\n        ? opts.delay * 1000.0\n        : styleDurationToMs(computedStyle.transitionDelay);\n      const timingFunction = opts.timingFunction || computedStyle.transitionTimingFunction;\n\n      if (opts.transitionClass) {\n        const transitionClassElement = opts.transitionClassElement || el;\n        transitionClassElement.classList.add(opts.transitionClass);\n      }\n\n      const before = () => {\n        style.transitionDuration = \"0ms\";\n        style.transitionDelay = \"0ms\";\n        opts.before();\n      };\n\n      const maybeBefore = (opts.before && state === \"show\")\n        ? before\n        : (opts.before && state === \"hide\")\n          ? before\n          : null;\n\n      const after = opts.after\n        ? () => opts.after()\n        : null;\n\n      const applyTransition = () => {\n        style.transitionDuration = duration + \"ms\";\n        style.transitionDelay = delay + \"ms\";\n\n        if (timingFunction) {\n          style.transitionTimingFunction = timingFunction;\n        }\n        if (opts.showClass) {\n          const showClassElement = opts.showClassElement || el;\n          showClassElement.classList[(state === \"show\") ? \"add\" : \"remove\"](opts.showClass);\n        }\n        if (opts.transition) {\n          opts.transition();\n        }\n      };\n\n      const doTransition = () => {\n        applyTransition();\n        setTimeout(() => {\n          if (after) {\n            after();\n          }\n          if (opts.transitionClass) {\n            const transitionClassElement = opts.transitionClassElement || el;\n            transitionClassElement.classList.remove(opts.transitionClass);\n            el.offsetHeight; // force reflow\n          }\n          resolve();\n        }, duration + delay);\n      };\n\n      const maybeDelayTransition = () => {\n        if (duration === 0) {\n          doTransition();\n        } else {\n          setTimeout(doTransition, 0);\n        }\n      };\n\n      if (maybeBefore) {\n        maybeBefore();\n        el.offsetHeight; // force reflow\n        setTimeout(() => {\n          maybeDelayTransition();\n        }, 0);\n      } else {\n        maybeDelayTransition();\n      }\n    });\n  }\n};\n\nexport const transitionComponent = ({ isShow, state, attrs, domElements, beforeTransition, afterTransition, showClass, transitionClass }) => {\n  if (state.transitioning()) {\n    return Promise.resolve();\n  }\n  state.transitioning(true);\n  state.visible(isShow ? true : false);\n  if (beforeTransition) {\n    beforeTransition();\n  }\n  const duration = attrs[isShow ? \"showDuration\" : \"hideDuration\"];\n  const delay = attrs[isShow ? \"showDelay\" : \"hideDelay\"];\n  const timingFunction = attrs[isShow ? \"showTimingFunction\" : \"hideTimingFunction\"];\n  const transitions = attrs.transitions;\n  const fn = isShow ? show : hide;\n  const opts1 = Object.assign({},\n    attrs,\n    domElements,\n    {\n      showClass,\n      transitionClass,\n      duration,\n      delay,\n      timingFunction\n    }\n  );\n  const opts2 = Object.assign({},\n    opts1,\n    transitions && transitions[isShow ? \"show\" : \"hide\"](opts1)\n  );\n  const opts3 = Object.assign({},\n    opts2,\n    {\n      duration: opts2.duration !== undefined\n        ? opts2.duration\n        : DEFAULT_DURATION,\n      hasDuration: opts2.duration !== undefined,\n      delay: opts2.delay !== undefined\n        ? opts2.delay\n        : DEFAULT_DELAY,\n      hasDelay: opts2.delay !== undefined,\n    }\n  );\n  return fn(opts3).then(() => {\n    const id = state.instanceId;\n    if (attrs[isShow ? \"fromMultipleDidShow\" : \"fromMultipleDidHide\"]) {\n      attrs[isShow ? \"fromMultipleDidShow\" : \"fromMultipleDidHide\"](id); // when used with Multiple; this will call attrs.didShow / attrs.didHide\n    } else if (attrs[isShow ? \"didShow\" : \"didHide\"]) {\n      attrs[isShow ? \"didShow\" : \"didHide\"](id); // when used directly\n    }\n    if (afterTransition) {\n      afterTransition();\n    }\n    state.transitioning(false);\n  });\n};\n","\nexport const deprecation = (component, { option, newOption, newComponent }) => (\n  option && console.warn(`${component}: option '${option}' is deprecated and will be removed in later versions. Use '${newOption}' instead.`), // eslint-disable-line no-console\n  newComponent && !newOption && console.warn(`${component}: this component is deprecated and will be removed in later versions. Use '${newComponent}' instead.`), // eslint-disable-line no-console\n  newComponent && newOption && console.warn(`${component}: this component is deprecated and will be removed in later versions. Use '${newComponent}' with option '${newOption}' instead.`) // eslint-disable-line no-console\n);\n","\nexport const iconDropdownUp = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"dd-up-svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M7 14l5-5 5 5z\\\"/></svg>\";\nexport const iconDropdownDown = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"dd-down-svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M7 10l5 5 5-5z\\\"/></svg>\";\n"],"names":["isClient","document","isServer","evts","modes","Conditional","getInitialState","vnode","createStream","attrs","didHide","visible","permanent","show","mode","redrawOnUpdate","merge","onUpdate","state","view","renderer","h","placeholder","className","placeholderClassName","inactive","instance","Object","assign","args","hide","r","acc","p","defaultAttrs","unpackAttrs","isTouch","documentElement","pointerStartEvent","pointerEndEvent","pointerStartMoveEvent","pointerMoveEvent","pointerEndMoveEvent","querySelector","classList","add","listeners","throttle","func","s","context","window","wait","apply","later","setTimeout","emit","eventName","event","forEach","listener","addEventListener","e","Multi","options","mOptions","items","current","onChange","console","error","id","name","itemIndex","item","findItem","indexOf","i","length","instanceId","next","remove","defaultId","queue","shift","index","splice","removeItem","setPauseState","pause","unpause","clear","count","spawnOpts","hidePromise","Promise","resolve","itemAttrs","spawn","resolveShow","resolveHide","showPromise","didShow","createItem","push","newItem","replaceItem","candidates","filter","htmlShowClass","holderSelector","position","map","itemData","fromMultipleClassName","fromMultipleClear","fromMultipleDidHide","fromMultipleDidShow","key","spawnId","transitions","displayName","stylePropCompare","element","selector","pseudoSelector","prop","equals","contains","el","undefined","defaultView","getComputedStyle","getPropertyValue","styleDurationToMs","durationStr","parsed","parseFloat","isNaN","opts","transition","style","computedStyle","duration","hasDuration","transitionDuration","delay","hasDelay","transitionDelay","timingFunction","transitionTimingFunction","transitionClass","transitionClassElement","before","maybeBefore","after","doTransition","showClass","showClassElement","applyTransition","offsetHeight","maybeDelayTransition","createElement","a","addAttrs","removeAttrs","removeLookup","reduce","supported","concat","keys","classes","size","small","regular","medium","large","fab","sizeClasses","isShow","domElements","beforeTransition","afterTransition","transitioning","fn","opts1","opts2","then","currentStyle","component","option","newOption","newComponent","warn"],"mappings":"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"}