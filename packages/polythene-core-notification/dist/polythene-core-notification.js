!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core"),require("polythene-utilities")):"function"==typeof define&&define.amd?define(["exports","polythene-core","polythene-utilities"],t):t((e=e||self).polythene={},e["polythene-core"],e["polythene-utilities"])}(this,function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l={component:"pe-notification",action:"pe-notification__action",content:"pe-notification__content",holder:"pe-notification__holder",placeholder:"pe-notification__placeholder",title:"pe-notification__title",hasContainer:"pe-notification--container",horizontal:"pe-notification--horizontal",multilineTitle:"pe-notification__title--multi-line",vertical:"pe-notification--vertical",visible:"pe-notification--visible"},a={isVisible:!1,isTransitioning:!1,isHiding:!1};e._Notification=function(e){var c=e.h,u=e.a,s=e.useState,f=e.useEffect,p=e.useRef,d=e.getRef,h=e.useReducer,y=r(e,["h","a","useState","useEffect","useRef","getRef","useReducer"]),v=o(h(t.transitionStateReducer,a),2),m=v[0],g=v[1],b=o(s(),2),S=b[0],w=b[1],_=o(s(!1),2),O=_[0],C=_[1],R=p(),T=p(),j=p(new n.Timer),E=m.isVisible,N=m.isTransitioning,I=m.isHiding,x=j.current,P=function(e){var n=e.isShow,i=e.referrer;return{dispatchTransitionState:g,instanceId:y.instanceId,props:y,isShow:n,beforeTransition:q,afterTransition:n?function(){var e=y.timeout;if(0===e);else{var n=void 0!==e?e:3;x.start(function(){return k({referrer:t.REFERRER_COMPONENT})},n)}}:null,domElements:{el:S,containerEl:R.current},showClass:l.visible,referrer:i}},k=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).referrer;return t.transitionComponent(P({isShow:!1,referrer:e}))},q=function(){x&&x.stop()};f(function(){return function(){q()}},[]),f(function(){var e;S&&(t.isClient&&(R.current=document.querySelector(y.containerSelector||y.holderSelector),R.current||console.error("No container element found"),y.containerSelector&&R.current&&R.current.classList.add(l.hasContainer)),T.current=S.querySelector(".".concat(l.title)),T.current&&(e=T.current,t.isServer||e.getBoundingClientRect().height>parseInt(window.getComputedStyle(e).lineHeight,10)+parseInt(window.getComputedStyle(e).paddingTop,10)+parseInt(window.getComputedStyle(e).paddingBottom,10)&&e.classList.add(l.multilineTitle)))},[S]),f(function(){!S||N||I||(y.hide?E&&k():y.show&&(E||t.transitionComponent(P({isShow:!0}))))},[S,N,E,I,y.hide,y.show]),f(function(){!S||N||I||(y.unpause?O&&(C(!1),x&&x.resume()):y.pause&&(O||(C(!0),x&&x.pause())))},[S,N,I,y.pause,y.unpause]);var z,A,H,M=i({},t.filterSupportedAttributes(y,{remove:["style"]}),d(function(e){return e&&!S&&(w(e),y.ref&&y.ref(e))}),y.testId&&{"data-test-id":y.testId},(z={className:[l.component,y.fromMultipleClassName,"light"===y.tone?null:"pe-dark-tone",y.containerSelector?l.hasContainer:null,"vertical"===y.layout?l.vertical:l.horizontal,"dark"===y.tone?"pe-dark-tone":null,"light"===y.tone?"pe-light-tone":null,y.className||y[u.class]].join(" ")},A=u.onclick,H=function(e){return e.preventDefault()},A in z?Object.defineProperty(z,A,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[A]=H,z)),B=c("div",{className:l.content,style:y.style},y.content||[y.title?c("div",{className:l.title},y.title):null,y.action?c("div",{className:l.action},y.action):null]),L=[y.before,B,y.after];return c(y.element||"div",M,L)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-notification.js.map
