{"version":3,"file":"polythene-core-slider.js","sources":["../../polythene-css-classes/slider.js","../src/slider.js"],"sourcesContent":["\nexport default {\n  component:      \"pe-slider\",\n\n  // elements\n  control:        \"pe-slider__control\",\n  label:          \"pe-slider__label\",\n  pin:            \"pe-slider__pin\",\n  thumb:          \"pe-slider__thumb\",\n  tick:           \"pe-slider__tick\",\n  ticks:          \"pe-slider__ticks\",\n  track:          \"pe-slider__track\",\n  trackBar:       \"pe-slider__track-bar\",\n  trackBarValue:  \"pe-slider__track-bar-value\",\n  trackPart:      \"pe-slider__track-part\",\n  trackPartRest:  \"pe-slider__track-rest\",\n  trackPartValue: \"pe-slider__track-value\",\n\n  // states\n  hasFocus:       \"pe-slider--focus\",\n  hasPin:         \"pe-slider--pin\",\n  hasTicks:       \"pe-slider--ticks\",\n  hasTrack:       \"pe-slider--track\",\n  isActive:       \"pe-slider--active\",\n  isAtMin:        \"pe-slider--min\",\n  isDisabled:     \"pe-slider--disabled\",\n  tickValue:      \"pe-slider__tick--value\",\n};\n","import { isTouch, pointerStartMoveEvent, pointerMoveEvent, pointerEndMoveEvent, isClient, filterSupportedAttributes, getStyle } from \"polythene-core\";\nimport classes from \"polythene-css-classes/slider\";\n\nconst MAX_TICKS = 100;\nlet focusElement;\n\nconst deFocus = state => {\n  if (focusElement) {\n    focusElement.blur();\n  }\n  focusElement = undefined;\n  state.hasFocus(false);\n};\n\nconst focus = (state, el) => {\n  deFocus(state);\n  focusElement = el;\n  state.hasFocus(true);\n};\n\nconst positionFromEvent = (e, isVertical) => (\n  // isVertical not yet implemented\n  isTouch && e.touches\n    ? isVertical ? e.touches[0].pageY : e.touches[0].pageX\n    : isVertical ? e.pageY : e.pageX);\n\nconst updatePinPosition = state => {\n  if (state.controlEl && state.pinEl) {\n    const left = state.fraction() * state.rangeWidth;\n    state.pinEl.style.left = left + \"px\";\n  }\n};\n\nconst updateValue = (state, value) => {\n  state.setValue(value, true);\n  updatePinPosition(state);\n};\n\nconst generateTickMarks = (h, stepCount, stepSize, value) => {\n  const items = [];\n  const stepWithValue = value / stepSize;\n  let s = 0;\n  while (s < stepCount + 1) {\n    items.push(h(\"div\", {\n      className: s <= stepWithValue\n        ? [classes.tick, classes.tickValue].join(\" \")\n        : classes.tick,\n      key: `tick-${s}`\n    }));\n    s++;\n  }\n  return items;\n};\n\nconst readRangeData = state => {\n  if (state.controlEl && isClient) {\n    // range is from the far left to the far right minus the thumb width (max x is at the left side of the thumb)\n    state.controlWidth = parseFloat(getStyle({ element: state.controlEl, prop: \"width\" }));\n    state.rangeWidth = state.trackEl.getBoundingClientRect().width - state.controlWidth;\n    const styles = window.getComputedStyle(state.trackEl);\n    state.rangeOffset = parseFloat(styles.marginLeft);\n  }\n};\n\nconst calculateClickOffset = (state, controlOffset = 0) => {\n  state.clickOffset = state.trackEl.getBoundingClientRect().left - (state.rangeOffset - state.controlWidth / 2) + controlOffset;\n};\n\nconst initControlEvent = (state, e) => {\n  const controlPos = state.controlEl.getBoundingClientRect().left;\n  const eventPos = positionFromEvent(e);\n  const controlOffset = eventPos - controlPos - state.controlWidth / 2;\n  calculateClickOffset(state, controlOffset);\n};\n\nconst initTrackEvent = (state) =>\n  calculateClickOffset(state, 0);\n\nconst handlePosEvent = (state, e) => {\n  const pos = positionFromEvent(e) - state.clickOffset;\n  const value = state.min + ((pos - state.rangeOffset) / state.rangeWidth) * (state.max - state.min);\n  updateValue(state, value);\n};\n\nconst startDrag = (state, attrs, e) => {\n  if (state.isDragging()) return;\n  e.preventDefault();\n  state.isDragging(true);\n  state.isActive(true);\n  deFocus(state);\n\n  const drag = e => {\n    if (!state.isDragging()) return;\n    handlePosEvent(state, e);\n  };\n\n  const endDrag = () => {\n    if (!state.isDragging()) return;\n    deFocus(state);\n    if (isClient) {\n      pointerMoveEvent.forEach(evt =>\n        window.removeEventListener(evt, drag));\n      pointerEndMoveEvent.forEach(evt =>\n        window.removeEventListener(evt, endDrag));\n    }\n    state.isDragging(false);\n    state.isActive(false);\n  };\n\n  if (isClient) {\n    pointerMoveEvent.forEach(evt =>\n      window.addEventListener(evt, drag));\n    pointerEndMoveEvent.forEach(evt =>\n      window.addEventListener(evt, endDrag));\n  }\n  readRangeData(state);\n\n  if (attrs.pin) {\n    updatePinPosition(state);\n  }\n};\n\nconst startTrack = (state, attrs, e) => {\n  e.preventDefault();\n  if (state.isDragging()) {\n    return;\n  }\n  readRangeData(state);\n  initTrackEvent(state);\n  handlePosEvent(state, e);\n  startDrag(state, attrs, e);\n};\n\nconst createSlider = (vnode, { h, k, hasTicks, interactiveTrack }) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  const fraction = state.fraction();\n  const range = state.max - state.min;\n  const stepCount = Math.min(MAX_TICKS, parseInt(range / state.stepSize, 10));\n\n  const onStartTrack = e => (\n    startTrack(state, attrs, e)\n  );\n\n  const onInitDrag = e => {\n    readRangeData(state);\n    initControlEvent(state, e);\n    startDrag(state, attrs, e);\n  };\n\n  const flexValueCss =  fraction + \" 1 0%\";\n  const flexRestValue = 1 - fraction;\n  const flexRestCss =   flexRestValue + \" 1 0%\";\n\n  return h(\"div\",\n    Object.assign(\n      {},\n      { className: classes.track },\n      interactiveTrack && !attrs.disabled && pointerStartMoveEvent.reduce((acc, evt) => (\n        acc[k[`on${evt}`]] = onStartTrack,\n        acc\n      ), {})\n    ),\n    [\n      h(\"div\",\n        {\n          className: classes.trackPart + \" \" + classes.trackPartValue,\n          key: \"trackPartValue\",\n          style: {\n            flex: flexValueCss,\n            msFlex: flexValueCss,\n            WebkitFlex: flexValueCss\n          }\n        },\n        h(\"div\", { className: classes.trackBar },\n          h(\"div\", { className: classes.trackBarValue })\n        )\n      ),\n      h(\"div\", Object.assign(\n        {},\n        {\n          className: classes.control,\n          key: \"control\"\n        },\n        attrs.disabled\n          ? { disabled: true }\n          : {\n            [k.tabindex]: attrs[k.tabindex] || 0,\n            [k.onfocus]: () => focus(state, state.controlEl),\n            [k.onblur]: () => deFocus(state),\n            [k.onkeydown]: e => {\n              if (e.key !== \"Tab\") {\n                e.preventDefault();\n              }\n              if (e.key === \"Escape\" || e.key === \"Esc\") {\n                state.controlEl.blur(e);\n              } else if (e.key === \"ArrowLeft\" || e.key === \"ArrowDown\" || e.key === \"Left\" || e.key === \"Down\") {\n                state.decrement(state, e.shiftKey);\n              } else if (e.key === \"ArrowRight\" || e.key === \"ArrowUp\" || e.key === \"Right\" || e.key === \"Up\") {\n                state.increment(state, e.shiftKey);\n              } else if (e.key === \"Home\") {\n                updateValue(state, state.min);\n              } else if (e.key === \"End\") {\n                updateValue(state, state.max);\n              } else if (e.key === \"PageDown\") {\n                state.decrement(state, true);\n              } else if (e.key === \"PageUp\") {\n                state.increment(state, true);\n              }\n              readRangeData(state);\n              updatePinPosition(state);\n            }\n          },\n        !attrs.disabled &&\n          pointerStartMoveEvent.reduce((acc, evt) => (\n            acc[k[`on${evt}`]] = onInitDrag,\n            acc\n          ), {}),\n        attrs.events\n          ? attrs.events\n          : null,\n        hasTicks\n          ? { step: stepCount }\n          : null\n      ),\n      attrs.icon\n        ? h(\"div\",\n          {\n            className: classes.thumb,\n            key: \"icon\"\n          },\n          attrs.icon\n        )\n        : null\n      ),\n      h(\"div\",\n        {\n          className: classes.trackPart + \" \" + classes.trackPartRest,\n          key: \"trackPartRest\",\n          style: {\n            flex: flexRestCss,\n            msFlex: flexRestCss,\n            WebkitFlex: flexRestCss,\n            maxWidth: (flexRestValue * 100) + \"%\" // for IE Edge\n          }\n        },\n        h(\"div\", { className: classes.trackBar },\n          h(\"div\", { className: classes.trackBarValue })\n        )\n      ),\n      hasTicks && !attrs.disabled\n        ? h(\"div\",\n          {\n            className: classes.ticks,\n            key: \"ticks\"\n          },\n          generateTickMarks(h, stepCount, state.stepSize, state.value())\n        )\n        : null,\n      hasTicks && attrs.pin && !attrs.disabled\n        ? h(\"div\",\n          {\n            className: classes.pin,\n            key: \"pin\",\n            value: state.value()\n          }\n        )\n        : null\n    ]\n  );\n};\n\nexport const getInitialState = (vnode, createStream) => {\n  const attrs = vnode.attrs;\n\n  const min = attrs.min !== undefined ? attrs.min : 0;\n  const max = attrs.max !== undefined ? attrs.max : 100;\n  const range = max - min;\n  const stepSize = attrs.stepSize !== undefined\n    ? attrs.stepSize\n    : 1;\n  const defaultValue = attrs.defaultValue !== undefined\n    ? attrs.defaultValue\n    : attrs.value !== undefined\n      ? attrs.value\n      : 0;\n  const previousValue = createStream(undefined);\n  const isActive = createStream(false);\n  const hasFocus = createStream(false);\n  const isDragging = createStream(false);\n  const fraction = createStream(min);\n  const value = createStream(0);\n  const normalizeFactor = 1 / stepSize;\n\n  const setValue = (v, shouldNotify = false) => {\n    if (v < min) v = min;\n    if (v > max) v = max;\n    value(stepSize\n      ? Math.round(v * normalizeFactor) / normalizeFactor\n      : v\n    );\n    fraction((value() - min) / range);\n    if (shouldNotify && attrs.onChange) {\n      attrs.onChange({\n        value: value()\n      });\n    }\n    previousValue(v);\n  };\n\n  const increment = (state, useLargeStep) =>\n    updateValue(state, value() + (useLargeStep ? 10 : 1) * (stepSize || 1));\n\n  const decrement = (state, useLargeStep) =>\n    updateValue(state, value() - (useLargeStep ? 10 : 1) * (stepSize || 1));\n  \n  setValue(defaultValue);\n  \n  return {\n    min,\n    max,\n    stepSize,\n    fraction,\n    // DOM elements\n    trackEl: null,\n    controlEl: null,\n    pinEl: null,\n    // functions\n    setValue,\n    increment,\n    decrement, \n    // streams\n    isDragging,\n    isActive,\n    value,\n    previousValue,\n    hasFocus,\n    // coordinates\n    controlWidth: 0,\n    rangeWidth: 0,\n    rangeOffset: 0,\n    clickOffset: 0,\n    redrawOnUpdate: createStream.merge([isActive, value])\n  };\n};\n\nexport const onMount = vnode => {\n  if (!vnode.dom) {\n    return;\n  }\n  const dom = vnode.dom;\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n\n  state.trackEl = dom.querySelector(`.${classes.track}`);\n  state.controlEl = dom.querySelector(`.${classes.control}`);\n  state.pinEl = dom.querySelector(`.${classes.pin}`);\n\n  readRangeData(state);\n\n  if (attrs.pin) {\n    setTimeout(() => {\n      updateValue(state, state.value());\n    }, 0);\n  }\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  if (attrs.value !== undefined) {\n    if (state.previousValue() !== attrs.value) {\n      state.previousValue(attrs.value);\n      setTimeout(() => state.setValue(state.previousValue()), 0); // perform in next tick to play nice with React\n    }\n  }\n  const hasTicks = attrs.ticks !== undefined && attrs.ticks !== false;\n  const interactiveTrack = (attrs.interactiveTrack !== undefined) ? attrs.interactiveTrack : true;\n  return Object.assign(\n    {}, \n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.disabled ? classes.isDisabled : null,\n        attrs.pin ? classes.hasPin : null,\n        interactiveTrack ? classes.hasTrack : null,\n        state.isActive() ? classes.isActive : null,\n        state.hasFocus() ? classes.hasFocus : null,\n        state.fraction() === 0 ? classes.isAtMin : null,\n        hasTicks ? classes.hasTicks : null,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \")\n    }\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, keys: k }) => {\n  const attrs = vnode.attrs;\n  const hasTicks = attrs.ticks !== undefined && attrs.ticks !== false;\n  const interactiveTrack = (attrs.interactiveTrack !== undefined) ? attrs.interactiveTrack : true;\n  return createSlider(vnode, { h, k, hasTicks, interactiveTrack });\n};\n\n\n"],"names":["component","control","label","pin","thumb","tick","ticks","track","trackBar","trackBarValue","trackPart","trackPartRest","trackPartValue","hasFocus","hasPin","hasTicks","hasTrack","isActive","isAtMin","isDisabled","tickValue","MAX_TICKS","focusElement","deFocus","state","blur","undefined","focus","el","positionFromEvent","e","isVertical","isTouch","touches","pageY","pageX","updatePinPosition","controlEl","pinEl","left","fraction","rangeWidth","style","updateValue","value","setValue","generateTickMarks","h","stepCount","stepSize","items","stepWithValue","s","push","className","classes","join","key","readRangeData","isClient","controlWidth","parseFloat","getStyle","element","prop","trackEl","getBoundingClientRect","width","styles","window","getComputedStyle","rangeOffset","marginLeft","calculateClickOffset","controlOffset","clickOffset","initControlEvent","controlPos","eventPos","initTrackEvent","handlePosEvent","pos","min","max","startDrag","attrs","isDragging","preventDefault","drag","endDrag","pointerMoveEvent","forEach","evt","removeEventListener","pointerEndMoveEvent","addEventListener","startTrack","createSlider","vnode","k","interactiveTrack","range","Math","parseInt","onStartTrack","onInitDrag","flexValueCss","flexRestValue","flexRestCss","Object","assign","disabled","pointerStartMoveEvent","reduce","acc","flex","msFlex","WebkitFlex","tabindex","onfocus","onblur","onkeydown","decrement","shiftKey","increment","events","step","icon","maxWidth","getInitialState","createStream","defaultValue","previousValue","normalizeFactor","v","shouldNotify","round","onChange","useLargeStep","redrawOnUpdate","merge","onMount","dom","querySelector","setTimeout","createProps","keys","filterSupportedAttributes","tone","class","createContent","renderer"],"mappings":"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"}