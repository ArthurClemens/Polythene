!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("polythene-core")):"function"==typeof define&&define.amd?define(["exports","polythene-core"],n):n((e=e||self).polythene={},e["polythene-core"])}(this,function(e,n){"use strict";function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function l(e,n){if(null==e)return{};var t,o,l=function(e,n){if(null==e)return{};var t,o,l={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],o=!0,l=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw r}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a={component:"pe-control",formLabel:"pe-control__form-label",input:"pe-control__input",label:"pe-control__label",disabled:"pe-control--disabled",inactive:"pe-control--inactive",large:"pe-control--large",medium:"pe-control--medium",off:"pe-control--off",on:"pe-control--on",regular:"pe-control--regular",small:"pe-control--small",box:"pe-control__box",button:"pe-control__button",buttonOff:"pe-control__button--off",buttonOn:"pe-control__button--on"},c=function(e,n){var t=void 0!==e.checked?e.checked:n.checked(),o=void 0!==e.selectable&&e.selectable(t);return{checked:t,inactive:e.disabled||!o}},i=Object.freeze({getElement:function(e){return e.attrs.element||"div"},getInitialState:function(e,n,t){var o=t.keys,l=e.attrs,r=n(void 0!==l.defaultChecked?l.defaultChecked:l.checked||!1),a=function(e,n){l.onChange&&l.onChange({event:e,checked:n,value:l.value})},c=function(e){var n=!r();r(n),a(e,n)},i=l.events&&l.events[o.onclick],u=l.events&&l.events[o.onkeydown]?l.events[o.onkeydown]:function(e){"Enter"!==e.key&&32!==e.keyCode||(e.preventDefault(),i?i(e):c(e))};return{checked:r,toggle:c,onChange:function(e){var n=e.currentTarget.checked;"radio"===l.type||r(n),a(e,n)},viewControlClickHandler:i,viewControlKeyDownHandler:u,redrawOnUpdate:n.merge([r])}},createProps:function(e,t){var l=t.keys,r=e.attrs,i=e.state,u=c(r,i),s=u.checked,d=u.inactive;return o({},n.filterSupportedAttributes(r),r.testId&&{"data-test-id":r.testId},{className:[a.component,r.instanceClass,s?a.on:a.off,r.disabled?a.disabled:null,d?a.inactive:null,n.classForSize(a,r.size),"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[l.class]].join(" ")})},createContent:function(e,n){var l=n.renderer,r=n.keys,i=n.ViewControl,u=e.state,s=e.attrs,d=c(s,u),f=d.checked,v=d.inactive;return l("label",o({},{className:a.formLabel},u.viewControlClickHandler&&t({},r.onclick,function(e){return e.preventDefault(),u.viewControlClickHandler(e)})),[l(i,o({},s,{inactive:v,checked:f,key:"control",events:t({},r.onkeydown,u.viewControlKeyDownHandler)})),s.label?l(".".concat(a.label),{key:"label"},s.label):null,l("input",o({},s.events,{name:s.name,type:s.type,value:s.value,checked:f},s.disabled||v?{disabled:"disabled"}:t({},r.onchange,u.onChange)))])}}),u=[{iconType:"iconOn",className:a.buttonOn},{iconType:"iconOff",className:a.buttonOff}];e.coreSelectionControl=i,e._SelectionControl=function(e){var c=e.h,i=e.a,u=e.useState,s=e.ViewControl,d=l(e,["h","a","useState","ViewControl"]),f=r(u(void 0!==d.defaultChecked?d.defaultChecked:d.checked||!1),2),v=f[0],p=f[1],b=void 0!==d.checked?d.checked:v,y=void 0!==d.selectable&&d.selectable(b),h=d.disabled||!y,k=function(e,n){d.onChange&&d.onChange({event:e,checked:n,value:d.value})},m=d.events&&d.events[i.onclick],g=d.events&&d.events[i.onkeydown]?d.events[i.onkeydown]:function(e){"Enter"!==e.key&&32!==e.keyCode||(e.preventDefault(),m?m(e):function(e){var n=!b;p(n),k(e,n)}(e))},C=o({},n.filterSupportedAttributes(d),d.testId&&{"data-test-id":d.testId},{className:[a.component,d.instanceClass,b?a.on:a.off,d.disabled?a.disabled:null,h?a.inactive:null,n.classForSize(a,d.size),"dark"===d.tone?"pe-dark-tone":null,"light"===d.tone?"pe-light-tone":null,d.className||d[i.class]].join(" ")}),w=c("label",o({},{className:a.formLabel},m&&t({},i.onclick,function(e){return e.preventDefault(),m(e)})),[c(s,o({},d,{inactive:h,checked:b,key:"control",events:t({},i.onkeydown,g)})),d.label?c(".".concat(a.label),{key:"label"},d.label):null,c("input",o({},d.events,{name:d.name,type:d.type,value:d.value,checked:b},d.disabled||h?{disabled:"disabled"}:t({},i.onchange,function(e){var n=e.currentTarget.checked;"radio"===d.type||p(n),k(e,n)})))]);return c(d.element||"div",C,w)},e._ViewControl=function(e){var n=e.h,t=e.Icon,r=e.IconButton,c=l(e,["h","Icon","IconButton"]),i=c.element||".".concat(a.box),s=n(r,o({},{element:"div",className:a.button,content:u.map(function(e){return n(t,function(e,n,t,l){return o({},{className:l,key:n},t[n]?t[n]:{svg:{content:e.trust(t.icons[n])}},t.icon,t.size?{size:t.size}:null)}(n,e.iconType,c,e.className))}),ripple:{center:!0},disabled:c.disabled,events:c.events,inactive:c.inactive},c.iconButton));return n(i,null,s)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-selection-control.js.map
