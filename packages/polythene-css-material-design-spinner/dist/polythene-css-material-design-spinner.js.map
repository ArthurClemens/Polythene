{"version":3,"file":"polythene-css-material-design-spinner.js","sources":["../src/vars.js","../../polythene-css-classes/material-design-spinner.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["/*\nDerived from https://github.com/PolymerElements/paper-spinner\n\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nimport { vars } from \"polythene-theme\";\nimport { vars as baseVars } from \"polythene-css-base-spinner\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n  \nconst arc_size =          270; // degrees - amount of circle the arc takes up\nconst arc_time =          1.333; // s - time it takes to expand and contract arc\nconst arc_start_degrees = 360/5 * 3; // degrees - how much the start location of the arc should rotate each time, 216 gives us a 5 pointed star shape (it\"s 360/5 * 3). For a 7 pointed star, we might do 360/7 * 3 = 154.286.\nconst rotation_duration = 360 * arc_time / (arc_start_degrees + (360 - arc_size)); // 1.568s\n\nconst blue400 =   \"#42a5f5\";\nconst red500 =    \"#f44336\";\nconst yellow600 = \"#fdd835\";\nconst green500 =  \"#4caf50\";\n\nexport default {\n  general_styles:       true,\n  \n  arc_size,\n  arc_start_degrees,\n  arc_time,\n  border_width_fab:     baseVars.size_fab / baseVars.size_regular * 3,\n  border_width_large:   baseVars.size_large / baseVars.size_regular * 3,\n  border_width_medium:  baseVars.size_medium / baseVars.size_regular * 3,\n  border_width_regular: 3,\n  border_width_small:   baseVars.size_small / baseVars.size_regular * 3,\n  rotation_duration,\n\n  color_light_single:   rgba(vars.color_primary),\n  color_light_1:        blue400,\n  color_light_2:        red500,\n  color_light_3:        yellow600,\n  color_light_4:        green500,\n  \n  color_dark_single:    rgba(vars.color_primary),\n  color_dark_1:         blue400,\n  color_dark_2:         red500,\n  color_dark_3:         yellow600,\n  color_dark_4:         green500,\n};\n","\nexport default {\n  component:          \"pe-md-spinner\",\n\n  // elements\n  animation:          \"pe-md-spinner__animation\",\n  circle:             \"pe-md-spinner__circle\",\n  circleClipper:      \"pe-md-spinner__circle-clipper\",\n  circleClipperLeft:  \"pe-md-spinner__circle-clipper-left\",\n  circleClipperRight: \"pe-md-spinner__circle-clipper-right\",\n  gapPatch:           \"pe-md-spinner__gap-patch\",\n  layer:              \"pe-md-spinner__layer\",\n  layerN:             \"pe-md-spinner__layer-\",\n};\n\n","/*\nDerived from https://github.com/PolymerElements/paper-spinner\n\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nimport { layout as baseSpinnerLayout } from \"polythene-css-base-spinner\";\nimport { mixin } from \"polythene-core-css\";\n\nconst OPACITY_MIN = 0;\nconst OPACITY_MAX = .99;\nconst CURVE_INFINITE = \"cubic-bezier(0.4, 0.0, 0.2, 1) infinite both\";\n\nconst kfRotate = () => ({\n  \" to\": {\n    transform: \"rotate(360deg)\"\n  }\n});\n\nconst kfLeftSpin = () => (kfSpin(1));\nconst kfRightSpin = () => (kfSpin(-1));\n\nconst kfSpin = (direction) => ({\n  \" from\": {\n    \"transform\": \"rotate(\" + (direction * 130) + \"deg)\"\n  },\n  \" 50%\": {\n    \"transform\": \"rotate(\" + (direction * -5) + \"deg)\"\n  },\n  \" to\": {\n    \"transform\": \"rotate(\" + (direction * 130) + \"deg)\"\n  }\n});\n\nconst kfFadeOut = () => ({\n  \" from\": {\n    opacity: OPACITY_MAX\n  },\n  \" to\": {\n    opacity: OPACITY_MIN\n  }\n});\n\nconst kfFillUnfillRotate = arcSize => ({\n  \" 12.5%\": {\n    transform: \"rotate(\" + (0.5 * arcSize) + \"deg)\"\n  },\n  \" 25%\": {\n    transform: \"rotate(\" + (1.0 * arcSize) + \"deg)\"\n  },\n  \" 37.5%\": {\n    transform: \"rotate(\" + (1.5 * arcSize) + \"deg)\"\n  },\n  \" 50%\": {\n    transform: \"rotate(\" + (2.0 * arcSize) + \"deg)\"\n  },\n  \" 62.5%\": {\n    transform: \"rotate(\" + (2.5 * arcSize) + \"deg)\"\n  },\n  \" 75%\": {\n    transform: \"rotate(\" + (3.0 * arcSize) + \"deg)\"\n  },\n  \" 87.5%\": {\n    transform: \"rotate(\" + (3.5 * arcSize) + \"deg)\"\n  },\n  \" to\": {\n    transform: \"rotate(\" + (4.0 * arcSize) + \"deg)\"\n  },\n});\n\n/**\n * HACK: Even though the intention is to have the current .pe-md-spinner__layer at\n * `opacity: 1`, we set it to `opacity: 0.99` instead since this forces Chrome\n * to do proper subpixel rendering for the elements being animated. This is\n * especially visible in Chrome 39 on Ubuntu 14.04. See:\n *\n * - https://github.com/Polymer/paper-spinner/issues/9\n * - https://code.google.com/p/chromium/issues/detail?id=436255\n */\nconst kfLayer1FadeInOut = () => ({\n  \" from\": {\n    opacity: OPACITY_MAX\n  },\n  \" 25%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 26%\": {\n    opacity: OPACITY_MIN\n  },\n  \" 89%\": {\n    opacity: OPACITY_MIN\n  },\n  \" 90%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 100%\": {\n    opacity: OPACITY_MAX\n  },\n});\n\nconst kfLayer2FadeInOut = () => ({\n  \" from\": {\n    opacity: OPACITY_MIN\n  },\n  \" 15%\": {\n    opacity: OPACITY_MIN\n  },\n  \" 25%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 50%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 51%\": {\n    opacity: OPACITY_MIN\n  }\n});\n\nconst kfLayer3FadeInOut = () => ({\n  \" from\": {\n    opacity: OPACITY_MIN\n  },\n  \" 40%\": {\n    opacity: OPACITY_MIN\n  },\n  \" 50%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 75%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 76%\": {\n    opacity: OPACITY_MIN\n  }\n});\n\nconst kfLayer4FadeInOut = () => ({\n  \" from\": {\n    opacity: OPACITY_MIN\n  },\n  \" 65%\": {\n    opacity: OPACITY_MIN\n  },\n  \" 75%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 90%\": {\n    opacity: OPACITY_MAX\n  },\n  \" 100%\": {\n    opacity: OPACITY_MIN\n  }\n});\n\nconst layerAnimation = (vars, num) => ({\n  [\".pe-md-spinner__layer-\" + num]: {\n    animation: \"mdSpinnerFillUnfillRotate \" + 4 * vars.arc_time + \"s \" + CURVE_INFINITE + \",  mdSpinnerLayer\" + num + \"FadeInOut \" + 4 * vars.arc_time + \"s \" + CURVE_INFINITE\n  }\n});\n\nconst sel = (selector, o) => ({\n  [selector]: o\n});\n\nconst varFns = {\n  general_styles: (selector, vars) => [\n    sel(selector, {\n      \"@keyframes mdSpinnerRotate\": kfRotate(),\n      \"@keyframes mdSpinnerRightSpin\": kfRightSpin(),\n      \"@keyframes mdSpinnerLeftSpin\": kfLeftSpin(),\n      \"@keyframes mdSpinnerFadeOut\": kfFadeOut(),\n      \"@keyframes mdSpinnerLayer1FadeInOut\": kfLayer1FadeInOut(),\n      \"@keyframes mdSpinnerLayer2FadeInOut\": kfLayer2FadeInOut(),\n      \"@keyframes mdSpinnerLayer3FadeInOut\": kfLayer3FadeInOut(),\n      \"@keyframes mdSpinnerLayer4FadeInOut\": kfLayer4FadeInOut(),\n\n      \" .pe-md-spinner__animation\": {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\",\n\n        /* The spinner does not have any contents that would have to be\n        * flipped if the direction changes. Always use ltr so that the\n        * style works out correctly in both cases. */\n        direction: \"ltr\"\n      },\n\n      /**\n      * Patch the gap that appear between the two adjacent div.pe-md-spinner__circle-clipper while the\n      * spinner is rotating (appears on Chrome 38, Safari 7.1, and IE 11).\n      *\n      * Update: the gap no longer appears on Chrome when .pe-md-spinner__layer\"s opacity is 0.99,\n      * but still does on Safari and IE.\n      */\n      \" .pe-md-spinner__gap-patch\": {\n        position: \"absolute\",\n        boxSizing: \"border-box\",\n        top: 0,\n        left: \"45%\",\n        width: \"10%\",\n        height: \"100%\",\n        overflow: \"hidden\",\n        borderColor: \"inherit\"\n      },\n\n      \" .pe-md-spinner__gap-patch .pe-md-spinner__circle\": {\n        width: \"1000%\",\n        left: \"-450%\"\n      },\n\n      \" .pe-md-spinner__circle-clipper\": {\n        display: \"inline-block\",\n        fontSize: 0,\n        lineHeight: 0,\n        position: \"relative\",\n        width: \"50%\",\n        height: \"100%\",\n        overflow: \"hidden\",\n        borderColor: \"inherit\"\n      },\n\n      \" .pe-md-spinner__circle-clipper .pe-md-spinner__circle\": {\n        width: \"200%\"\n      },\n\n      \" .pe-md-spinner__circle\": [\n        mixin.fit(),\n        {\n          animation: \"none\",\n          boxSizing: \"border-box\",\n          height: \"100%\",\n          borderStyle: \"solid\",\n          borderColor: \"inherit\",\n          borderRadius: \"50%\",\n          borderBottomColor: \"transparent !important\"\n        }\n      ],\n\n      \" .pe-md-spinner__circle-clipper-left .pe-md-spinner__circle\": {\n        transform: \"rotate(129deg)\",\n        borderRightColor: \"transparent !important\"\n      },\n\n      \" .pe-md-spinner__circle-clipper-right .pe-md-spinner__circle\": {\n        transform: \"rotate(-129deg)\",\n        left: \"-100%\",\n        borderLeftColor: \"transparent !important\"\n      },\n\n      /**\n      * IMPORTANT NOTE ABOUT CSS ANIMATION PROPERTIES (keanulee):\n      *\n      * iOS Safari (tested on iOS 8.1) does not handle animation-delay very well - it doesn\"t\n      * guarantee that the animation will start _exactly_ after that value. So we avoid using\n      * animation-delay and instead set custom keyframes for each color (as redundant as it\n      * seems).\n      *\n      * We write out each animation in full (instead of separating animation-name,\n      * animation-duration, etc.) because under the polyfill, Safari does not recognize those\n      * specific properties properly, treats them as -webkit-animation, and overrides the\n      * other animation rules. See https://github.com/Polymer/platform/issues/53.\n      */\n      \" .pe-md-spinner__layer\": [\n        [1,2,3,4].map(num => layerAnimation(vars, num)),\n        {\n          position: \"absolute\",\n          width: \"100%\",\n          height: \"100%\",\n          whiteSpace: \"nowrap\"\n        }\n      ],\n    })\n  ],\n  rotation_duration: (selector, vars) => [\n    sel(selector, {\n      \" .pe-md-spinner__animation\": {\n        animation: \"mdSpinnerRotate \" + vars.rotation_duration + \"s linear infinite\",\n      },\n    })\n  ],\n  border_width_small: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--small\": {\n        \" .pe-md-spinner__circle\": {\n          borderWidth: vars.border_width_small + \"px\"\n        }\n      }\n    })\n  ],\n  border_width_regular: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--regular\": {\n        \" .pe-md-spinner__circle\": {\n          borderWidth: vars.border_width_regular + \"px\"\n        }\n      }\n    })\n  ],\n  border_width_medium: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--medium\": {\n        \" .pe-md-spinner__circle\": {\n          borderWidth: vars.border_width_medium + \"px\"\n        }\n      }\n    })\n  ],\n  border_width_large: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--large\": {\n        \" .pe-md-spinner__circle\": {\n          borderWidth: vars.border_width_large + \"px\"\n        }\n      }\n    })\n  ],\n  border_width_fab: (selector, vars) => [\n    sel(selector, {\n      \".pe-spinner--fab\": {\n        \" .pe-md-spinner__circle\": {\n          borderWidth: vars.border_width_fab + \"px\"\n        }\n      }\n    })\n  ],\n  arc_size: (selector, vars) => [\n    sel(selector, {\n      \"@keyframes mdSpinnerFillUnfillRotate\": kfFillUnfillRotate(vars.arc_size),\n    })\n  ],\n  arc_time: (selector, vars) => [\n    sel(selector, {\n      \" .pe-md-spinner__circle-clipper-left .pe-md-spinner__circle\": {\n        animation: \"mdSpinnerLeftSpin \" + vars.arc_time + \"s \" + CURVE_INFINITE,\n      },\n      \" .pe-md-spinner__circle-clipper-right .pe-md-spinner__circle\": {\n        animation: \"mdSpinnerRightSpin \" + vars.arc_time + \"s \" + CURVE_INFINITE,\n      },\n      \" .pe-md-spinner__layer\": {\n        animation: \"mdSpinnerFillUnfillRotate \" + 4 * vars.arc_time + \"s \" + CURVE_INFINITE,\n      },\n    })\n  ],\n};\n\nexport default (selector, componentVars, customVars) => {\n  const allVars = {...componentVars, ...customVars};\n  const currentVars = customVars\n    ? customVars\n    : allVars;\n  return baseSpinnerLayout(selector, componentVars, customVars)\n    .concat(Object.keys(currentVars)\n      .map(v => (\n        varFns[v] !== undefined \n          ? varFns[v](selector, allVars)\n          : null\n      ))\n      .filter(s => s)\n    );\n};\n","import { color as baseSpinnerColor } from \"polythene-css-base-spinner\";\nimport { style as baseStyle } from \"polythene-css-base-spinner\";\n\n/*\nDerived from https://github.com/PolymerElements/paper-spinner\n\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nconst sel = (selector, o) => ({\n  [selector]: o\n});\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      \" .pe-md-spinner__layer\": {\n        borderColor: \"currentcolor\"\n      },\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint + \"_single\"]: (selector, vars) => [\n    sel(selector, {\n      color: vars[\"color_\" + tint + \"_single\"],\n    })\n  ],\n  [\"color_\" + tint + \"_1\"]: (selector, vars) => [\n    sel(selector, {\n      \":not(.pe-spinner--single-color)\": {\n        \" .pe-md-spinner__layer-1\": {\n          borderColor: vars[\"color_\" + tint + \"_1\"]\n        },\n      }\n    })\n  ],\n  [\"color_\" + tint + \"_2\"]: (selector, vars) => [\n    sel(selector, {\n      \":not(.pe-spinner--single-color)\": {\n        \" .pe-md-spinner__layer-2\": {\n          borderColor: vars[\"color_\" + tint + \"_2\"]\n        },\n      }\n    })\n  ],\n  [\"color_\" + tint + \"_3\"]: (selector, vars) => [\n    sel(selector, {\n      \":not(.pe-spinner--single-color)\": {\n        \" .pe-md-spinner__layer-3\": {\n          borderColor: vars[\"color_\" + tint + \"_3\"]\n        },\n      }\n    })\n  ],\n  [\"color_\" + tint + \"_4\"]: (selector, vars) => [\n    sel(selector, {\n      \":not(.pe-spinner--single-color)\": {\n        \" .pe-md-spinner__layer-4\": {\n          borderColor: vars[\"color_\" + tint + \"_4\"]\n        },\n      }\n    })\n  ],\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nconst createStyle = (selector, componentVars, customVars, tint) => {\n  const allVars = {...componentVars, ...customVars};\n  const currentVars = customVars\n    ? customVars\n    : allVars;\n  return Object.keys(currentVars).map(v => {\n    const varFns = tint === \"light\"\n      ? lightTintFns\n      : darkTintFns;\n    return varFns[v] !== undefined \n      ? varFns[v](selector, allVars)\n      : null;\n  }).filter(s => s);\n};\n\nconst style = (scopes, selector, componentVars, customVars, tint) => {\n  const selectors = scopes.map(s => s + selector).join(\",\");\n  return createStyle(selectors, componentVars, customVars, tint);\n};\n\nexport default (selector, componentVars, customVars) =>\n  baseSpinnerColor(selector, componentVars, customVars)\n    .concat([\n      baseStyle([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, customVars, \"dark\"), // has/inside dark tone\n      baseStyle([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, customVars, \"light\"), // normal, has/inside light tone\n      style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, customVars, \"dark\"), // has/inside dark tone\n      style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, customVars, \"light\"), // normal, has/inside light tone\n    ]);\n","import { styler } from \"polythene-core-css\";\nimport vars from \"./vars\";\nimport classes from \"polythene-css-classes/material-design-spinner\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nconst addStyle = (customSelector, customVars) => \n  styler.generateCustomStyles([customSelector, selector], vars, customVars, fns);\n\nconst getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createCustomStyleSheets([customSelector, selector], vars, customVars, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n\nexport { addStyle, getStyle, vars, layout, color };\n"],"names":["rgba","colorStr","opacity","arc_size","arc_time","arc_start_degrees","rotation_duration","blue400","red500","yellow600","green500","general_styles","border_width_fab","baseVars","size_fab","size_regular","border_width_large","size_large","border_width_medium","size_medium","border_width_regular","border_width_small","size_small","color_light_single","vars","color_primary","color_light_1","color_light_2","color_light_3","color_light_4","color_dark_single","color_dark_1","color_dark_2","color_dark_3","color_dark_4","component","animation","circle","circleClipper","circleClipperLeft","circleClipperRight","gapPatch","layer","layerN","OPACITY_MIN","OPACITY_MAX","CURVE_INFINITE","kfRotate","transform","kfLeftSpin","kfSpin","kfRightSpin","direction","kfFadeOut","kfFillUnfillRotate","arcSize","kfLayer1FadeInOut","kfLayer2FadeInOut","kfLayer3FadeInOut","kfLayer4FadeInOut","layerAnimation","num","sel","selector","o","varFns","position","width","height","boxSizing","top","left","overflow","borderColor","display","fontSize","lineHeight","mixin","fit","borderStyle","borderRadius","borderBottomColor","borderRightColor","borderLeftColor","map","whiteSpace","borderWidth","componentVars","customVars","allVars","currentVars","baseSpinnerLayout","concat","Object","keys","v","undefined","filter","s","generalFns","tintFns","tint","color","lightTintFns","_extends","darkTintFns","createStyle","style","scopes","selectors","join","baseSpinnerColor","baseStyle","fns","layout","classes","addStyle","customSelector","styler","generateCustomStyles","getStyle","createCustomStyleSheets","createStyleSheets","generateStyles"],"mappings":"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"}