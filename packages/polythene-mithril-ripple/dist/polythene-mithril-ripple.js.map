{"version":3,"file":"polythene-mithril-ripple.js","sources":["../../polythene-mithril-base/dist/polythene-mithril-base.mjs","../../polythene-core/dist/polythene-core.mjs","../../polythene-style/dist/polythene-style.mjs","../../polythene-core-ripple/dist/polythene-core-ripple.mjs","../src/index.js"],"sourcesContent":["import m from 'mithril';\n\nconst keys = {\n  autocomplete: \"autocomplete\",\n  autofocus: \"autofocus\",\n  class: \"class\",\n  className: \"class\",\n  enctype: \"enctype\",\n  formaction: \"formaction\",\n  frameborder: \"frameborder\",\n  maxlength: \"maxlength\",\n  minlength: \"minlength\",\n  onblur: \"onblur\",\n  onchange: \"onchange\",\n  onclick: \"onclick\",\n  onfocus: \"onfocus\",\n  oninput: \"oninput\",\n  onkeydown: \"onkeydown\",\n  onkeyup: \"onkeyup\",\n  onmousedown: \"onmousedown\",\n  onmouseout: \"onmouseout\",\n  onmouseover: \"onmouseover\",\n  onmouseup: \"onmouseup\",\n  onscroll: \"onscroll\",\n  onsubmit: \"onsubmit\",\n  ontouchend: \"ontouchend\",\n  ontouchmove: \"ontouchmove\",\n  ontouchstart: \"ontouchstart\",\n  readonly: \"readonly\",\n  tabindex: \"tabindex\"\n};\n\nconst renderer = m;\nrenderer.displayName = \"mithril\";\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar stream = createCommonjsModule(function (module) {\n(function() {\n/* eslint-enable */\n\nvar guid = 0, HALT = {};\nfunction createStream() {\n\tfunction stream() {\n\t\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0]);\n\t\treturn stream._state.value\n\t}\n\tinitStream(stream);\n\n\tif (arguments.length > 0 && arguments[0] !== HALT) updateStream(stream, arguments[0]);\n\n\treturn stream\n}\nfunction initStream(stream) {\n\tstream.constructor = createStream;\n\tstream._state = {id: guid++, value: undefined, state: 0, derive: undefined, recover: undefined, deps: {}, parents: [], endStream: undefined, unregister: undefined};\n\tstream.map = stream[\"fantasy-land/map\"] = map, stream[\"fantasy-land/ap\"] = ap, stream[\"fantasy-land/of\"] = createStream;\n\tstream.valueOf = valueOf, stream.toJSON = toJSON, stream.toString = valueOf;\n\n\tObject.defineProperties(stream, {\n\t\tend: {get: function() {\n\t\t\tif (!stream._state.endStream) {\n\t\t\t\tvar endStream = createStream();\n\t\t\t\tendStream.map(function(value) {\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\tunregisterStream(stream);\n\t\t\t\t\t\tendStream._state.unregister = function(){unregisterStream(endStream);};\n\t\t\t\t\t}\n\t\t\t\t\treturn value\n\t\t\t\t});\n\t\t\t\tstream._state.endStream = endStream;\n\t\t\t}\n\t\t\treturn stream._state.endStream\n\t\t}}\n\t});\n}\nfunction updateStream(stream, value) {\n\tupdateState(stream, value);\n\tfor (var id in stream._state.deps) updateDependency(stream._state.deps[id], false);\n\tif (stream._state.unregister != null) stream._state.unregister();\n\tfinalize(stream);\n}\nfunction updateState(stream, value) {\n\tstream._state.value = value;\n\tstream._state.changed = true;\n\tif (stream._state.state !== 2) stream._state.state = 1;\n}\nfunction updateDependency(stream, mustSync) {\n\tvar state = stream._state, parents = state.parents;\n\tif (parents.length > 0 && parents.every(active) && (mustSync || parents.some(changed))) {\n\t\tvar value = stream._state.derive();\n\t\tif (value === HALT) return false\n\t\tupdateState(stream, value);\n\t}\n}\nfunction finalize(stream) {\n\tstream._state.changed = false;\n\tfor (var id in stream._state.deps) stream._state.deps[id]._state.changed = false;\n}\n\nfunction combine(fn, streams) {\n\tif (!streams.every(valid)) throw new Error(\"Ensure that each item passed to stream.combine/stream.merge is a stream\")\n\treturn initDependency(createStream(), streams, function() {\n\t\treturn fn.apply(this, streams.concat([streams.filter(changed)]))\n\t})\n}\n\nfunction initDependency(dep, streams, derive) {\n\tvar state = dep._state;\n\tstate.derive = derive;\n\tstate.parents = streams.filter(notEnded);\n\n\tregisterDependency(dep, state.parents);\n\tupdateDependency(dep, true);\n\n\treturn dep\n}\nfunction registerDependency(stream, parents) {\n\tfor (var i = 0; i < parents.length; i++) {\n\t\tparents[i]._state.deps[stream._state.id] = stream;\n\t\tregisterDependency(stream, parents[i]._state.parents);\n\t}\n}\nfunction unregisterStream(stream) {\n\tfor (var i = 0; i < stream._state.parents.length; i++) {\n\t\tvar parent = stream._state.parents[i];\n\t\tdelete parent._state.deps[stream._state.id];\n\t}\n\tfor (var id in stream._state.deps) {\n\t\tvar dependent = stream._state.deps[id];\n\t\tvar index = dependent._state.parents.indexOf(stream);\n\t\tif (index > -1) dependent._state.parents.splice(index, 1);\n\t}\n\tstream._state.state = 2; //ended\n\tstream._state.deps = {};\n}\n\nfunction map(fn) {return combine(function(stream) {return fn(stream())}, [this])}\nfunction ap(stream) {return combine(function(s1, s2) {return s1()(s2())}, [stream, this])}\nfunction valueOf() {return this._state.value}\nfunction toJSON() {return this._state.value != null && typeof this._state.value.toJSON === \"function\" ? this._state.value.toJSON() : this._state.value}\n\nfunction valid(stream) {return stream._state }\nfunction active(stream) {return stream._state.state === 1}\nfunction changed(stream) {return stream._state.changed}\nfunction notEnded(stream) {return stream._state.state !== 2}\n\nfunction merge(streams) {\n\treturn combine(function() {\n\t\treturn streams.map(function(s) {return s()})\n\t}, streams)\n}\n\nfunction scan(reducer, seed, stream) {\n\tvar newStream = combine(function (s) {\n\t\treturn seed = reducer(seed, s._state.value)\n\t}, [stream]);\n\n\tif (newStream._state.state === 0) newStream(seed);\n\n\treturn newStream\n}\n\nfunction scanMerge(tuples, seed) {\n\tvar streams = tuples.map(function(tuple) {\n\t\tvar stream = tuple[0];\n\t\tif (stream._state.state === 0) stream(undefined);\n\t\treturn stream\n\t});\n\n\tvar newStream = combine(function() {\n\t\tvar changed = arguments[arguments.length - 1];\n\n\t\tstreams.forEach(function(stream, idx) {\n\t\t\tif (changed.indexOf(stream) > -1) {\n\t\t\t\tseed = tuples[idx][1](seed, stream._state.value);\n\t\t\t}\n\t\t});\n\n\t\treturn seed\n\t}, streams);\n\n\treturn newStream\n}\n\ncreateStream[\"fantasy-land/of\"] = createStream;\ncreateStream.merge = merge;\ncreateStream.combine = combine;\ncreateStream.scan = scan;\ncreateStream.scanMerge = scanMerge;\ncreateStream.HALT = HALT;\n\nmodule[\"exports\"] = createStream;\n\n}());\n});\n\nvar stream$1 = stream;\n\nconst requiresKeys = false;\nconst StateComponent = ({\n  createContent = () => {},\n  createProps = () => {},\n  component = null,\n  getElement = () => \"div\",\n  getInitialState = () => ({}),\n  onMount = () => {},\n  onUnMount = () => {},\n  onUpdate = () => {},\n  view = null\n}) => {\n  const oninit = vnode => {\n    const protoState = Object.assign({}, vnode);\n    const initialState = getInitialState(protoState, stream$1, {\n      keys\n    });\n    Object.assign(vnode.state, initialState);\n    vnode._mounted = false;\n    vnode.state.redrawOnUpdate && vnode.state.redrawOnUpdate.map(() => vnode._mounted && setTimeout(renderer.redraw(true)));\n  };\n\n  const oncreate = vnode => {\n    vnode._mounted = true;\n    onMount(vnode, {\n      keys\n    });\n  };\n\n  const render = vnode => {\n    return renderer(component || getElement(vnode), createProps(vnode, {\n      renderer,\n      requiresKeys,\n      keys\n    }), [vnode.attrs.before, createContent(vnode, {\n      renderer,\n      requiresKeys,\n      keys\n    }), vnode.attrs.after]);\n  };\n\n  return {\n    view: view ? vnode => view(vnode, {\n      render,\n      renderer\n    }) : vnode => render(vnode),\n    oninit,\n    oncreate,\n    onremove: onUnMount,\n    onupdate: onUpdate\n  };\n};\n\nconst requiresKeys$1 = false;\nconst ViewComponent = ({\n  createContent = () => {},\n  createProps = () => {},\n  getElement = () => \"div\",\n  component = null,\n  view = null,\n  onMount = () => {},\n  onUnMount = () => {}\n}) => {\n  const render = vnode => renderer(component || getElement(vnode), createProps(vnode, {\n    renderer,\n    requiresKeys: requiresKeys$1,\n    keys\n  }), [vnode.attrs.before, createContent(vnode, {\n    renderer,\n    requiresKeys: requiresKeys$1,\n    keys\n  }), vnode.attrs.after]);\n\n  return {\n    view: view ? vnode => view(vnode, {\n      render,\n      renderer\n    }) : vnode => render(vnode),\n    oncreate: vnode => onMount(vnode, {\n      keys\n    }),\n    onremove: onUnMount\n  };\n};\n\nexport { keys, renderer, StateComponent, ViewComponent };\n","const isClient = typeof document !== \"undefined\";\nconst isServer = !isClient;\n\nconst evts = {\n  \"animation\": \"animationend\",\n  \"OAnimation\": \"oAnimationEnd\",\n  \"MozAnimation\": \"animationend\",\n  \"WebkitAnimation\": \"webkitAnimationEnd\"\n};\nconst getAnimationEndEvent = () => {\n  if (isClient) {\n    const el = document.createElement(\"fakeelement\");\n\n    for (let a in evts) {\n      if (el.style[a] !== undefined) {\n        return evts[a];\n      }\n    }\n  }\n};\n\nconst modes = {\n  hidden: \"hidden\",\n  visible: \"visible\",\n  exposing: \"exposing\",\n  hiding: \"hiding\"\n};\nconst Conditional = {\n  getInitialState: (vnode, createStream) => {\n    const attrs = vnode.attrs;\n\n    if (!attrs.didHide) {\n      return {};\n    }\n\n    const visible = attrs.permanent || attrs.show;\n    const mode = createStream(attrs.permanent ? modes.visible : visible ? modes.visible : modes.hidden);\n    return {\n      mode,\n      redrawOnUpdate: createStream.merge([mode])\n    };\n  },\n  onUpdate: ({\n    state,\n    attrs\n  }) => {\n    if (!attrs.didHide) {\n      return;\n    }\n\n    const mode = state.mode();\n\n    if (attrs.permanent) {\n      if (mode === modes.visible && attrs.show) {\n        state.mode(modes.exposing);\n      } else if (mode === modes.exposing && !attrs.show) {\n        state.mode(modes.hiding);\n      }\n    } else {\n      // \"normal\" type\n      if (mode === modes.hidden && attrs.show) {\n        state.mode(modes.visible);\n      } else if (mode === modes.visible && !attrs.show) {\n        state.mode(modes.hiding);\n      }\n    }\n  },\n  view: ({\n    state,\n    attrs\n  }, {\n    renderer: h\n  }) => {\n    const placeholder = h(\"span\", {\n      className: attrs.placeholderClassName\n    }); // No didHide callback passed: use normal visibility evaluation\n\n    if (!attrs.didHide) {\n      return attrs.permanent || attrs.inactive || attrs.show ? h(attrs.instance, attrs) : placeholder;\n    } // else: use didHide to reset the state after hiding\n\n\n    const mode = state.mode();\n    const visible = mode !== modes.hidden;\n    return visible ? h(attrs.instance, Object.assign({}, attrs, {\n      didHide: args => (attrs.didHide(args), state.mode(attrs.permanent ? modes.visible : modes.hidden))\n    }, mode === modes.hiding && {\n      show: true,\n      hide: true\n    })) : placeholder;\n  }\n};\nConditional.displayName = \"Conditional\";\n\nconst r = (acc, p) => (acc[p] = 1, acc);\n/* \nSeparately handled props:\n- class\n- element\n*/\n\n\nconst defaultAttrs = [// Universal\n\"key\", \"style\", \"href\", \"id\", // React\n\"tabIndex\", // Mithril\n\"tabindex\", \"oninit\", \"oncreate\", \"onupdate\", \"onbeforeremove\", \"onremove\", \"onbeforeupdate\"];\nconst filterSupportedAttributes = (attrs, {\n  add: addAttrs = [],\n  remove: removeAttrs = []\n} = {}) => {\n  const removeLookup = removeAttrs.reduce(r, {});\n  const supported = defaultAttrs.concat(addAttrs).filter(item => !removeLookup[item]).reduce(r, {});\n  return Object.keys(attrs).reduce((acc, key) => (supported[key] ? acc[key] = attrs[key] : null, acc), {});\n};\nconst unpackAttrs = attrs => typeof attrs === \"function\" ? attrs() : attrs;\n\nconst sizeClasses = classes => ({\n  small: classes.small,\n  regular: classes.regular,\n  medium: classes.medium,\n  large: classes.large,\n  fab: classes.fab\n});\n\nconst classForSize = (classes, size = \"regular\") => sizeClasses(classes)[size];\n\nconst isTouch = isServer ? false : \"ontouchstart\" in document.documentElement;\nconst pointerStartEvent = isTouch ? [\"touchstart\", \"click\"] : [\"click\"];\nconst pointerEndEvent = isTouch ? [\"click\", \"mouseup\"] : [\"mouseup\"];\nconst pointerStartMoveEvent = isTouch ? [\"touchstart\", \"mousedown\"] : [\"mousedown\"];\nconst pointerMoveEvent = isTouch ? [\"touchmove\", \"mousemove\"] : [\"mousemove\"];\nconst pointerEndMoveEvent = isTouch ? [\"touchend\", \"mouseup\"] : [\"mouseup\"];\n\nif (isClient) {\n  document.querySelector(\"html\").classList.add(isTouch ? \"pe-touch\" : \"pe-no-touch\");\n}\n\nconst listeners = {}; // https://gist.github.com/Eartz/fe651f2fadcc11444549\n\nconst throttle = (func, s = 0.05, context = isClient ? window : {}) => {\n  let wait = false;\n  return (...args) => {\n    const later = () => func.apply(context, args);\n\n    if (!wait) {\n      later();\n      wait = true;\n      setTimeout(() => wait = false, s);\n    }\n  };\n};\nconst subscribe = (eventName, listener, delay) => {\n  listeners[eventName] = listeners[eventName] || [];\n  listeners[eventName].push(delay ? throttle(listener, delay) : listener);\n};\nconst unsubscribe = (eventName, listener) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n\n  const index = listeners[eventName].indexOf(listener);\n\n  if (index > -1) {\n    listeners[eventName].splice(index, 1);\n  }\n};\nconst emit = (eventName, event) => {\n  if (!listeners[eventName]) {\n    return;\n  }\n\n  listeners[eventName].forEach(listener => listener(event));\n};\n\nif (isClient) {\n  window.addEventListener(\"resize\", e => emit(\"resize\", e));\n  window.addEventListener(\"scroll\", e => emit(\"scroll\", e));\n  window.addEventListener(\"keydown\", e => emit(\"keydown\", e));\n  window.addEventListener(pointerEndEvent, e => emit(pointerEndEvent, e));\n}\n\n/*\nHelper module to manage multiple items of the same component type.\n*/\nconst Multi = ({\n  options: mOptions,\n  renderer\n}) => {\n  const items = []; // This is shared between all instances of a type (Dialog, Notification, ...)\n\n  let current;\n\n  const getInitialState = (vnode, createStream) => {\n    current = createStream(null);\n    return {\n      current,\n      redrawOnUpdate: createStream.merge([current])\n    };\n  };\n  /*\n  @param e: { id, eventName }\n  */\n\n\n  const onChange = e => {\n    if (!current) {\n      console.error(\"Cannot set state. Did you set a root element like Dialog to show instances?\"); // eslint-disable-line no-console\n    }\n\n    current(e.id);\n    emit(mOptions.name, e);\n  };\n\n  const itemIndex = id => {\n    const item = findItem(id);\n    return items.indexOf(item);\n  };\n\n  const removeItem = id => {\n    const index = itemIndex(id);\n\n    if (index !== -1) {\n      items.splice(index, 1);\n      onChange({\n        id,\n        name: \"removeItem\"\n      });\n    }\n  };\n\n  const replaceItem = (id, newItem) => {\n    const index = itemIndex(id);\n\n    if (index !== -1) {\n      items[index] = newItem;\n    }\n  };\n\n  const findItem = id => {\n    // traditional for loop for IE10\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].instanceId === id) {\n        return items[i];\n      }\n    }\n  };\n\n  const next = () => {\n    if (items.length) {\n      items[0].show = true;\n    }\n\n    onChange({\n      id: items.length ? items[0].instanceId : null,\n      name: \"next\"\n    });\n  };\n\n  const remove = (instanceId = mOptions.defaultId) => {\n    if (mOptions.queue) {\n      items.shift();\n      next();\n    } else {\n      removeItem(instanceId);\n    }\n  };\n\n  const removeAll = () => {\n    items.length = 0;\n    onChange({\n      id: null,\n      name: \"removeAll\"\n    });\n  };\n\n  const setPauseState = (pause, instanceId) => {\n    const item = findItem(instanceId);\n\n    if (item) {\n      item.pause = pause;\n      item.unpause = !pause;\n      onChange({\n        id: instanceId,\n        name: pause ? \"pause\" : \"unpause\"\n      });\n    }\n  };\n\n  const createItem = (itemAttrs, instanceId, spawn) => {\n    let resolveShow;\n    let resolveHide;\n    const attrs = unpackAttrs(itemAttrs);\n\n    const didShow = () => {\n      if (attrs.didShow) {\n        attrs.didShow(instanceId);\n      }\n\n      onChange({\n        id: instanceId,\n        name: \"didShow\"\n      });\n      return resolveShow(instanceId);\n    };\n\n    const showPromise = new Promise(resolve => resolveShow = resolve);\n\n    const didHide = () => {\n      if (attrs.didHide) {\n        attrs.didHide(instanceId);\n      }\n\n      onChange({\n        id: instanceId,\n        name: \"didHide\"\n      });\n      remove(instanceId);\n      return resolveHide(instanceId);\n    };\n\n    const hidePromise = new Promise(resolve => resolveHide = resolve);\n    return Object.assign({}, mOptions, {\n      instanceId,\n      spawn,\n      attrs: itemAttrs,\n      show: mOptions.queue ? false : true,\n      showPromise,\n      hidePromise,\n      didShow,\n      didHide\n    });\n  };\n\n  const count = () => items.length;\n\n  const pause = (instanceId = mOptions.defaultId) => setPauseState(true, instanceId);\n\n  const unpause = (instanceId = mOptions.defaultId) => setPauseState(false, instanceId);\n\n  const show = (attrs = {}, spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const spawn = spawnOpts.spawn || mOptions.defaultId;\n    const item = createItem(attrs, instanceId, spawn);\n    onChange({\n      id: instanceId,\n      name: \"show\"\n    });\n\n    if (mOptions.queue) {\n      items.push(item);\n\n      if (items.length === 1) {\n        next();\n      }\n    } else {\n      const storedItem = findItem(instanceId);\n\n      if (!storedItem) {\n        items.push(item);\n      } else {\n        replaceItem(instanceId, item);\n      }\n    }\n\n    return item.showPromise;\n  };\n\n  const hide = (spawnOpts = {}) => {\n    const instanceId = spawnOpts.id || mOptions.defaultId;\n    const item = mOptions.queue && items.length ? items[0] : findItem(instanceId);\n\n    if (item) {\n      item.hide = true;\n    }\n\n    onChange({\n      id: instanceId,\n      name: \"hide\"\n    });\n    return item ? item.hidePromise : Promise.resolve(instanceId);\n  };\n\n  const clear = removeAll;\n\n  const view = ({\n    attrs\n  }) => {\n    const spawn = attrs.spawn || mOptions.defaultId;\n    const candidates = items.filter(item => item.show && item.spawn === spawn);\n\n    if (mOptions.htmlShowClass && isClient && document.documentElement) {\n      document.documentElement.classList[candidates.length ? \"add\" : \"remove\"](mOptions.htmlShowClass);\n    }\n\n    return !candidates.length ? renderer(mOptions.placeholder) // placeholder because we cannot return null\n    : renderer(mOptions.holderSelector, {\n      className: attrs.position === \"container\" ? \"pe-multiple--container\" : \"pe-multiple--screen\"\n    }, candidates.map(itemData => {\n      return renderer(mOptions.instance, Object.assign({}, {\n        fromMultipleClassName: mOptions.className,\n        fromMultipleClear: clear,\n        fromMultipleDidHide: itemData.didHide,\n        fromMultipleDidShow: itemData.didShow,\n        hide: itemData.hide,\n        holderSelector: mOptions.holderSelector,\n        instanceId: itemData.instanceId,\n        key: itemData.key,\n        pause: itemData.pause,\n        show: itemData.show,\n        spawnId: spawn,\n        transitions: mOptions.transitions,\n        unpause: itemData.unpause\n      }, unpackAttrs(itemData.attrs)));\n    }));\n  };\n\n  return {\n    clear,\n    count,\n    getInitialState,\n    hide,\n    pause,\n    remove,\n    show,\n    unpause,\n    view\n  };\n};\nMulti.displayName = \"Multi\";\n\nconst getStyle = ({\n  element,\n  selector,\n  pseudoSelector,\n  prop\n}) => {\n  const el = selector ? element.querySelector(selector) : element;\n\n  if (!el) {\n    return;\n  }\n\n  return el.currentStyle ? el.currentStyle[prop] : window.getComputedStyle ? document.defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop) : null;\n};\nconst stylePropCompare = ({\n  element,\n  selector,\n  pseudoSelector,\n  prop,\n  equals,\n  contains\n}) => {\n  const el = selector ? element.querySelector(selector) : element;\n\n  if (!el) {\n    return false;\n  }\n\n  if (equals !== undefined) {\n    return equals === document.defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop);\n  }\n\n  if (contains !== undefined) {\n    return document.defaultView.getComputedStyle(el, pseudoSelector).getPropertyValue(prop).indexOf(contains) !== -1;\n  }\n};\nconst isRTL = ({\n  element = document,\n  selector\n}) => stylePropCompare({\n  element,\n  selector,\n  prop: \"direction\",\n  equals: \"rtl\"\n});\nconst styleDurationToMs = durationStr => {\n  const parsed = parseFloat(durationStr) * (durationStr.indexOf(\"ms\") === -1 ? 1000 : 1);\n  return isNaN(parsed) ? 0 : parsed;\n};\n\n/*\nGeneric show/hide transition module\n*/\n\nconst DEFAULT_DURATION = .240;\nconst DEFAULT_DELAY = 0; // const TRANSITION =    \"both\";\n// See: transition\n\nconst show = opts => transition(opts, \"show\");\nconst hide = opts => transition(opts, \"hide\");\n/*\nopts:\n- el\n- duration\n- delay\n- showClass\n- transitionClass\n- before\n- show\n- hide\n- after\n- timingFunction\n\n- state (show, hide)\n*/\n\nconst transition = (opts, state) => {\n  const el = opts.el;\n\n  if (!el) {\n    return Promise.resolve();\n  } else {\n    return new Promise(resolve => {\n      const style = el.style;\n      const computedStyle = isClient ? window.getComputedStyle(el) : {};\n      const duration = opts.hasDuration ? opts.duration * 1000.0 : styleDurationToMs(computedStyle.transitionDuration);\n      const delay = opts.hasDelay ? opts.delay * 1000.0 : styleDurationToMs(computedStyle.transitionDelay);\n      const timingFunction = opts.timingFunction || computedStyle.transitionTimingFunction;\n\n      if (opts.transitionClass) {\n        const transitionClassElement = opts.transitionClassElement || el;\n        transitionClassElement.classList.add(opts.transitionClass);\n      }\n\n      const before = () => {\n        style.transitionDuration = \"0ms\";\n        style.transitionDelay = \"0ms\";\n        opts.before();\n      };\n\n      const maybeBefore = opts.before && state === \"show\" ? before : opts.before && state === \"hide\" ? before : null;\n      const after = opts.after ? () => opts.after() : null;\n\n      const applyTransition = () => {\n        style.transitionDuration = duration + \"ms\";\n        style.transitionDelay = delay + \"ms\";\n\n        if (timingFunction) {\n          style.transitionTimingFunction = timingFunction;\n        }\n\n        if (opts.showClass) {\n          const showClassElement = opts.showClassElement || el;\n          showClassElement.classList[state === \"show\" ? \"add\" : \"remove\"](opts.showClass);\n        }\n\n        if (opts.transition) {\n          opts.transition();\n        }\n      };\n\n      const doTransition = () => {\n        applyTransition();\n        setTimeout(() => {\n          if (after) {\n            after();\n          }\n\n          if (opts.transitionClass) {\n            const transitionClassElement = opts.transitionClassElement || el;\n            transitionClassElement.classList.remove(opts.transitionClass);\n            el.offsetHeight; // force reflow\n          }\n\n          resolve();\n        }, duration + delay);\n      };\n\n      const maybeDelayTransition = () => {\n        if (duration === 0) {\n          doTransition();\n        } else {\n          setTimeout(doTransition, 0);\n        }\n      };\n\n      if (maybeBefore) {\n        maybeBefore();\n        el.offsetHeight; // force reflow\n\n        setTimeout(() => {\n          maybeDelayTransition();\n        }, 0);\n      } else {\n        maybeDelayTransition();\n      }\n    });\n  }\n};\n\nconst transitionComponent = ({\n  isShow,\n  state,\n  attrs,\n  domElements,\n  beforeTransition,\n  afterTransition,\n  showClass,\n  transitionClass\n}) => {\n  if (state.transitioning()) {\n    return Promise.resolve();\n  }\n\n  state.transitioning(true);\n  state.visible(isShow ? true : false);\n\n  if (beforeTransition) {\n    beforeTransition();\n  }\n\n  const duration = attrs[isShow ? \"showDuration\" : \"hideDuration\"];\n  const delay = attrs[isShow ? \"showDelay\" : \"hideDelay\"];\n  const timingFunction = attrs[isShow ? \"showTimingFunction\" : \"hideTimingFunction\"];\n  const transitions = attrs.transitions;\n  const fn = isShow ? show : hide;\n  const opts1 = Object.assign({}, attrs, domElements, {\n    showClass,\n    transitionClass,\n    duration,\n    delay,\n    timingFunction\n  });\n  const opts2 = Object.assign({}, opts1, transitions && transitions[isShow ? \"show\" : \"hide\"](opts1));\n  const opts3 = Object.assign({}, opts2, {\n    duration: opts2.duration !== undefined ? opts2.duration : DEFAULT_DURATION,\n    hasDuration: opts2.duration !== undefined,\n    delay: opts2.delay !== undefined ? opts2.delay : DEFAULT_DELAY,\n    hasDelay: opts2.delay !== undefined\n  });\n  return fn(opts3).then(() => {\n    const id = state.instanceId;\n\n    if (attrs[isShow ? \"fromMultipleDidShow\" : \"fromMultipleDidHide\"]) {\n      attrs[isShow ? \"fromMultipleDidShow\" : \"fromMultipleDidHide\"](id); // when used with Multiple; this will call attrs.didShow / attrs.didHide\n    } else if (attrs[isShow ? \"didShow\" : \"didHide\"]) {\n      attrs[isShow ? \"didShow\" : \"didHide\"](id); // when used directly\n    }\n\n    if (afterTransition) {\n      afterTransition();\n    }\n\n    state.transitioning(false);\n  });\n};\n\nconst deprecation = (component, {\n  option,\n  newOption,\n  newComponent\n}) => (option && console.warn(`${component}: option '${option}' is deprecated and will be removed in later versions. Use '${newOption}' instead.`), // eslint-disable-line no-console\nnewComponent && !newOption && console.warn(`${component}: this component is deprecated and will be removed in later versions. Use '${newComponent}' instead.`), // eslint-disable-line no-console\nnewComponent && newOption && console.warn(`${component}: this component is deprecated and will be removed in later versions. Use '${newComponent}' with option '${newOption}' instead.`) // eslint-disable-line no-console\n);\n\nconst iconDropdownUp = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"dd-up-svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M7 14l5-5 5 5z\\\"/></svg>\";\nconst iconDropdownDown = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"dd-down-svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M7 10l5 5 5-5z\\\"/></svg>\";\n\nexport { getAnimationEndEvent, Conditional, filterSupportedAttributes, unpackAttrs, classForSize, isClient, isServer, isTouch, pointerStartEvent, pointerEndEvent, pointerStartMoveEvent, pointerMoveEvent, pointerEndMoveEvent, Multi, show, hide, transitionComponent, throttle, subscribe, unsubscribe, emit, getStyle, stylePropCompare, isRTL, styleDurationToMs, deprecation, iconDropdownUp, iconDropdownDown };\n","// Global style variables\nconst grid_unit = 4;\nconst grid_unit_component = 8;\nconst increment = 7 * grid_unit_component; // 7 * 8 = 56\n\nconst increment_large = 8 * grid_unit_component; // 8 * 8 = 64\n\nconst animation_curve_slow_in_fast_out = \"cubic-bezier(.4, 0, .2, 1)\";\nconst animation_curve_slow_in_linear_out = \"cubic-bezier(0, 0, .2, 1)\";\nconst animation_curve_linear_in_fast_out = \"cubic-bezier(.4, 0, 1, 1)\";\nconst vars = {\n  // grid\n  grid_unit,\n  grid_unit_component,\n  increment,\n  increment_large,\n  grid_unit_menu: 56,\n  grid_unit_icon_button: 6 * grid_unit_component,\n  // 48\n  // common sizes\n  unit_block_border_radius: 4,\n  unit_item_border_radius: 4,\n  unit_indent: 72,\n  unit_side_padding: 16,\n  // buttons\n  unit_touch_height: 48,\n  unit_icon_size_small: 2 * grid_unit_component,\n  // 16\n  unit_icon_size: 3 * grid_unit_component,\n  // 24\n  unit_icon_size_medium: 4 * grid_unit_component,\n  // 32\n  unit_icon_size_large: 5 * grid_unit_component,\n  // 40\n  // screen dimensions\n  unit_screen_size_extra_large: 1280,\n  unit_screen_size_large: 960,\n  unit_screen_size_medium: 480,\n  unit_screen_size_small: 320,\n  // transitions\n  animation_duration: \".18s\",\n  animation_curve_slow_in_fast_out,\n  animation_curve_slow_in_linear_out,\n  animation_curve_linear_in_fast_out,\n  animation_curve_default: \"ease-out\",\n  // font\n  font_weight_light: 300,\n  font_weight_normal: 400,\n  font_weight_medium: 500,\n  font_weight_bold: 700,\n  font_size_title: 20,\n  line_height: 1.5,\n  // base colors\n  color_primary: \"33, 150, 243\",\n  // blue 500\n  color_primary_active: \"30, 136, 229\",\n  // blue 600\n  color_primary_dark: \"25, 118, 210\",\n  // blue 700\n  color_primary_faded: \"100, 181, 249\",\n  // blue 300\n  color_primary_foreground: \"255, 255, 255\",\n  color_light_background: \"255, 255, 255\",\n  color_light_foreground: \"0, 0, 0\",\n  color_dark_background: \"34, 34, 34\",\n  color_dark_foreground: \"255, 255, 255\",\n  // blends\n  blend_light_text_primary: .87,\n  blend_light_text_regular: .73,\n  blend_light_text_secondary: .54,\n  blend_light_text_tertiary: .40,\n  blend_light_text_disabled: .26,\n  blend_light_border_medium: .24,\n  blend_light_border_light: .11,\n  blend_light_background_active: .14,\n  blend_light_background_hover: .06,\n  blend_light_background_hover_medium: .12,\n  // for the lighter tinted icon buttons\n  blend_light_background_disabled: .09,\n  blend_light_overlay_background: .3,\n  blend_dark_text_primary: 1,\n  blend_dark_text_regular: .87,\n  blend_dark_text_secondary: .70,\n  blend_dark_text_tertiary: .40,\n  blend_dark_text_disabled: .26,\n  blend_dark_border_medium: .22,\n  blend_dark_border_light: .10,\n  blend_dark_background_active: .14,\n  blend_dark_background_hover: .08,\n  blend_dark_background_hoverMedium: .12,\n  // for the lighter tinted icon buttons\n  blend_dark_background_disabled: .12,\n  blend_dark_overlay_background: .3,\n\n  /*\n  Breakpoints\n  Specs: https://material.io/guidelines/layout/responsive-ui.html#responsive-ui-breakpoints\n  Breakbpoint naming: inspiration from\n  https://medium.freecodecamp.org/the-100-correct-way-to-do-css-breakpoints-88d6a5ba1862\n  */\n  breakpoint_for_phone_only: 599,\n  // set max-width  cols: 4,  gutter: 16\n  breakpoint_for_tablet_portrait_up: 600,\n  // set min-width  cols: 8,  gutter: 24\n  breakpoint_for_tablet_landscape_up: 840,\n  // etc.           cols: 12, gutter: 24\n  breakpoint_for_desktop_up: 1280,\n  breakpoint_for_big_desktop_up: 1600,\n  breakpoint_for_tv_up: 1920,\n  // z-index\n  z_toolbar: 100,\n  z_menu: 1000,\n  z_app_bar: 2000,\n  z_drawer: 3000,\n  z_notification: 4000,\n  z_dialog: 5000\n};\n\nexport { vars };\n","import { isTouch, getAnimationEndEvent, isServer, pointerEndEvent, filterSupportedAttributes } from 'polythene-core';\nimport { vars } from 'polythene-theme';\n\nconst ANIMATION_END_EVENT = getAnimationEndEvent();\nconst DEFAULT_START_OPACITY = 0.2;\nconst DEFAULT_END_OPACITY = 0.0;\nconst DEFAULT_START_SCALE = 0.1;\nconst DEFAULT_END_SCALE = 2.0;\nconst OPACITY_DECAY_VELOCITY = 0.35;\n\nconst addStyleToHead = (id, stylesheet) => {\n  if (isServer) return;\n  const documentRef = window.document;\n  const styleEl = documentRef.createElement(\"style\");\n  styleEl.setAttribute(\"id\", id);\n  styleEl.appendChild(documentRef.createTextNode(stylesheet));\n  documentRef.head.appendChild(styleEl);\n};\n\nconst removeStyleFromHead = id => {\n  if (isServer) return;\n  const el = document.getElementById(id);\n\n  if (el && el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n};\n\nvar animation = (({\n  e,\n  id,\n  el,\n  attrs,\n  classes\n}) => {\n  return new Promise(resolve => {\n    const container = document.createElement(\"div\");\n    container.setAttribute(\"class\", classes.mask);\n    el.appendChild(container);\n    const waves = document.createElement(\"div\");\n    waves.setAttribute(\"class\", classes.waves);\n    container.appendChild(waves);\n    const rect = el.getBoundingClientRect();\n    const x = isTouch && e.touches ? e.touches[0].pageX : e.clientX;\n    const y = isTouch && e.touches ? e.touches[0].pageY : e.clientY;\n    const w = el.offsetWidth;\n    const h = el.offsetHeight;\n    const waveRadius = Math.sqrt(w * w + h * h);\n    const mx = attrs.center ? rect.left + rect.width / 2 : x;\n    const my = attrs.center ? rect.top + rect.height / 2 : y;\n    const rx = mx - rect.left - waveRadius / 2;\n    const ry = my - rect.top - waveRadius / 2;\n    const startOpacity = attrs.startOpacity !== undefined ? attrs.startOpacity : DEFAULT_START_OPACITY;\n    const opacityDecayVelocity = attrs.opacityDecayVelocity !== undefined ? attrs.opacityDecayVelocity : OPACITY_DECAY_VELOCITY;\n    const endOpacity = attrs.endOpacity || DEFAULT_END_OPACITY;\n    const startScale = attrs.startScale || DEFAULT_START_SCALE;\n    const endScale = attrs.endScale || DEFAULT_END_SCALE;\n    const duration = attrs.duration ? attrs.duration : 1 / opacityDecayVelocity * 0.2;\n    const color = window.getComputedStyle(el).color;\n    const style = waves.style;\n    style.width = style.height = waveRadius + \"px\";\n    style.top = ry + \"px\";\n    style.left = rx + \"px\";\n    style[\"animation-duration\"] = style[\"-webkit-animation-duration\"] = style[\"-moz-animation-duration\"] = style[\"-o-animation-duration\"] = duration + \"s\";\n    style.backgroundColor = color;\n    style.opacity = startOpacity;\n    style.animationName = id;\n    style.animationTimingFunction = attrs.animationTimingFunction || vars.animation_curve_default;\n    const rippleStyleSheet = `@keyframes ${id} {\n      0% {\n        transform:scale(${startScale});\n        opacity: ${startOpacity}\n      }\n      100% {\n        transform:scale(${endScale});\n        opacity: ${endOpacity};\n      }\n    }`;\n    addStyleToHead(id, rippleStyleSheet);\n\n    const animationDone = evt => {\n      removeStyleFromHead(id);\n      waves.removeEventListener(ANIMATION_END_EVENT, animationDone, false);\n\n      if (attrs.persistent) {\n        style.opacity = endOpacity;\n        style.transform = \"scale(\" + endScale + \")\";\n      } else {\n        waves.classList.remove(classes.wavesAnimating);\n        container.removeChild(waves);\n        el.removeChild(container);\n      }\n\n      resolve(evt);\n    };\n\n    waves.addEventListener(ANIMATION_END_EVENT, animationDone, false);\n    waves.classList.add(classes.wavesAnimating);\n  });\n});\n\nvar classes = {\n  component: \"pe-ripple\",\n  // elements\n  mask: \"pe-ripple__mask\",\n  waves: \"pe-ripple__waves\",\n  // states\n  unconstrained: \"pe-ripple--unconstrained\",\n  wavesAnimating: \"pe-ripple__waves--animating\"\n};\n\nconst getElement = vnode => vnode.attrs.element || \"div\";\nconst getInitialState = () => {\n  return {\n    animations: {},\n    animating: false,\n    cleanUp: undefined\n  };\n};\nconst createProps = (vnode, {\n  keys: k\n}) => {\n  const attrs = vnode.attrs;\n  return Object.assign({}, filterSupportedAttributes(attrs), {\n    className: [classes.component, attrs.unconstrained ? classes.unconstrained : null, attrs.tone === \"dark\" ? \"pe-dark-tone\" : null, attrs.tone === \"light\" ? \"pe-light-tone\" : null, attrs.className || attrs[k.class]].join(\" \")\n  });\n};\n\nconst updateAnimationState = state => state.animating = Object.keys(state.animations).length > 0;\n\nconst onMount = vnode => {\n  if (!vnode.dom) {\n    return;\n  }\n\n  if (isServer) {\n    return;\n  }\n\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n\n  const tap = e => {\n    if (attrs.disabled || !attrs.multi && state.animating) {\n      return;\n    }\n\n    if (attrs.start) {\n      attrs.start(e);\n    }\n\n    const id = `ripple_animation_${new Date().getTime()}`;\n    state.animations[id] = animation({\n      e,\n      id,\n      el: vnode.dom,\n      attrs,\n      classes\n    }).then(evt => {\n      if (attrs.end) {\n        attrs.end(evt);\n      }\n\n      delete state.animations[id];\n      updateAnimationState(state);\n    });\n    updateAnimationState(state);\n  };\n\n  const triggerEl = attrs.target ? attrs.target : vnode.dom && vnode.dom.parentElement;\n\n  if (triggerEl) {\n    pointerEndEvent.forEach(evt => triggerEl.addEventListener(evt, tap, false));\n  }\n\n  state.cleanUp = () => {\n    if (triggerEl) {\n      pointerEndEvent.forEach(evt => triggerEl.removeEventListener(evt, tap, false));\n    }\n  };\n};\nconst onUnMount = ({\n  state\n}) => state.cleanUp && state.cleanUp();\n\nvar ripple = /*#__PURE__*/Object.freeze({\n  getElement: getElement,\n  getInitialState: getInitialState,\n  createProps: createProps,\n  onMount: onMount,\n  onUnMount: onUnMount\n});\n\nexport { ripple as coreRipple };\n","import { StateComponent } from \"polythene-mithril-base\";\nimport { coreRipple as core } from \"polythene-core-ripple\";\n\nexport const Ripple = StateComponent(core);\n\nRipple.displayName = \"Ripple\";\n"],"names":["keys","autocomplete","autofocus","class","className","enctype","formaction","frameborder","maxlength","minlength","onblur","onchange","onclick","onfocus","oninput","onkeydown","onkeyup","onmousedown","onmouseout","onmouseover","onmouseup","onscroll","onsubmit","ontouchend","ontouchmove","ontouchstart","readonly","tabindex","renderer","m","displayName","module","stream$1","guid","HALT","createStream","stream","arguments","length","updateStream","_state","value","constructor","id","undefined","state","derive","recover","deps","parents","endStream","unregister","map","ap","valueOf","toJSON","toString","Object","defineProperties","end","get","unregisterStream","initStream","updateState","updateDependency","changed","finalize","mustSync","every","active","some","combine","fn","streams","valid","Error","dep","filter","notEnded","registerDependency","i","initDependency","apply","this","concat","dependent","index","indexOf","splice","s1","s2","merge","s","scan","reducer","seed","newStream","scanMerge","tuples","tuple","forEach","idx","exports","isClient","document","isServer","evts","r","acc","p","defaultAttrs","isTouch","documentElement","pointerEndEvent","querySelector","classList","add","listeners","emit","eventName","event","listener","window","addEventListener","e","vars","ANIMATION_END_EVENT","el","createElement","a","style","getAnimationEndEvent","animation","attrs","classes","Promise","resolve","container","setAttribute","mask","appendChild","waves","rect","getBoundingClientRect","x","touches","pageX","clientX","y","pageY","clientY","w","offsetWidth","h","offsetHeight","waveRadius","Math","sqrt","mx","center","left","width","my","top","height","rx","ry","startOpacity","opacityDecayVelocity","endOpacity","startScale","endScale","duration","color","getComputedStyle","backgroundColor","opacity","animationName","animationTimingFunction","stylesheet","documentRef","styleEl","createTextNode","head","addStyleToHead","animationDone","evt","getElementById","parentNode","removeChild","removeStyleFromHead","removeEventListener","persistent","transform","remove","wavesAnimating","component","unconstrained","updateAnimationState","animating","animations","Ripple","createContent","createProps","getElement","getInitialState","onMount","onUnMount","onUpdate","view","render","vnode","requiresKeys","before","after","oninit","protoState","assign","initialState","_mounted","redrawOnUpdate","setTimeout","redraw","oncreate","onremove","onupdate","StateComponent","freeze","element","cleanUp","k","addAttrs","removeAttrs","removeLookup","reduce","supported","item","key","filterSupportedAttributes","tone","join","dom","tap","disabled","multi","start","Date","getTime","then","triggerEl","target","parentElement"],"mappings":"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"}