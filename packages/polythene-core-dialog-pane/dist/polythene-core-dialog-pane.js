!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("polythene-core")):"function"==typeof define&&define.amd?define(["exports","polythene-core"],t):t((e=e||self).polythene={},e["polythene-core"])}(this,function(e,t){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function n(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)o=l[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)o=l[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],n=!0,r=!1,l=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l={component:"pe-dialog-pane",actions:"pe-dialog-pane__actions",body:"pe-dialog-pane__body",content:"pe-dialog-pane__content",footer:"pe-dialog-pane__footer",header:"pe-dialog-pane__header",title:"pe-dialog-pane__title",withHeader:"pe-dialog-pane--header",withFooter:"pe-dialog-pane--footer",headerWithTitle:"pe-dialog-pane__header--title",footerWithButtons:"pe-dialog-pane__footer--buttons",footerHigh:"pe-dialog-pane__footer--high",borderBottom:"pe-dialog-pane--border-bottom",borderTop:"pe-dialog-pane--border-top",fullBleed:"pe-dialog-pane--body-full-bleed"},a={component:"pe-text-button",super:"pe-button",row:"pe-button-row",content:"pe-button__content",label:"pe-button__label",textLabel:"pe-button__text-label",wash:"pe-button__wash",dropdown:"pe-button__dropdown",border:"pe-button--border",contained:"pe-button--contained",disabled:"pe-button--disabled",dropdownClosed:"pe-button--dropdown-closed",dropdownOpen:"pe-button--dropdown-open",extraWide:"pe-button--extra-wide",hasDropdown:"pe-button--dropdown",focus:"pe-button--focus",highLabel:"pe-button--high-label",inactive:"pe-button--inactive",raised:"pe-button--raised",selected:"pe-button--selected",separatorAtStart:"pe-button--separator-start"};e._DialogPane=function(e){var i=e.h,u=e.a,d=e.useState,p=e.useEffect,c=e.useRef,s=e.getRef,f=n(e,["h","a","useState","useEffect","useRef","getRef"]),b=t.unpackAttrs(f),h=r(d(),2),y=h[0],g=h[1],v=r(d(!1),2),m=v[0],_=v[1],w=r(d(!1),2),O=w[0],j=w[1],x=r(d(!1),2),B=x[0],S=x[1],N=c(),T=c(),k=c(),P=c(),A=function(){var e=k.current;e&&(j(e.scrollTop>0),S(e.scrollHeight-(e.scrollTop+e.getBoundingClientRect().height)>0))};p(function(){y&&(N.current=y.querySelector(".".concat(l.header)),T.current=y.querySelector(".".concat(l.footer)),k.current=y.querySelector(".".concat(l.body)))},[y]),p(function(){if(k.current){var e=function(){A()};return t.subscribe("resize",e),function(){t.unsubscribe("resize",e)}}},[k.current]),p(function(){A()},[k.current,m]);var R,W,q,E=void 0!==b.header||void 0!==b.title,H=void 0!==b.footer||void 0!==b.footerButtons,I=b.borders||"overflow",C="always"===I||E&&"overflow"===I&&O,z="always"===I||H&&"overflow"===I&&B,D=o({},t.filterSupportedAttributes(b,{remove:["style"]}),b.testId&&{"data-test-id":b.testId},s(function(e){return e&&!y&&(g(e),b.ref&&b.ref(e))}),{className:[l.component,b.fullBleed?l.fullBleed:null,C?l.borderTop:null,z?l.borderBottom:null,E?l.withHeader:null,H?l.withFooter:null,"dark"===b.tone?"pe-dark-tone":null,"light"===b.tone?"pe-light-tone":null,b.className||b[u.class]].join(" ")},b.formOptions),F=i("div",{className:[l.content,b.menu?l.menuContent:null].join(" "),style:b.style},[b.header?b.header:b.title?i("div",{className:[l.header,l.headerWithTitle].join(" "),key:"title"},i("div",{className:l.title},b.title)):null,i("div",(R={className:l.body,key:"body"},W=u.onscroll,q=function(){_(!0),clearTimeout(P.current),P.current=setTimeout(function(){_(!1)},50)},W in R?Object.defineProperty(R,W,{value:q,enumerable:!0,configurable:!0,writable:!0}):R[W]=q,R),b.content||b.body||b.menu),b.footer?i("div",{className:l.footer,key:"footer"},b.footer):b.footerButtons?i("div",{className:[l.footer,l.footerWithButtons,a.row].join(" "),key:"footer"},i("div",{className:l.actions},b.footerButtons)):null]),L=[b.before,F,b.after];return i(b.element||"form",D,L)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-dialog-pane.js.map
