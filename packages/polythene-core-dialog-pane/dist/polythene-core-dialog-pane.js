!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("polythene-core")):"function"==typeof define&&define.amd?define(["exports","polythene-core"],o):o((e=e||self).polythene={},e["polythene-core"])}(this,function(e,o){"use strict";var t={component:"pe-dialog-pane",actions:"pe-dialog-pane__actions",body:"pe-dialog-pane__body",content:"pe-dialog-pane__content",footer:"pe-dialog-pane__footer",header:"pe-dialog-pane__header",title:"pe-dialog-pane__title",withHeader:"pe-dialog-pane--header",withFooter:"pe-dialog-pane--footer",headerWithTitle:"pe-dialog-pane__header--title",footerWithButtons:"pe-dialog-pane__footer--buttons",footerHigh:"pe-dialog-pane__footer--high",borderBottom:"pe-dialog-pane--border-bottom",borderTop:"pe-dialog-pane--border-top",fullBleed:"pe-dialog-pane--body-full-bleed"},l={component:"pe-text-button",super:"pe-button",row:"pe-button-row",content:"pe-button__content",label:"pe-button__label",textLabel:"pe-button__text-label",wash:"pe-button__wash",dropdown:"pe-button__dropdown",border:"pe-button--border",contained:"pe-button--contained",disabled:"pe-button--disabled",dropdownClosed:"pe-button--dropdown-closed",dropdownOpen:"pe-button--dropdown-open",extraWide:"pe-button--extra-wide",hasDropdown:"pe-button--dropdown",highLabel:"pe-button--high-label",inactive:"pe-button--inactive",raised:"pe-button--raised",selected:"pe-button--selected",separatorAtStart:"pe-button--separator-start"};const n=e=>{const o=e.state,t=o.scrollEl();t&&(o.topOverflow(t.scrollTop>0),o.bottomOverflow(t.scrollHeight-(t.scrollTop+t.getBoundingClientRect().height)>0))};var r=Object.freeze({getElement:e=>e.attrs.element||"form",getInitialState:(e,o)=>{const t=o(!1),l=o(null),n=o(null),r=o(!1),a=o(null),d=o(!1);return{cleanUp:void 0,bottomOverflow:t,el:o(null),footerEl:l,headerEl:n,isScrolling:r,scrollEl:a,scrollWatchId:void 0,topOverflow:d,redrawOnUpdate:o.merge([d,t,r])}},onMount:e=>{if(!e.dom)return;const l=e.dom,r=e.state;r.el(l),r.scrollEl(l.querySelector(`.${t.body}`)),r.footerEl(l.querySelector(`.${t.footer}`)),r.headerEl(l.querySelector(`.${t.header}`)),r.isScrolling.map(()=>n(e));const a=()=>{n(e)};r.cleanUp=(()=>o.unsubscribe("resize",a)),o.subscribe("resize",a),a()},onUnMount:e=>e.state.cleanUp(),createProps:(e,{keys:l})=>{const n=e.state,r=o.unpackAttrs(e.attrs),a=void 0!==r.header||void 0!==r.title,d=void 0!==r.footer||void 0!==r.footerButtons,i=r.borders||"overflow",s="always"===i||a&&"overflow"===i&&n.topOverflow(),p="always"===i||d&&"overflow"===i&&n.bottomOverflow();return Object.assign({},o.filterSupportedAttributes(r,{remove:["style"]}),{className:[t.component,r.fullBleed?t.fullBleed:null,s?t.borderTop:null,p?t.borderBottom:null,a?t.withHeader:null,d?t.withFooter:null,"dark"===r.tone?"pe-dark-tone":null,"light"===r.tone?"pe-light-tone":null,r.className||r[l.class]].join(" ")},r.formOptions)},createContent:(e,{renderer:n,keys:r})=>{const a=e.state,d=o.unpackAttrs(e.attrs);return n("div",{className:[t.content,d.menu?t.menuContent:null].join(" "),style:d.style},[d.header?d.header:d.title?n("div",{className:[t.header,t.headerWithTitle].join(" "),key:"title"},n("div",{className:t.title},d.title)):null,n("div",{className:t.body,key:"body",[r.onscroll]:()=>{a.isScrolling(!0),clearTimeout(a.scrollWatchId),a.scrollWatchId=setTimeout(()=>{a.isScrolling(!1)},150)}},d.content||d.body||d.menu),d.footer?n("div",{className:t.footer,key:"footer"},d.footer):d.footerButtons?n("div",{className:[t.footer,t.footerWithButtons,l.row].join(" "),key:"footer"},n("div",{className:t.actions},d.footerButtons)):null])}});e.coreDialogPane=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polythene-core-dialog-pane.js.map
