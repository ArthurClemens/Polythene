{"version":3,"file":"polythene-css-icon-button.js","sources":["../src/color.js","../src/layout.js","../src/vars.js","../src/index.js","../../polythene-css-classes/icon-button.js"],"sourcesContent":["// @ts-check\n\nimport { sel, createColor } from \"polythene-core-css\";\n\nconst generalFns = ({\n  general_styles: selector => [\n    sel(selector, {\n      \".pe-button--focus, &.pe-button--selected\": {\n        \" .pe-button__focus\": {\n          backgroundColor: \"currentcolor\"\n        }\n      },\n    })\n  ],\n});\n\nconst tintFns = tint => ({\n  [\"color_\" + tint]: (selector, vars) => [\n    sel(selector, {\n      \"&, .pe-icon-button__label\": {\n        color: vars[\"color_\" + tint],\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_background\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": { \n        backgroundColor: vars[\"color_\" + tint + \"_background\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_wash_opacity\"]: (selector, vars) => [\n    sel(selector, {\n      opacity: vars[\"color_\" + tint + \"_wash_opacity\"]\n    })\n  ],\n  [\"color_\" + tint + \"_focus_opacity\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-button--focus, &.pe-button--selected\": {\n        \" .pe-button__focus\": {\n          opacity: vars[\"color_\" + tint + \"_focus_opacity\"],\n        }\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_disabled\"]: (selector, vars) => [\n    sel(selector, {\n      \".pe-button--disabled\": {\n        \" .pe-button__content, .pe-icon-button__label\": {\n          color: vars[\"color_\" + tint + \"_disabled\"]\n        }\n      }\n    })\n  ],\n});\n\nconst hoverTintFns = tint => ({\n  [\"color_\" + tint + \"_hover\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": { \n        color: vars[\"color_\" + tint + \"_hover\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_label_hover\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        color: vars[\"color_\" + tint + \"_label_hover\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_background_hover\"]: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": { \n        backgroundColor: vars[\"color_\" + tint + \"_background_hover\"]\n      },\n    })\n  ],\n  [\"color_\" + tint + \"_wash_background\"]: (selector, vars) => [\n    sel(selector, {\n      \":not(.pe-button--disabled):not(.pe-button--selected)\": {\n        \" .pe-button__wash\": {\n          backgroundColor: vars[\"color_\" + tint + \"_wash_background\"]\n        },\n      }\n    })\n  ],\n});\n\nconst lightTintFns = Object.assign({}, generalFns, tintFns(\"light\"));\nconst darkTintFns = Object.assign({}, generalFns, tintFns(\"dark\"));\n\nconst lightTintHoverFns = hoverTintFns(\"light\");\nconst darkTintHoverFns = hoverTintFns(\"dark\");\n\nexport default createColor({\n  varFns: { lightTintFns, darkTintFns, lightTintHoverFns, darkTintHoverFns }\n});\n","// @ts-check\n\nimport { mixin, sel, selectorRTL, createLayout } from \"polythene-core-css\";\n\nconst alignSide = isRTL => vars => ({}); // eslint-disable-line no-unused-vars\nconst alignLeft = alignSide(false);\nconst alignRight = alignSide(true);\n\nconst label_padding_before = (selector, vars, isRTL) =>\n  sel(selector, {\n    \" .pe-icon-button__label\": {\n      [isRTL ? \"paddingRight\" : \"paddingLeft\"]: vars.label_padding_before + \"px\",\n    }\n  });\n\nconst label_padding_after = (selector, vars, isRTL) =>\n  sel(selector, {\n    \" .pe-icon-button__label\": {\n      [isRTL ? \"paddingLeft\" : \"paddingRight\"]: vars.label_padding_after + \"px\",\n    }\n  });\n\nconst varFns = {\n  general_styles: (selector, vars) => [\n    sel(selector, [\n      alignLeft(vars),\n      {\n        // don't set button size to facilitate different icon sizes\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        border: \"none\",\n\n        \" .pe-button__content\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          fontSize: \"1rem\",\n          borderRadius: \"50%\",\n          position: \"relative\",\n        },\n\n        \" .pe-icon-button__content\": {\n          lineHeight: 1,\n          borderRadius: \"50%\",\n          pointerEvents: \"none\"\n        },\n      },\n      {\n        // RTL\n        [`*[dir=rtl] ${selector}, .pe-rtl ${selector}`]: [\n          alignRight(vars)\n        ],\n      }\n    ])\n  ],\n  padding: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__content\": {\n        padding: vars.padding + \"px\",\n      },\n    }),\n  ],\n  padding_compact: (selector, vars) => [\n    sel(selector, {\n      \".pe-icon-button--compact\": {\n        \" .pe-icon-button__content\": {\n          padding: vars.padding_compact + \"px\"\n        }\n      },\n    }),\n  ],\n  animation_duration: (selector, vars) => [\n    sel(selector, {\n      \" .pe-button__content, .pe-button__wash\": [\n        mixin.defaultTransition(\"all\", vars.animation_duration)\n      ],\n    }),\n  ],\n  label_font_size: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        fontSize: vars.label_font_size + \"px\",\n      }\n    }),\n  ],\n  label_line_height: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        lineHeight: vars.label_line_height + \"px\",\n      }\n    }),\n  ],\n  label_font_weight: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        fontWeight: vars.label_font_weight,\n      }\n    }),\n  ],\n  label_text_transform: (selector, vars) => [\n    sel(selector, {\n      \" .pe-icon-button__label\": {\n        textTransform: vars.label_text_transform,\n      }\n    }),\n  ],\n  label_padding_after: (selector, vars) => [\n    sel(selector, {\n    }),\n    label_padding_after(selector, vars, false),\n    label_padding_after(selectorRTL(selector), vars, true),\n  ],\n  label_padding_before: (selector, vars) => [\n    sel(selector, {\n    }),\n    label_padding_before(selector, vars, false),\n    label_padding_before(selectorRTL(selector), vars, true),\n  ],\n};\n\nexport default createLayout({ varFns });\n","// @ts-check\n\n/**\n * @typedef {import(\"../index\").IconButtonVars} IconButtonVars\n */\n\nimport { rgba } from \"polythene-core-css\";\nimport { vars } from \"polythene-theme\";\n\n/**\n * @type {IconButtonVars} iconButtonVars\n */\nconst iconButtonVars = {\n  /**\n   * Generate general styles, not defined by variables\n   */\n  general_styles:            true,\n\n  animation_duration:        vars.animation_duration,\n  label_font_size:           16,\n  label_font_weight:         400,\n  label_line_height:         20,\n  label_padding_after:       0,\n  label_padding_before:      vars.grid_unit * 1, // 4\n  label_text_transform:      \"initial\",\n  label_top_margin_factor:   1/12, // align with icon\n  padding:                   (vars.grid_unit_icon_button - vars.unit_icon_size) / 2, // 12\n  padding_compact:           (vars.grid_unit_icon_button - vars.unit_icon_size) / 3, // 8\n\n  color_background:          \"transparent\", // only specify this variable to get all 2 states\n  // theme specific background colors may be set in theme; disabled by default\n  // color_light_background:    \"none\",\n  // color_dark_background:     \"none\",\n  // color_light_hover:         \"inherit\",\n  // color_dark_hover:          \"inherit\",\n  // color_light_label_hover:   \"inherit\",\n  // color_dark_label_hover:    \"inherit\",\n\n  color_light:                          rgba(vars.color_light_foreground, vars.blend_light_text_secondary),               \n  color_light_label:                    rgba(vars.color_light_foreground, vars.blend_light_text_secondary),\n  color_light_disabled:                 rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_focus_opacity:            vars.blend_light_background_hover_medium,\n  color_light_wash_background:          rgba(vars.color_light_foreground, vars.blend_light_background_hover),\n\n  color_dark:                           rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_label:                     rgba(vars.color_dark_foreground, vars.blend_dark_text_secondary),\n  color_dark_disabled:                  rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_focus_opacity:             vars.blend_dark_background_hover_medium,\n  color_dark_wash_background:           rgba(vars.color_dark_foreground, vars.blend_dark_background_hover),\n\n  // hover colors may be set in theme; disabled by default\n\n  // color_light_background_hover:         \"currentColor\",\n  // color_dark_background_hover:          \"currentColor\",\n};\n\nexport default iconButtonVars;\n","// @ts-check\n\nimport classes from \"polythene-css-classes/icon-button\";\nimport color from \"./color\";\nimport layout from \"./layout\";\nimport vars from \"./vars\";\nimport { styler } from \"polythene-core-css\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nconst addStyle = styler.createAddStyle(selector, fns, vars);\n\nconst getStyle = styler.createGetStyle(selector, fns, vars);\n\nstyler.addStyle({\n  selectors: [selector],\n  fns,\n  vars\n});\n\nexport {\n  addStyle,\n  getStyle,\n  color,\n  layout,\n  vars,\n};\n","\nexport default {\n  component: \"pe-button pe-icon-button\",\n\n  // elements\n  content:   \"pe-icon-button__content\",\n  label:     \"pe-icon-button__label\",\n\n  // states\n  compact:   \"pe-icon-button--compact\",\n};\n"],"names":["generalFns","general_styles","selector","sel","backgroundColor","tintFns","tint","vars","color","opacity","hoverTintFns","lightTintFns","_extends","darkTintFns","lightTintHoverFns","darkTintHoverFns","createColor","varFns","alignLeft","alignRight","label_padding_before","isRTL","label_padding_after","display","alignItems","cursor","border","fontSize","borderRadius","position","lineHeight","pointerEvents","padding","padding_compact","animation_duration","mixin","defaultTransition","label_font_size","label_line_height","label_font_weight","fontWeight","label_text_transform","textTransform","selectorRTL","createLayout","iconButtonVars","grid_unit","label_top_margin_factor","grid_unit_icon_button","unit_icon_size","color_background","color_light","rgba","color_light_foreground","blend_light_text_secondary","color_light_label","color_light_disabled","blend_light_text_disabled","color_light_focus_opacity","blend_light_background_hover_medium","color_light_wash_background","blend_light_background_hover","color_dark","color_dark_foreground","blend_dark_text_secondary","color_dark_label","color_dark_disabled","blend_dark_text_disabled","color_dark_focus_opacity","blend_dark_background_hover_medium","color_dark_wash_background","blend_dark_background_hover","fns","layout","replace","addStyle","styler","createAddStyle","getStyle","createGetStyle","selectors"],"mappings":"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"}